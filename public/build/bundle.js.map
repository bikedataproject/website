{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte-navigator/src/utils.js","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-navigator/src/contexts.js","../../node_modules/svelte-navigator/src/paths.js","../../node_modules/svelte-navigator/src/warning.js","../../node_modules/svelte-navigator/src/routes.js","../../node_modules/svelte-navigator/src/history.js","../../node_modules/svelte-navigator/src/a11y.js","../../node_modules/svelte-navigator/src/Router.svelte","../../node_modules/svelte-navigator/src/hooks.js","../../node_modules/svelte-navigator/src/Route.svelte","../../node_modules/svelte-navigator/src/Link.svelte","../../node_modules/sveltestrap/src/utils.js","../../node_modules/sveltestrap/src/transitions.js","../../node_modules/sveltestrap/src/Button.svelte","../../node_modules/sveltestrap/src/Col.svelte","../../node_modules/sveltestrap/src/Container.svelte","../../node_modules/sveltestrap/src/FormCheck.svelte","../../node_modules/sveltestrap/src/FormFeedback.svelte","../../node_modules/sveltestrap/src/FormGroup.svelte","../../node_modules/sveltestrap/src/InlineContainer.svelte","../../node_modules/sveltestrap/src/Input.svelte","../../node_modules/sveltestrap/src/Label.svelte","../../node_modules/sveltestrap/src/ModalBackdrop.svelte","../../node_modules/sveltestrap/src/ModalBody.svelte","../../node_modules/sveltestrap/src/ModalHeader.svelte","../../node_modules/sveltestrap/src/Portal.svelte","../../node_modules/sveltestrap/src/Modal.svelte","../../node_modules/sveltestrap/src/Row.svelte","../../node_modules/deepmerge/dist/cjs.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/error.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/types.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js","../../node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js","../../node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js","../../node_modules/@formatjs/icu-skeleton-parser/lib/number.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/parser.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/index.js","../../node_modules/@formatjs/fast-memoize/lib/index.js","../../node_modules/intl-messageformat/lib/src/error.js","../../node_modules/intl-messageformat/lib/src/formatters.js","../../node_modules/intl-messageformat/lib/src/core.js","../../node_modules/intl-messageformat/lib/index.js","../../node_modules/svelte-i18n/dist/runtime.esm.js","../../src/components/Footer.svelte","../../src/components/Navbar.svelte","../../src/components/Header.svelte","../../src/views/about/About.svelte","../../src/views/faq/Question.svelte","../../src/views/faq/Faq.svelte","../../src/views/datamap/Data.svelte","../../src/views/home/Data.svelte","../../src/views/home/Head.svelte","../../src/views/home/Help.svelte","../../src/views/home/Newsletter.svelte","../../src/views/home/OpenData.svelte","../../src/views/home/Partners.svelte","../../src/views/home/Power.svelte","../../src/integrations/Gpx.svelte","../../src/components/modals/MessageManager.ts","../../src/components/modals/Message.svelte","../../src/apis/identity/fitbit/FitbitIdentityApi.ts","../../src/apis/identity/IdentityApi.ts","../../node_modules/strict-uri-encode/index.js","../../node_modules/decode-uri-component/index.js","../../node_modules/split-on-first/index.js","../../node_modules/filter-obj/index.js","../../node_modules/query-string/index.js","../../src/integrations/Fitbit.svelte","../../src/views/home/Share.svelte","../../src/views/home/Home.svelte","../../src/App.svelte","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.44.0' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","/*\n * Adapted from https://github.com/reach/router/blob/b60e6dd781d5d3a4bdaaf4de665649c0f6a7e78d/src/lib/utils.js\n *\n * https://github.com/reach/router/blob/master/LICENSE\n */\n\nexport const isUndefined = value => typeof value === \"undefined\";\n\nexport const isFunction = value => typeof value === \"function\";\n\nexport const isNumber = value => typeof value === \"number\";\n\n/**\n * Decides whether a given `event` should result in a navigation or not.\n * @param {object} event\n */\nexport function shouldNavigate(event) {\n\treturn (\n\t\t!event.defaultPrevented &&\n\t\tevent.button === 0 &&\n\t\t!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)\n\t);\n}\n\nexport function createCounter() {\n\tlet i = 0;\n\t/**\n\t * Returns an id and increments the internal state\n\t * @returns {number}\n\t */\n\treturn () => i++;\n}\n\n/**\n * Create a globally unique id\n *\n * @returns {string} An id\n */\nexport function createGlobalId() {\n\treturn Math.random().toString(36).substring(2);\n}\n\nexport function findClosest(tagName, element) {\n\twhile (element && element.tagName !== tagName) {\n\t\t// eslint-disable-next-line no-param-reassign\n\t\telement = element.parentNode;\n\t}\n\treturn element;\n}\n\nexport const isSSR = typeof window === \"undefined\";\n\nexport function addListener(target, type, handler) {\n\ttarget.addEventListener(type, handler);\n\treturn () => target.removeEventListener(type, handler);\n}\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","/*\n * Adapted from https://github.com/EmilTholin/svelte-routing\n *\n * https://github.com/EmilTholin/svelte-routing/blob/master/LICENSE\n */\n\nconst createKey = ctxName => `@@svnav-ctx__${ctxName}`;\n\n// Use strings instead of objects, so different versions of\n// svelte-navigator can potentially still work together\nexport const LOCATION = createKey(\"LOCATION\");\nexport const ROUTER = createKey(\"ROUTER\");\nexport const ROUTE = createKey(\"ROUTE\");\nexport const ROUTE_PARAMS = createKey(\"ROUTE_PARAMS\");\nexport const FOCUS_ELEM = createKey(\"FOCUS_ELEM\");\n","export const paramRegex = /^:(.+)/;\n\n/**\n * Check if `string` starts with `search`\n * @param {string} string\n * @param {string} search\n * @return {boolean}\n */\nexport const startsWith = (string, search) =>\n\tstring.substr(0, search.length) === search;\n\n/**\n * Check if `segment` is a root segment\n * @param {string} segment\n * @return {boolean}\n */\nexport const isRootSegment = segment => segment === \"\";\n\n/**\n * Check if `segment` is a dynamic segment\n * @param {string} segment\n * @return {boolean}\n */\nexport const isDynamic = segment => paramRegex.test(segment);\n\n/**\n * Check if `segment` is a splat\n * @param {string} segment\n * @return {boolean}\n */\nexport const isSplat = segment => segment[0] === \"*\";\n\n/**\n * Strip potention splat and splatname of the end of a path\n * @param {string} str\n * @return {string}\n */\nexport const stripSplat = str => str.replace(/\\*.*$/, \"\");\n\n/**\n * Strip `str` of potential start and end `/`\n * @param {string} str\n * @return {string}\n */\nexport const stripSlashes = str => str.replace(/(^\\/+|\\/+$)/g, \"\");\n\n/**\n * Split up the URI into segments delimited by `/`\n * @param {string} uri\n * @return {string[]}\n */\nexport function segmentize(uri, filterFalsy = false) {\n\tconst segments = stripSlashes(uri).split(\"/\");\n\treturn filterFalsy ? segments.filter(Boolean) : segments;\n}\n\n/**\n * Add the query to the pathname if a query is given\n * @param {string} pathname\n * @param {string} [query]\n * @return {string}\n */\nexport const addQuery = (pathname, query) =>\n\tpathname + (query ? `?${query}` : \"\");\n\n/**\n * Combines the `basepath` and the `path` into one path.\n * @param {string} basepath\n * @param {string} path\n */\nexport function combinePaths(basepath, path) {\n\tconst barePath =\n\t\tpath === \"/\" ? basepath : `${stripSlashes(basepath)}/${stripSlashes(path)}`;\n\treturn `${stripSlashes(barePath)}/`;\n}\n\n/**\n * Normalizes a basepath\n *\n * @param {string} path\n * @returns {string}\n *\n * @example\n * normalizePath(\"base/path/\") // -> \"/base/path\"\n */\nexport const normalizePath = path => `/${stripSlashes(path)}`;\n\n/**\n * Joins and normalizes multiple path fragments\n *\n * @param {...string} pathFragments\n * @returns {string}\n */\nexport function join(...pathFragments) {\n\tconst joinFragment = fragment => segmentize(fragment, true).join(\"/\");\n\tconst joinedSegments = pathFragments.map(joinFragment).join(\"/\");\n\treturn normalizePath(joinedSegments);\n}\n","import { isFunction } from \"./utils\";\n\n// We start from 1 here, so we can check if an origin id has been passed\n// by using `originId || <fallback>`\nexport const LINK_ID = 1;\nexport const ROUTE_ID = 2;\nexport const ROUTER_ID = 3;\nexport const USE_FOCUS_ID = 4;\nexport const USE_LOCATION_ID = 5;\nexport const USE_MATCH_ID = 6;\nexport const USE_NAVIGATE_ID = 7;\nexport const USE_PARAMS_ID = 8;\nexport const USE_RESOLVABLE_ID = 9;\nexport const USE_RESOLVE_ID = 10;\nexport const NAVIGATE_ID = 11;\n\nconst labels = {\n\t[LINK_ID]: \"Link\",\n\t[ROUTE_ID]: \"Route\",\n\t[ROUTER_ID]: \"Router\",\n\t[USE_FOCUS_ID]: \"useFocus\",\n\t[USE_LOCATION_ID]: \"useLocation\",\n\t[USE_MATCH_ID]: \"useMatch\",\n\t[USE_NAVIGATE_ID]: \"useNavigate\",\n\t[USE_PARAMS_ID]: \"useParams\",\n\t[USE_RESOLVABLE_ID]: \"useResolvable\",\n\t[USE_RESOLVE_ID]: \"useResolve\",\n\t[NAVIGATE_ID]: \"navigate\",\n};\n\nexport const createLabel = labelId => labels[labelId];\n\nexport function createIdentifier(labelId, props) {\n\tlet attr;\n\tif (labelId === ROUTE_ID) {\n\t\tattr = props.path ? `path=\"${props.path}\"` : \"default\";\n\t} else if (labelId === LINK_ID) {\n\t\tattr = `to=\"${props.to}\"`;\n\t} else if (labelId === ROUTER_ID) {\n\t\tattr = `basepath=\"${props.basepath || \"\"}\"`;\n\t}\n\treturn `<${createLabel(labelId)} ${attr || \"\"} />`;\n}\n\nexport function createMessage(labelId, message, props, originId) {\n\tconst origin = props && createIdentifier(originId || labelId, props);\n\tconst originMsg = origin ? `\\n\\nOccurred in: ${origin}` : \"\";\n\tconst label = createLabel(labelId);\n\tconst msg = isFunction(message) ? message(label) : message;\n\treturn `<${label}> ${msg}${originMsg}`;\n}\n\nexport const createMessageHandler = handler => (...args) =>\n\thandler(createMessage(...args));\n\nexport const fail = createMessageHandler(message => {\n\tthrow new Error(message);\n});\n\n// eslint-disable-next-line no-console\nexport const warn = createMessageHandler(console.warn);\n","import {\n\tsegmentize,\n\tjoin,\n\taddQuery,\n\tstartsWith,\n\tparamRegex,\n\tisSplat,\n\tisRootSegment,\n\tisDynamic,\n\tstripSplat,\n\tnormalizePath,\n} from \"./paths\";\nimport { ROUTER_ID, fail } from \"./warning\";\nimport { isUndefined } from \"./utils\";\n\nconst SEGMENT_POINTS = 4;\nconst STATIC_POINTS = 3;\nconst DYNAMIC_POINTS = 2;\nconst SPLAT_PENALTY = 1;\nconst ROOT_POINTS = 1;\n\n/**\n * Score a route depending on how its individual segments look\n * @param {object} route\n * @param {number} index\n * @return {object}\n */\nexport function rankRoute(route, index) {\n\tconst score = route.default\n\t\t? 0\n\t\t: segmentize(route.fullPath).reduce((acc, segment) => {\n\t\t\t\tlet nextScore = acc;\n\t\t\t\tnextScore += SEGMENT_POINTS;\n\n\t\t\t\tif (isRootSegment(segment)) {\n\t\t\t\t\tnextScore += ROOT_POINTS;\n\t\t\t\t} else if (isDynamic(segment)) {\n\t\t\t\t\tnextScore += DYNAMIC_POINTS;\n\t\t\t\t} else if (isSplat(segment)) {\n\t\t\t\t\tnextScore -= SEGMENT_POINTS + SPLAT_PENALTY;\n\t\t\t\t} else {\n\t\t\t\t\tnextScore += STATIC_POINTS;\n\t\t\t\t}\n\n\t\t\t\treturn nextScore;\n\t\t  }, 0);\n\n\treturn { route, score, index };\n}\n\n/**\n * Give a score to all routes and sort them on that\n * @param {object[]} routes\n * @return {object[]}\n */\nexport function rankRoutes(routes) {\n\treturn (\n\t\troutes\n\t\t\t.map(rankRoute)\n\t\t\t// If two routes have the exact same score, we go by index instead\n\t\t\t.sort((a, b) => {\n\t\t\t\tif (a.score < b.score) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif (a.score > b.score) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn a.index - b.index;\n\t\t\t})\n\t);\n}\n\n/**\n * Ranks and picks the best route to match. Each segment gets the highest\n * amount of points, then the type of segment gets an additional amount of\n * points where\n *\n *  static > dynamic > splat > root\n *\n * This way we don't have to worry about the order of our routes, let the\n * computers do it.\n *\n * A route looks like this\n *\n *  { fullPath, default, value }\n *\n * And a returned match looks like:\n *\n *  { route, params, uri }\n *\n * @param {object[]} routes\n * @param {string} uri\n * @return {?object}\n */\nexport function pick(routes, uri) {\n\tlet bestMatch;\n\tlet defaultMatch;\n\n\tconst [uriPathname] = uri.split(\"?\");\n\tconst uriSegments = segmentize(uriPathname);\n\tconst isRootUri = uriSegments[0] === \"\";\n\tconst ranked = rankRoutes(routes);\n\n\tfor (let i = 0, l = ranked.length; i < l; i++) {\n\t\tconst { route } = ranked[i];\n\t\tlet missed = false;\n\t\tconst params = {};\n\n\t\t// eslint-disable-next-line no-shadow\n\t\tconst createMatch = uri => ({ ...route, params, uri });\n\n\t\tif (route.default) {\n\t\t\tdefaultMatch = createMatch(uri);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst routeSegments = segmentize(route.fullPath);\n\t\tconst max = Math.max(uriSegments.length, routeSegments.length);\n\t\tlet index = 0;\n\n\t\tfor (; index < max; index++) {\n\t\t\tconst routeSegment = routeSegments[index];\n\t\t\tconst uriSegment = uriSegments[index];\n\n\t\t\tif (!isUndefined(routeSegment) && isSplat(routeSegment)) {\n\t\t\t\t// Hit a splat, just grab the rest, and return a match\n\t\t\t\t// uri:   /files/documents/work\n\t\t\t\t// route: /files/* or /files/*splatname\n\t\t\t\tconst splatName = routeSegment === \"*\" ? \"*\" : routeSegment.slice(1);\n\n\t\t\t\tparams[splatName] = uriSegments\n\t\t\t\t\t.slice(index)\n\t\t\t\t\t.map(decodeURIComponent)\n\t\t\t\t\t.join(\"/\");\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (isUndefined(uriSegment)) {\n\t\t\t\t// URI is shorter than the route, no match\n\t\t\t\t// uri:   /users\n\t\t\t\t// route: /users/:userId\n\t\t\t\tmissed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst dynamicMatch = paramRegex.exec(routeSegment);\n\n\t\t\tif (dynamicMatch && !isRootUri) {\n\t\t\t\tconst value = decodeURIComponent(uriSegment);\n\t\t\t\tparams[dynamicMatch[1]] = value;\n\t\t\t} else if (routeSegment !== uriSegment) {\n\t\t\t\t// Current segments don't match, not dynamic, not splat, so no match\n\t\t\t\t// uri:   /users/123/settings\n\t\t\t\t// route: /users/:id/profile\n\t\t\t\tmissed = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!missed) {\n\t\t\tbestMatch = createMatch(join(...uriSegments.slice(0, index)));\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn bestMatch || defaultMatch || null;\n}\n\n/**\n * Check if the `route.fullPath` matches the `uri`.\n * @param {Object} route\n * @param {string} uri\n * @return {?object}\n */\nexport function match(route, uri) {\n\treturn pick([route], uri);\n}\n\n/**\n * Resolve URIs as though every path is a directory, no files. Relative URIs\n * in the browser can feel awkward because not only can you be \"in a directory\",\n * you can be \"at a file\", too. For example:\n *\n *  browserSpecResolve('foo', '/bar/') => /bar/foo\n *  browserSpecResolve('foo', '/bar') => /foo\n *\n * But on the command line of a file system, it's not as complicated. You can't\n * `cd` from a file, only directories. This way, links have to know less about\n * their current path. To go deeper you can do this:\n *\n *  <Link to=\"deeper\"/>\n *  // instead of\n *  <Link to=`{${props.uri}/deeper}`/>\n *\n * Just like `cd`, if you want to go deeper from the command line, you do this:\n *\n *  cd deeper\n *  # not\n *  cd $(pwd)/deeper\n *\n * By treating every path as a directory, linking to relative paths should\n * require less contextual information and (fingers crossed) be more intuitive.\n * @param {string} to\n * @param {string} base\n * @return {string}\n */\nexport function resolve(to, base) {\n\t// /foo/bar, /baz/qux => /foo/bar\n\tif (startsWith(to, \"/\")) {\n\t\treturn to;\n\t}\n\n\tconst [toPathname, toQuery] = to.split(\"?\");\n\tconst [basePathname] = base.split(\"?\");\n\tconst toSegments = segmentize(toPathname);\n\tconst baseSegments = segmentize(basePathname);\n\n\t// ?a=b, /users?b=c => /users?a=b\n\tif (toSegments[0] === \"\") {\n\t\treturn addQuery(basePathname, toQuery);\n\t}\n\n\t// profile, /users/789 => /users/789/profile\n\tif (!startsWith(toSegments[0], \".\")) {\n\t\tconst pathname = baseSegments.concat(toSegments).join(\"/\");\n\t\treturn addQuery((basePathname === \"/\" ? \"\" : \"/\") + pathname, toQuery);\n\t}\n\n\t// ./       , /users/123 => /users/123\n\t// ../      , /users/123 => /users\n\t// ../..    , /users/123 => /\n\t// ../../one, /a/b/c/d   => /a/b/one\n\t// .././one , /a/b/c/d   => /a/b/c/one\n\tconst allSegments = baseSegments.concat(toSegments);\n\tconst segments = [];\n\n\tallSegments.forEach(segment => {\n\t\tif (segment === \"..\") {\n\t\t\tsegments.pop();\n\t\t} else if (segment !== \".\") {\n\t\t\tsegments.push(segment);\n\t\t}\n\t});\n\n\treturn addQuery(`/${segments.join(\"/\")}`, toQuery);\n}\n\n/**\n * Normalizes a location for consumption by `Route` children and the `Router`.\n * It removes the apps basepath from the pathname\n * and sets default values for `search` and `hash` properties.\n *\n * @param {Object} location The current global location supplied by the history component\n * @param {string} basepath The applications basepath (i.e. when serving from a subdirectory)\n *\n * @returns The normalized location\n */\nexport function normalizeLocation(location, basepath) {\n\tconst { pathname, hash = \"\", search = \"\", state } = location;\n\tconst baseSegments = segmentize(basepath, true);\n\tconst pathSegments = segmentize(pathname, true);\n\twhile (baseSegments.length) {\n\t\tif (baseSegments[0] !== pathSegments[0]) {\n\t\t\tfail(\n\t\t\t\tROUTER_ID,\n\t\t\t\t`Invalid state: All locations must begin with the basepath \"${basepath}\", found \"${pathname}\"`,\n\t\t\t);\n\t\t}\n\t\tbaseSegments.shift();\n\t\tpathSegments.shift();\n\t}\n\treturn {\n\t\tpathname: join(...pathSegments),\n\t\thash,\n\t\tsearch,\n\t\tstate,\n\t};\n}\n\nconst normalizeUrlFragment = frag => (frag.length === 1 ? \"\" : frag);\n\n/**\n * Creates a location object from an url.\n * It is used to create a location from the url prop used in SSR\n *\n * @param {string} url The url string (e.g. \"/path/to/somewhere\")\n *\n * @returns {{ pathname: string; search: string; hash: string }} The location\n */\nexport function createLocation(url) {\n\tconst searchIndex = url.indexOf(\"?\");\n\tconst hashIndex = url.indexOf(\"#\");\n\tconst hasSearchIndex = searchIndex !== -1;\n\tconst hasHashIndex = hashIndex !== -1;\n\tconst hash = hasHashIndex ? normalizeUrlFragment(url.substr(hashIndex)) : \"\";\n\tconst pathnameAndSearch = hasHashIndex ? url.substr(0, hashIndex) : url;\n\tconst search = hasSearchIndex\n\t\t? normalizeUrlFragment(pathnameAndSearch.substr(searchIndex))\n\t\t: \"\";\n\tconst pathname = hasSearchIndex\n\t\t? pathnameAndSearch.substr(0, searchIndex)\n\t\t: pathnameAndSearch;\n\treturn { pathname, search, hash };\n}\n\n/**\n * Resolves a link relative to the parent Route and the Routers basepath.\n *\n * @param {string} path The given path, that will be resolved\n * @param {string} routeBase The current Routes base path\n * @param {string} appBase The basepath of the app. Used, when serving from a subdirectory\n * @returns {string} The resolved path\n *\n * @example\n * resolveLink(\"relative\", \"/routeBase\", \"/\") // -> \"/routeBase/relative\"\n * resolveLink(\"/absolute\", \"/routeBase\", \"/\") // -> \"/absolute\"\n * resolveLink(\"relative\", \"/routeBase\", \"/base\") // -> \"/base/routeBase/relative\"\n * resolveLink(\"/absolute\", \"/routeBase\", \"/base\") // -> \"/base/absolute\"\n */\nexport function resolveLink(path, routeBase, appBase) {\n\treturn join(appBase, resolve(path, routeBase));\n}\n\n/**\n * Get the uri for a Route, by matching it against the current location.\n *\n * @param {string} routePath The Routes resolved path\n * @param {string} pathname The current locations pathname\n */\nexport function extractBaseUri(routePath, pathname) {\n\tconst fullPath = normalizePath(stripSplat(routePath));\n\tconst baseSegments = segmentize(fullPath, true);\n\tconst pathSegments = segmentize(pathname, true).slice(0, baseSegments.length);\n\tconst routeMatch = match({ fullPath }, join(...pathSegments));\n\treturn routeMatch && routeMatch.uri;\n}\n","/*\n * Adapted from https://github.com/reach/router/blob/b60e6dd781d5d3a4bdaaf4de665649c0f6a7e78d/src/lib/history.js\n *\n * https://github.com/reach/router/blob/master/LICENSE\n */\n\nimport { createLocation } from \"./routes\";\nimport { createGlobalId, isSSR, isNumber, addListener } from \"./utils\";\nimport { warn, NAVIGATE_ID } from \"./warning\";\n\nconst POP = \"POP\";\nconst PUSH = \"PUSH\";\nconst REPLACE = \"REPLACE\";\n\nfunction getLocation(source) {\n\treturn {\n\t\t...source.location,\n\t\tpathname: encodeURI(decodeURI(source.location.pathname)),\n\t\tstate: source.history.state,\n\t\t_key: (source.history.state && source.history.state._key) || \"initial\",\n\t};\n}\n\nfunction createHistory(source) {\n\tlet listeners = [];\n\tlet location = getLocation(source);\n\tlet action = POP;\n\n\tconst notifyListeners = (listenerFns = listeners) =>\n\t\tlistenerFns.forEach(listener => listener({ location, action }));\n\n\treturn {\n\t\tget location() {\n\t\t\treturn location;\n\t\t},\n\t\tlisten(listener) {\n\t\t\tlisteners.push(listener);\n\n\t\t\tconst popstateListener = () => {\n\t\t\t\tlocation = getLocation(source);\n\t\t\t\taction = POP;\n\t\t\t\tnotifyListeners([listener]);\n\t\t\t};\n\n\t\t\t// Call listener when it is registered\n\t\t\tnotifyListeners([listener]);\n\n\t\t\tconst unlisten = addListener(source, \"popstate\", popstateListener);\n\t\t\treturn () => {\n\t\t\t\tunlisten();\n\t\t\t\tlisteners = listeners.filter(fn => fn !== listener);\n\t\t\t};\n\t\t},\n\t\t/**\n\t\t * Navigate to a new absolute route.\n\t\t *\n\t\t * @param {string|number} to The path to navigate to.\n\t\t *\n\t\t * If `to` is a number we will navigate to the stack entry index + `to`\n\t\t * (-> `navigate(-1)`, is equivalent to hitting the back button of the browser)\n\t\t * @param {Object} options\n\t\t * @param {*} [options.state] The state will be accessible through `location.state`\n\t\t * @param {boolean} [options.replace=false] Replace the current entry in the history\n\t\t * stack, instead of pushing on a new one\n\t\t */\n\t\tnavigate(to, options) {\n\t\t\tconst { state = {}, replace = false } = options || {};\n\t\t\taction = replace ? REPLACE : PUSH;\n\t\t\tif (isNumber(to)) {\n\t\t\t\tif (options) {\n\t\t\t\t\twarn(\n\t\t\t\t\t\tNAVIGATE_ID,\n\t\t\t\t\t\t\"Navigation options (state or replace) are not supported, \" +\n\t\t\t\t\t\t\t\"when passing a number as the first argument to navigate. \" +\n\t\t\t\t\t\t\t\"They are ignored.\",\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\taction = POP;\n\t\t\t\tsource.history.go(to);\n\t\t\t} else {\n\t\t\t\tconst keyedState = { ...state, _key: createGlobalId() };\n\t\t\t\t// try...catch iOS Safari limits to 100 pushState calls\n\t\t\t\ttry {\n\t\t\t\t\tsource.history[replace ? \"replaceState\" : \"pushState\"](\n\t\t\t\t\t\tkeyedState,\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\tto,\n\t\t\t\t\t);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tsource.location[replace ? \"replace\" : \"assign\"](to);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlocation = getLocation(source);\n\t\t\tnotifyListeners();\n\t\t},\n\t};\n}\n\nfunction createStackFrame(state, uri) {\n\treturn { ...createLocation(uri), state };\n}\n\n// Stores history entries in memory for testing or other platforms like Native\nfunction createMemorySource(initialPathname = \"/\") {\n\tlet index = 0;\n\tlet stack = [createStackFrame(null, initialPathname)];\n\n\treturn {\n\t\t// This is just for testing...\n\t\tget entries() {\n\t\t\treturn stack;\n\t\t},\n\t\tget location() {\n\t\t\treturn stack[index];\n\t\t},\n\t\taddEventListener() {},\n\t\tremoveEventListener() {},\n\t\thistory: {\n\t\t\tget state() {\n\t\t\t\treturn stack[index].state;\n\t\t\t},\n\t\t\tpushState(state, title, uri) {\n\t\t\t\tindex++;\n\t\t\t\t// Throw away anything in the stack with an index greater than the current index.\n\t\t\t\t// This happens, when we go back using `go(-n)`. The index is now less than `stack.length`.\n\t\t\t\t// If we call `go(+n)` the stack entries with an index greater than the current index can\n\t\t\t\t// be reused.\n\t\t\t\t// However, if we navigate to a path, instead of a number, we want to create a new branch\n\t\t\t\t// of navigation.\n\t\t\t\tstack = stack.slice(0, index);\n\t\t\t\tstack.push(createStackFrame(state, uri));\n\t\t\t},\n\t\t\treplaceState(state, title, uri) {\n\t\t\t\tstack[index] = createStackFrame(state, uri);\n\t\t\t},\n\t\t\tgo(to) {\n\t\t\t\tconst newIndex = index + to;\n\t\t\t\tif (newIndex < 0 || newIndex > stack.length - 1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tindex = newIndex;\n\t\t\t},\n\t\t},\n\t};\n}\n\n// Global history uses window.history as the source if available,\n// otherwise a memory history\nconst canUseDOM = !!(\n\t!isSSR &&\n\twindow.document &&\n\twindow.document.createElement\n);\n// Use memory history in iframes (for example in Svelte REPL)\nconst isEmbeddedPage = !isSSR && window.location.origin === \"null\";\nconst globalHistory = createHistory(\n\tcanUseDOM && !isEmbeddedPage ? window : createMemorySource(),\n);\nconst { navigate } = globalHistory;\n\nexport { globalHistory, navigate, createHistory, createMemorySource };\n","import { get } from \"svelte/store\";\nimport { tick } from \"svelte\";\nimport { warn, ROUTER_ID, ROUTE_ID } from \"./warning\";\nimport { addListener } from \"./utils\";\n\n// We need to keep the focus candidate in a separate file, so svelte does\n// not update, when we mutate it.\n// Also, we need a single global reference, because taking focus needs to\n// work globally, even if we have multiple top level routers\n// eslint-disable-next-line import/no-mutable-exports\nexport let focusCandidate = null;\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let initialNavigation = true;\n\n/**\n * Check if RouterA is above RouterB in the document\n * @param {number} routerIdA The first Routers id\n * @param {number} routerIdB The second Routers id\n */\nfunction isAbove(routerIdA, routerIdB) {\n\tconst routerMarkers = document.querySelectorAll(\"[data-svnav-router]\");\n\tfor (let i = 0; i < routerMarkers.length; i++) {\n\t\tconst node = routerMarkers[i];\n\t\tconst currentId = Number(node.dataset.svnavRouter);\n\t\tif (currentId === routerIdA) return true;\n\t\tif (currentId === routerIdB) return false;\n\t}\n\treturn false;\n}\n\n/**\n * Check if a Route candidate is the best choice to move focus to,\n * and store the best match.\n * @param {{\n     level: number;\n     routerId: number;\n     route: {\n       id: number;\n       focusElement: import(\"svelte/store\").Readable<Promise<Element>|null>;\n     }\n   }} item A Route candidate, that updated and is visible after a navigation\n */\nexport function pushFocusCandidate(item) {\n\tif (\n\t\t// Best candidate if it's the only candidate...\n\t\t!focusCandidate ||\n\t\t// Route is nested deeper, than previous candidate\n\t\t// -> Route change was triggered in the deepest affected\n\t\t// Route, so that's were focus should move to\n\t\titem.level > focusCandidate.level ||\n\t\t// If the level is identical, we want to focus the first Route in the document,\n\t\t// so we pick the first Router lookin from page top to page bottom.\n\t\t(item.level === focusCandidate.level &&\n\t\t\tisAbove(item.routerId, focusCandidate.routerId))\n\t) {\n\t\tfocusCandidate = item;\n\t}\n}\n\n/**\n * Reset the focus candidate.\n */\nexport function clearFocusCandidate() {\n\tfocusCandidate = null;\n}\n\nexport function initialNavigationOccurred() {\n\tinitialNavigation = false;\n}\n\n/*\n * `focus` Adapted from https://github.com/oaf-project/oaf-side-effects/blob/master/src/index.ts\n *\n * https://github.com/oaf-project/oaf-side-effects/blob/master/LICENSE\n */\nexport function focus(elem) {\n\tif (!elem) return false;\n\tconst TABINDEX = \"tabindex\";\n\ttry {\n\t\tif (!elem.hasAttribute(TABINDEX)) {\n\t\t\telem.setAttribute(TABINDEX, \"-1\");\n\t\t\tlet unlisten;\n\t\t\t// We remove tabindex after blur to avoid weird browser behavior\n\t\t\t// where a mouse click can activate elements with tabindex=\"-1\".\n\t\t\tconst blurListener = () => {\n\t\t\t\telem.removeAttribute(TABINDEX);\n\t\t\t\tunlisten();\n\t\t\t};\n\t\t\tunlisten = addListener(elem, \"blur\", blurListener);\n\t\t}\n\t\telem.focus();\n\t\treturn document.activeElement === elem;\n\t} catch (e) {\n\t\t// Apparently trying to focus a disabled element in IE can throw.\n\t\t// See https://stackoverflow.com/a/1600194/2476884\n\t\treturn false;\n\t}\n}\n\nexport function isEndMarker(elem, id) {\n\treturn Number(elem.dataset.svnavRouteEnd) === id;\n}\n\nexport function isHeading(elem) {\n\treturn /^H[1-6]$/i.test(elem.tagName);\n}\n\nfunction query(selector, parent = document) {\n\treturn parent.querySelector(selector);\n}\n\nexport function queryHeading(id) {\n\tconst marker = query(`[data-svnav-route-start=\"${id}\"]`);\n\tlet current = marker.nextElementSibling;\n\twhile (!isEndMarker(current, id)) {\n\t\tif (isHeading(current)) {\n\t\t\treturn current;\n\t\t}\n\t\tconst heading = query(\"h1,h2,h3,h4,h5,h6\", current);\n\t\tif (heading) {\n\t\t\treturn heading;\n\t\t}\n\t\tcurrent = current.nextElementSibling;\n\t}\n\treturn null;\n}\n\nexport function handleFocus(route) {\n\tPromise.resolve(get(route.focusElement)).then(elem => {\n\t\tconst focusElement = elem || queryHeading(route.id);\n\t\tif (!focusElement) {\n\t\t\twarn(\n\t\t\t\tROUTER_ID,\n\t\t\t\t\"Could not find an element to focus. \" +\n\t\t\t\t\t\"You should always render a header for accessibility reasons, \" +\n\t\t\t\t\t'or set a custom focus element via the \"useFocus\" hook. ' +\n\t\t\t\t\t\"If you don't want this Route or Router to manage focus, \" +\n\t\t\t\t\t'pass \"primary={false}\" to it.',\n\t\t\t\troute,\n\t\t\t\tROUTE_ID,\n\t\t\t);\n\t\t}\n\t\tconst headingFocused = focus(focusElement);\n\t\tif (headingFocused) return;\n\t\tfocus(document.documentElement);\n\t});\n}\n\nexport const createTriggerFocus = (a11yConfig, announcementText, location) => (\n\tmanageFocus,\n\tannounceNavigation,\n) =>\n\t// Wait until the dom is updated, so we can look for headings\n\ttick().then(() => {\n\t\tif (!focusCandidate || initialNavigation) {\n\t\t\tinitialNavigationOccurred();\n\t\t\treturn;\n\t\t}\n\t\tif (manageFocus) {\n\t\t\thandleFocus(focusCandidate.route);\n\t\t}\n\t\tif (a11yConfig.announcements && announceNavigation) {\n\t\t\tconst { path, fullPath, meta, params, uri } = focusCandidate.route;\n\t\t\tconst announcementMessage = a11yConfig.createAnnouncement(\n\t\t\t\t{ path, fullPath, meta, params, uri },\n\t\t\t\tget(location),\n\t\t\t);\n\t\t\tPromise.resolve(announcementMessage).then(message => {\n\t\t\t\tannouncementText.set(message);\n\t\t\t});\n\t\t}\n\t\tclearFocusCandidate();\n\t});\n\nexport const visuallyHiddenStyle =\n\t\"position:fixed;\" +\n\t\"top:-1px;\" +\n\t\"left:0;\" +\n\t\"width:1px;\" +\n\t\"height:1px;\" +\n\t\"padding:0;\" +\n\t\"overflow:hidden;\" +\n\t\"clip:rect(0,0,0,0);\" +\n\t\"white-space:nowrap;\" +\n\t\"border:0;\";\n","<script context=\"module\">\n\t// eslint-disable-next-line import/order\n\timport { createCounter } from \"./utils\";\n\n\tconst createId = createCounter();\n</script>\n\n<script>\n\t/*\n\t * Adapted from https://github.com/EmilTholin/svelte-routing\n\t *\n\t * https://github.com/EmilTholin/svelte-routing/blob/master/LICENSE\n\t */\n\n\timport { getContext, setContext, onMount } from \"svelte\";\n\timport { writable } from \"svelte/store\";\n\timport { LOCATION, ROUTER } from \"./contexts\";\n\timport { globalHistory } from \"./history\";\n\timport { normalizePath } from \"./paths\";\n\timport { pick, match, normalizeLocation, createLocation } from \"./routes\";\n\timport { isSSR } from \"./utils\";\n\timport { warn, ROUTER_ID } from \"./warning\";\n\timport {\n\t\tpushFocusCandidate,\n\t\tvisuallyHiddenStyle,\n\t\tcreateTriggerFocus,\n\t} from \"./a11y\";\n\n\tconst defaultBasepath = \"/\";\n\n\texport let basepath = defaultBasepath;\n\texport let url = null;\n\texport let history = globalHistory;\n\texport let primary = true;\n\texport let a11y = {};\n\n\tconst a11yConfig = {\n\t\tcreateAnnouncement: route => `Navigated to ${route.uri}`,\n\t\tannouncements: true,\n\t\t...a11y,\n\t};\n\n\t// Remember the initial `basepath`, so we can fire a warning\n\t// when the user changes it later\n\tconst initialBasepath = basepath;\n\tconst normalizedBasepath = normalizePath(basepath);\n\n\tconst locationContext = getContext(LOCATION);\n\tconst routerContext = getContext(ROUTER);\n\n\tconst isTopLevelRouter = !locationContext;\n\tconst routerId = createId();\n\n\tconst manageFocus = primary && !(routerContext && !routerContext.manageFocus);\n\tconst announcementText = writable(\"\");\n\n\tconst routes = writable([]);\n\tconst activeRoute = writable(null);\n\t// Used in SSR to synchronously set that a Route is active.\n\tlet hasActiveRoute = false;\n\n\t// Nesting level of router.\n\t// We will need this to identify sibling routers, when moving\n\t// focus on navigation, so we can focus the first possible router\n\tconst level = isTopLevelRouter ? 0 : routerContext.level + 1;\n\n\t// If we're running an SSR we force the location to the `url` prop\n\tconst getInitialLocation = () =>\n\t\tnormalizeLocation(\n\t\t\tisSSR ? createLocation(url) : history.location,\n\t\t\tnormalizedBasepath,\n\t\t);\n\tconst location = isTopLevelRouter\n\t\t? writable(getInitialLocation())\n\t\t: locationContext;\n\tconst prevLocation = writable($location);\n\n\tconst triggerFocus = createTriggerFocus(\n\t\ta11yConfig,\n\t\tannouncementText,\n\t\tlocation,\n\t);\n\n\tconst createRouteFilter = routeId => routeList =>\n\t\trouteList.filter(routeItem => routeItem.id !== routeId);\n\n\tfunction registerRoute(route) {\n\t\tif (isSSR) {\n\t\t\t// In SSR we should set the activeRoute immediately if it is a match.\n\t\t\t// If there are more Routes being registered after a match is found,\n\t\t\t// we just skip them.\n\t\t\tif (hasActiveRoute) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst matchingRoute = match(route, $location.pathname);\n\t\t\tif (matchingRoute) {\n\t\t\t\thasActiveRoute = true;\n\t\t\t\t// Return the match in SSR mode, so the matched Route can use it immediatly.\n\t\t\t\t// Waiting for activeRoute to update does not work, because it updates\n\t\t\t\t// after the Route is initialized\n\t\t\t\treturn matchingRoute; // eslint-disable-line consistent-return\n\t\t\t}\n\t\t} else {\n\t\t\troutes.update(prevRoutes => {\n\t\t\t\t// Remove an old version of the updated route,\n\t\t\t\t// before pushing the new version\n\t\t\t\tconst nextRoutes = createRouteFilter(route.id)(prevRoutes);\n\t\t\t\tnextRoutes.push(route);\n\t\t\t\treturn nextRoutes;\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction unregisterRoute(routeId) {\n\t\troutes.update(createRouteFilter(routeId));\n\t}\n\n\tif (!isTopLevelRouter && basepath !== defaultBasepath) {\n\t\twarn(\n\t\t\tROUTER_ID,\n\t\t\t'Only top-level Routers can have a \"basepath\" prop. It is ignored.',\n\t\t\t{ basepath },\n\t\t);\n\t}\n\t$: if (basepath !== initialBasepath) {\n\t\twarn(ROUTER_ID, 'You cannot change the \"basepath\" prop. It is ignored.');\n\t}\n\n\t// This reactive statement will be run when the Router is created\n\t// when there are no Routes and then again the following tick, so it\n\t// will not find an active Route in SSR and in the browser it will only\n\t// pick an active Route after all Routes have been registered.\n\t$: {\n\t\tconst bestMatch = pick($routes, $location.pathname);\n\t\tactiveRoute.set(bestMatch);\n\t}\n\n\t// Manage focus and announce navigation to screen reader users\n\t$: {\n\t\tif (isTopLevelRouter) {\n\t\t\tconst hasHash = !!$location.hash;\n\t\t\t// When a hash is present in the url, we skip focus management, because\n\t\t\t// focusing a different element will prevent in-page jumps (See #3)\n\t\t\tconst shouldManageFocus = !hasHash && manageFocus;\n\t\t\t// We don't want to make an announcement, when the hash changes,\n\t\t\t// but the active route stays the same\n\t\t\tconst announceNavigation =\n\t\t\t\t!hasHash || $location.pathname !== $prevLocation.pathname;\n\t\t\ttriggerFocus(shouldManageFocus, announceNavigation);\n\t\t}\n\t}\n\n\t// Queue matched Route, so top level Router can decide which Route to focus.\n\t// Non primary Routers should just be ignored\n\t$: if (manageFocus && $activeRoute && $activeRoute.primary) {\n\t\tpushFocusCandidate({ level, routerId, route: $activeRoute });\n\t}\n\n\tif (isTopLevelRouter) {\n\t\t// The topmost Router in the tree is responsible for updating\n\t\t// the location store and supplying it through context.\n\t\tonMount(() => {\n\t\t\tconst unlisten = history.listen(changedHistory => {\n\t\t\t\tconst normalizedLocation = normalizeLocation(\n\t\t\t\t\tchangedHistory.location,\n\t\t\t\t\tnormalizedBasepath,\n\t\t\t\t);\n\t\t\t\tprevLocation.set($location);\n\t\t\t\tlocation.set(normalizedLocation);\n\t\t\t});\n\n\t\t\treturn unlisten;\n\t\t});\n\n\t\tsetContext(LOCATION, location);\n\t}\n\n\tsetContext(ROUTER, {\n\t\tactiveRoute,\n\t\tregisterRoute,\n\t\tunregisterRoute,\n\t\tmanageFocus,\n\t\tlevel,\n\t\tid: routerId,\n\t\thistory: isTopLevelRouter ? history : routerContext.history,\n\t\tbasepath: isTopLevelRouter ? normalizedBasepath : routerContext.basepath,\n\t});\n</script>\n\n<div style=\"display:none;\" aria-hidden=\"true\" data-svnav-router={routerId} />\n\n<slot />\n\n{#if isTopLevelRouter && manageFocus && a11yConfig.announcements}\n\t<div\n\t\trole=\"status\"\n\t\taria-atomic=\"true\"\n\t\taria-live=\"polite\"\n\t\tstyle={visuallyHiddenStyle}\n\t>\n\t\t{$announcementText}\n\t</div>\n{/if}\n","import { getContext, onDestroy, tick } from \"svelte\";\nimport { derived, get, writable } from \"svelte/store\";\nimport { LOCATION, ROUTER, ROUTE, ROUTE_PARAMS, FOCUS_ELEM } from \"./contexts\";\nimport { resolveLink, match, normalizeLocation } from \"./routes\";\nimport { isNumber } from \"./utils\";\nimport {\n\tfail,\n\tcreateLabel,\n\tUSE_FOCUS_ID,\n\tROUTER_ID,\n\tUSE_LOCATION_ID,\n\tROUTE_ID,\n\tUSE_RESOLVE_ID,\n\tUSE_RESOLVABLE_ID,\n\tUSE_NAVIGATE_ID,\n\tUSE_MATCH_ID,\n\tUSE_PARAMS_ID,\n} from \"./warning\";\n\n/**\n * Check if a component or hook have been created outside of a\n * context providing component\n * @param {number} componentId\n * @param {*} props\n * @param {string?} ctxKey\n * @param {number?} ctxProviderId\n */\nexport function usePreflightCheck(\n\tcomponentId,\n\tprops,\n\tctxKey = ROUTER,\n\tctxProviderId = ROUTER_ID,\n) {\n\tconst ctx = getContext(ctxKey);\n\tif (!ctx) {\n\t\tfail(\n\t\t\tcomponentId,\n\t\t\tlabel =>\n\t\t\t\t`You cannot use ${label} outside of a ${createLabel(ctxProviderId)}.`,\n\t\t\tprops,\n\t\t);\n\t}\n}\n\nconst toReadonly = ctx => {\n\tconst { subscribe } = getContext(ctx);\n\treturn { subscribe };\n};\n\n/**\n * Access the current location via a readable store.\n * @returns {import(\"svelte/store\").Readable<{\n    pathname: string;\n    search: string;\n    hash: string;\n    state: {};\n  }>}\n *\n * @example\n  ```html\n  <script>\n    import { useLocation } from \"svelte-navigator\";\n\n    const location = useLocation();\n\n    $: console.log($location);\n    // {\n    //   pathname: \"/blog\",\n    //   search: \"?id=123\",\n    //   hash: \"#comments\",\n    //   state: {}\n    // }\n  </script>\n  ```\n */\nexport function useLocation() {\n\tusePreflightCheck(USE_LOCATION_ID);\n\treturn toReadonly(LOCATION);\n}\n\n/**\n * @typedef {{\n    path: string;\n    fullPath: string;\n    uri: string;\n    params: {};\n  }} RouteMatch\n */\n\n/**\n * @typedef {import(\"svelte/store\").Readable<RouteMatch|null>} RouteMatchStore\n */\n\n/**\n * Access the history of top level Router.\n */\nexport function useHistory() {\n\tconst { history } = getContext(ROUTER);\n\treturn history;\n}\n\n/**\n * Access the base of the parent Route.\n */\nexport function useRouteBase() {\n\tconst route = getContext(ROUTE);\n\treturn route ? derived(route, _route => _route.base) : writable(\"/\");\n}\n\n/**\n * Resolve a given link relative to the current `Route` and the `Router`s `basepath`.\n * It is used under the hood in `Link` and `useNavigate`.\n * You can use it to manually resolve links, when using the `link` or `links` actions.\n *\n * @returns {(path: string) => string}\n *\n * @example\n  ```html\n  <script>\n    import { link, useResolve } from \"svelte-navigator\";\n\n    const resolve = useResolve();\n    // `resolvedLink` will be resolved relative to its parent Route\n    // and the Routers `basepath`\n    const resolvedLink = resolve(\"relativePath\");\n  </script>\n\n  <a href={resolvedLink} use:link>Relative link</a>\n  ```\n */\nexport function useResolve() {\n\tusePreflightCheck(USE_RESOLVE_ID);\n\tconst routeBase = useRouteBase();\n\tconst { basepath: appBase } = getContext(ROUTER);\n\t/**\n\t * Resolves the path relative to the current route and basepath.\n\t *\n\t * @param {string} path The path to resolve\n\t * @returns {string} The resolved path\n\t */\n\tconst resolve = path => resolveLink(path, get(routeBase), appBase);\n\treturn resolve;\n}\n\n/**\n * Resolve a given link relative to the current `Route` and the `Router`s `basepath`.\n * It is used under the hood in `Link` and `useNavigate`.\n * You can use it to manually resolve links, when using the `link` or `links` actions.\n *\n * @returns {import(\"svelte/store\").Readable<string>}\n *\n * @example\n  ```html\n  <script>\n    import { link, useResolvable } from \"svelte-navigator\";\n\n    // `resolvedLink` will be resolved relative to its parent Route\n    // and the Routers `basepath`.\n    const resolvedLink = useResolvable(\"relativePath\");\n  </script>\n\n  <a href={$resolvedLink} use:link>Relative link</a>\n  ```\n */\nexport function useResolvable(path) {\n\tusePreflightCheck(USE_RESOLVABLE_ID);\n\tconst routeBase = useRouteBase();\n\tconst { basepath: appBase } = getContext(ROUTER);\n\treturn derived(routeBase, _routeBase =>\n\t\tresolveLink(path, _routeBase, appBase),\n\t);\n}\n\n/**\n * A hook, that returns a context-aware version of `navigate`.\n * It will automatically resolve the given link relative to the current Route.\n * It will also resolve a link against the `basepath` of the Router.\n *\n * @example\n  ```html\n  <!-- App.svelte -->\n  <script>\n    import { link, Route } from \"svelte-navigator\";\n    import RouteComponent from \"./RouteComponent.svelte\";\n  </script>\n\n  <Router>\n    <Route path=\"route1\">\n      <RouteComponent />\n    </Route>\n    <!-- ... -->\n  </Router>\n\n  <!-- RouteComponent.svelte -->\n  <script>\n    import { useNavigate } from \"svelte-navigator\";\n\n    const navigate = useNavigate();\n  </script>\n\n  <button on:click=\"{() => navigate('relativePath')}\">\n    go to /route1/relativePath\n  </button>\n  <button on:click=\"{() => navigate('/absolutePath')}\">\n    go to /absolutePath\n  </button>\n  ```\n  *\n  * @example\n  ```html\n  <!-- App.svelte -->\n  <script>\n    import { link, Route } from \"svelte-navigator\";\n    import RouteComponent from \"./RouteComponent.svelte\";\n  </script>\n\n  <Router basepath=\"/base\">\n    <Route path=\"route1\">\n      <RouteComponent />\n    </Route>\n    <!-- ... -->\n  </Router>\n\n  <!-- RouteComponent.svelte -->\n  <script>\n    import { useNavigate } from \"svelte-navigator\";\n\n    const navigate = useNavigate();\n  </script>\n\n  <button on:click=\"{() => navigate('relativePath')}\">\n    go to /base/route1/relativePath\n  </button>\n  <button on:click=\"{() => navigate('/absolutePath')}\">\n    go to /base/absolutePath\n  </button>\n  ```\n */\nexport function useNavigate() {\n\tusePreflightCheck(USE_NAVIGATE_ID);\n\tconst resolve = useResolve();\n\tconst { navigate } = useHistory();\n\t/**\n\t * Navigate to a new route.\n\t * Resolves the link relative to the current route and basepath.\n\t *\n\t * @param {string|number} to The path to navigate to.\n\t *\n\t * If `to` is a number we will navigate to the stack entry index + `to`\n\t * (-> `navigate(-1)`, is equivalent to hitting the back button of the browser)\n\t * @param {Object} options\n\t * @param {*} [options.state]\n\t * @param {boolean} [options.replace=false]\n\t */\n\tconst navigateRelative = (to, options) => {\n\t\t// If to is a number, we navigate to the target stack entry via `history.go`.\n\t\t// Otherwise resolve the link\n\t\tconst target = isNumber(to) ? to : resolve(to);\n\t\treturn navigate(target, options);\n\t};\n\treturn navigateRelative;\n}\n\n/**\n * Use Svelte Navigators matching without needing to use a Route.\n * Returns a readable store with the potential match,\n * that changes, when the location changes.\n *\n * The provided path will be resolved relatively,\n * as you're used to with all paths in Svelte Navigator\n *\n * @param {string} path The path, to match against.\n * It works just like a Route path\n * @returns {RouteMatchStore} The matched route.\n * Returns `null`, when nothing could be matched\n *\n * @example\n  ```html\n  <script>\n    import { useMatch } from \"svelte-navigator\";\n\n    const relativeMatch = useMatch(\"relative/path/:to/*somewhere\");\n    const absoluteMatch = useMatch(\"/absolute/path/:to/*somewhere\");\n\n    $: console.log($relativeMatch.params.to);\n    $: console.log($absoluteMatch.params.somewhere);\n  </script>\n  ```\n */\nexport function useMatch(path) {\n\tusePreflightCheck(USE_MATCH_ID);\n\tconst location = useLocation();\n\tconst resolve = useResolve();\n\tconst { basepath: appBase } = getContext(ROUTER);\n\tconst resolvedPath = resolve(path);\n\tconst { pathname: fullPath } = normalizeLocation(\n\t\t{ pathname: resolvedPath },\n\t\tappBase,\n\t);\n\treturn derived(location, loc => match({ fullPath, path }, loc.pathname));\n}\n\n/**\n * Access the parent Routes matched params and wildcards\n * @returns {import(\"svelte/store\").Readable<{\n     [param: string]: any;\n   }>} A readable store containing the matched parameters and wildcards\n *\n * @example\n  ```html\n  <!--\n    Somewhere inside <Route path=\"user/:id/*splat\" />\n    with a current url of \"/myApp/user/123/pauls-profile\"\n  -->\n  <script>\n    import { useParams } from \"svelte-navigator\";\n\n    const params = useParams();\n\n    $: console.log($params); // -> { id: \"123\", splat: \"pauls-profile\" }\n  </script>\n\n  <h3>Welcome user {$params.id}! bleep bloop...</h3>\n  ```\n */\nexport function useParams() {\n\tusePreflightCheck(USE_PARAMS_ID, null, ROUTE, ROUTE_ID);\n\treturn toReadonly(ROUTE_PARAMS);\n}\n\n/**\n * Provide a custom element to focus, when the parent route is visited.\n * It returns the `registerFocus` function you can call manually with an\n * Element or use as a Svelte action via the `use` directive.\n *\n * @example\n  ```html\n  <!-- Using `registerFocus` as a Svelte action: -->\n  <!-- Somewhere inside a Route -->\n  <script>\n    import { useFocus } from \"svelte-navigator\";\n\n    const registerFocus = useFocus();\n  </script>\n\n  <h1>Don't worry about me...</h1>\n  <p use:registerFocus>Here, look at me!</p>\n  ```\n  * @example\n  ```html\n  <!-- Calling `registerFocus` manually: -->\n  <!-- Somewhere inside a Route -->\n  <script>\n    import { onMount } from \"svelte\";\n    import { useFocus } from \"svelte-navigator\";\n\n    const registerFocus = useFocus();\n\n    let focusElement;\n\n    onMount(() => registerFocus(focusElement))\n  </script>\n\n  <h1>Don't worry about me...</h1>\n  <p bind:this={focusElement}>Here, look at me!</p>\n  ```\n  * @example\n  ```html\n  <!-- Using `registerFocus` asyncronously: -->\n  <!-- Somewhere inside a Route -->\n  <script>\n    import { onMount } from \"svelte\";\n    import { useFocus } from \"svelte-navigator\";\n\n    const registerFocus = useFocus();\n\n    const lazyImport = import(\"./MyComponent.svelte\").then(module => module.default);\n  </script>\n\n  {#await lazyImport then MyComponent}\n    <MyComponent {registerFocus} />\n  {/await}\n\n  <!-- MyComponent.svelte -->\n  <script>\n    export let registerFocus;\n  </script>\n\n  <h1 use:registerFocus>Hi there!</h1>\n  ```\n */\nexport function useFocus() {\n\tusePreflightCheck(USE_FOCUS_ID, null, ROUTE, ROUTE_ID);\n\tconst location = useLocation();\n\tconst focusElement = getContext(FOCUS_ELEM);\n\n\tlet resolve;\n\tconst unsubscribe = location.subscribe(() => {\n\t\tconst lazyElement = new Promise(_resolve => {\n\t\t\tresolve = _resolve;\n\t\t});\n\t\tfocusElement.set(lazyElement);\n\t});\n\n\tonDestroy(unsubscribe);\n\n\treturn node => {\n\t\tlet unmounted = false;\n\t\tconst innerUnsubscribe = location.subscribe(() => {\n\t\t\ttick().then(() => {\n\t\t\t\tif (!unmounted) {\n\t\t\t\t\tresolve(node);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tunmounted = true;\n\t\t\t\tinnerUnsubscribe();\n\t\t\t},\n\t\t};\n\t};\n}\n","<script context=\"module\">\n\t// eslint-disable-next-line import/order\n\timport { createCounter } from \"./utils\";\n\n\tconst createId = createCounter();\n</script>\n\n<script>\n\t/*\n\t * Adapted from https://github.com/EmilTholin/svelte-routing\n\t *\n\t * https://github.com/EmilTholin/svelte-routing/blob/master/LICENSE\n\t */\n\n\timport { getContext, onDestroy, setContext } from \"svelte\";\n\timport { writable, get } from \"svelte/store\";\n\timport Router from \"./Router.svelte\";\n\timport { ROUTER, ROUTE, ROUTE_PARAMS, FOCUS_ELEM } from \"./contexts\";\n\timport {\n\t\tuseLocation,\n\t\tuseNavigate,\n\t\tuseRouteBase,\n\t\tusePreflightCheck,\n\t} from \"./hooks\";\n\timport { isSSR } from \"./utils\";\n\timport { extractBaseUri } from \"./routes\";\n\timport { join } from \"./paths\";\n\timport { ROUTE_ID } from \"./warning\";\n\n\texport let path = \"\";\n\texport let component = null;\n\texport let meta = {};\n\texport let primary = true;\n\n\tusePreflightCheck(ROUTE_ID, $$props);\n\n\tconst id = createId();\n\n\tconst { registerRoute, unregisterRoute, activeRoute } = getContext(ROUTER);\n\tconst parentBase = useRouteBase();\n\tconst location = useLocation();\n\tconst focusElement = writable(null);\n\n\t// In SSR we cannot wait for $activeRoute to update,\n\t// so we use the match returned from `registerRoute` instead\n\tlet ssrMatch;\n\n\tconst route = writable();\n\t$: {\n\t\t// The route store will be re-computed whenever props, location or parentBase change\n\t\tconst isDefault = path === \"\";\n\t\tconst rawBase = join($parentBase, path);\n\t\tconst updatedRoute = {\n\t\t\tid,\n\t\t\tpath,\n\t\t\tmeta,\n\t\t\t// If no path prop is given, this Route will act as the default Route\n\t\t\t// that is rendered if no other Route in the Router is a match\n\t\t\tdefault: isDefault,\n\t\t\tfullPath: isDefault ? \"\" : rawBase,\n\t\t\tbase: isDefault\n\t\t\t\t? $parentBase\n\t\t\t\t: extractBaseUri(rawBase, $location.pathname),\n\t\t\tprimary,\n\t\t\tfocusElement,\n\t\t};\n\t\troute.set(updatedRoute);\n\t\t// If we're in SSR mode and the Route matches,\n\t\t// `registerRoute` will return the match\n\t\tssrMatch = registerRoute(updatedRoute);\n\t}\n\n\t$: isActive = !!(ssrMatch || ($activeRoute && $activeRoute.id === id));\n\n\tconst params = writable({});\n\t$: if (isActive) {\n\t\tconst { params: activeParams } = ssrMatch || $activeRoute;\n\t\tparams.set(activeParams);\n\t}\n\n\tsetContext(ROUTE, route);\n\tsetContext(ROUTE_PARAMS, params);\n\tsetContext(FOCUS_ELEM, focusElement);\n\n\t// We need to call useNavigate after the route is set,\n\t// so we can use the routes path for link resolution\n\tconst navigate = useNavigate();\n\n\t// There is no need to unregister Routes in SSR since it will all be\n\t// thrown away anyway\n\tif (!isSSR) {\n\t\tonDestroy(() => unregisterRoute(id));\n\t}\n</script>\n\n<div style=\"display:none;\" aria-hidden=\"true\" data-svnav-route-start={id} />\n{#if isActive}\n\t<Router {primary}>\n\t\t<!--\n      `$params` always returns `{}` in SSR in Route, because it will\n      update after component initialisation has already happend.\n      `get(params)` always works, but is not reactive, so we can't\n      use it in client rendered mode\n    -->\n\t\t{#if component !== null}\n\t\t\t<svelte:component\n\t\t\t\tthis={component}\n\t\t\t\tlocation={$location}\n\t\t\t\t{navigate}\n\t\t\t\t{...isSSR ? get(params) : $params}\n\t\t\t\t{...$$restProps}\n\t\t\t/>\n\t\t{:else}\n\t\t\t<slot\n\t\t\t\tparams={isSSR ? get(params) : $params}\n\t\t\t\tlocation={$location}\n\t\t\t\t{navigate}\n\t\t\t/>\n\t\t{/if}\n\t</Router>\n{/if}\n<div style=\"display:none;\" aria-hidden=\"true\" data-svnav-route-end={id} />\n","<script>\n\t/*\n\t * Adapted from https://github.com/EmilTholin/svelte-routing\n\t *\n\t * https://github.com/EmilTholin/svelte-routing/blob/master/LICENSE\n\t */\n\n\timport { createEventDispatcher } from \"svelte\";\n\timport {\n\t\tuseLocation,\n\t\tuseResolve,\n\t\tuseHistory,\n\t\tusePreflightCheck,\n\t} from \"./hooks\";\n\timport { shouldNavigate, isFunction } from \"./utils\";\n\timport { startsWith } from \"./paths\";\n\timport { LINK_ID } from \"./warning\";\n\n\texport let to;\n\texport let replace = false;\n\texport let state = {};\n\texport let getProps = null;\n\n\tusePreflightCheck(LINK_ID, $$props);\n\n\tconst location = useLocation();\n\tconst dispatch = createEventDispatcher();\n\tconst resolve = useResolve();\n\tconst { navigate } = useHistory();\n\n\t// We need to pass location here to force re-resolution of the link,\n\t// when the pathname changes. Otherwise we could end up with stale path params,\n\t// when for example an :id changes in the parent Routes path\n\t$: href = resolve(to, $location);\n\t$: isPartiallyCurrent = startsWith($location.pathname, href);\n\t$: isCurrent = href === $location.pathname;\n\t$: ariaCurrent = isCurrent ? { \"aria-current\": \"page\" } : {};\n\t$: props = (() => {\n\t\tif (isFunction(getProps)) {\n\t\t\tconst dynamicProps = getProps({\n\t\t\t\tlocation: $location,\n\t\t\t\thref,\n\t\t\t\tisPartiallyCurrent,\n\t\t\t\tisCurrent,\n\t\t\t});\n\t\t\treturn { ...$$restProps, ...dynamicProps };\n\t\t}\n\t\treturn $$restProps;\n\t})();\n\n\tfunction onClick(event) {\n\t\tdispatch(\"click\", event);\n\n\t\tif (shouldNavigate(event)) {\n\t\t\tevent.preventDefault();\n\t\t\t// Don't push another entry to the history stack when the user\n\t\t\t// clicks on a Link to the page they are currently on.\n\t\t\tconst shouldReplace = isCurrent || replace;\n\t\t\tnavigate(href, { state, replace: shouldReplace });\n\t\t}\n\t}\n</script>\n\n<a {href} {...ariaCurrent} on:click={onClick} {...props}>\n\t<slot />\n</a>\n","export function getOriginalBodyPadding() {\n  const style = window ? window.getComputedStyle(document.body, null) : {};\n\n  return parseInt((style && style.getPropertyValue('padding-right')) || 0, 10);\n}\n\nexport function getScrollbarWidth() {\n  let scrollDiv = document.createElement('div');\n  // .modal-scrollbar-measure styles // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.4/scss/_modal.scss#L106-L113\n  scrollDiv.style.position = 'absolute';\n  scrollDiv.style.top = '-9999px';\n  scrollDiv.style.width = '50px';\n  scrollDiv.style.height = '50px';\n  scrollDiv.style.overflow = 'scroll';\n  document.body.appendChild(scrollDiv);\n  const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n}\n\nexport function setScrollbarWidth(padding) {\n  document.body.style.paddingRight = padding > 0 ? `${padding}px` : null;\n}\n\nexport function isBodyOverflowing() {\n  return window ? document.body.clientWidth < window.innerWidth : false;\n}\n\nexport function isObject(value) {\n  const type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport function conditionallyUpdateScrollbar() {\n  const scrollbarWidth = getScrollbarWidth();\n  // https://github.com/twbs/bootstrap/blob/v4.0.0-alpha.6/js/src/modal.js#L433\n  const fixedContent = document.querySelectorAll(\n    '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top'\n  )[0];\n  const bodyPadding = fixedContent\n    ? parseInt(fixedContent.style.paddingRight || 0, 10)\n    : 0;\n\n  if (isBodyOverflowing()) {\n    setScrollbarWidth(bodyPadding + scrollbarWidth);\n  }\n}\n\nexport function getColumnSizeClass(isXs, colWidth, colSize) {\n  if (colSize === true || colSize === '') {\n    return isXs ? 'col' : `col-${colWidth}`;\n  } else if (colSize === 'auto') {\n    return isXs ? 'col-auto' : `col-${colWidth}-auto`;\n  }\n\n  return isXs ? `col-${colSize}` : `col-${colWidth}-${colSize}`;\n}\n\nexport function browserEvent(target, ...args) {\n  target.addEventListener(...args);\n\n  return () => target.removeEventListener(...args);\n}\n\nexport function getNewCarouselActiveIndex(direction, items, activeIndex) {\n  if (direction === 'prev') {\n    return activeIndex === 0 ? items.length - 1 : activeIndex - 1;\n  } else if (direction === 'next') {\n    return activeIndex === items.length - 1 ? 0 : activeIndex + 1;\n  }\n}\n\nfunction toClassName(value) {\n  let result = '';\n\n  if (typeof value === 'string' || typeof value === 'number') {\n    result += value;\n  } else if (typeof value === 'object') {\n    if (Array.isArray(value)) {\n      result = value.map(toClassName).filter(Boolean).join(' ');\n    } else {\n      for (let key in value) {\n        if (value[key]) {\n          result && (result += ' ');\n          result += key;\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nexport default function classnames(...args) {\n  return args.map(toClassName).filter(Boolean).join(' ');\n}\n\nexport function getTransitionDuration(element) {\n  if (!element) return 0;\n\n  // Get transition-duration of the element\n  let { transitionDuration, transitionDelay } =\n    window.getComputedStyle(element);\n\n  const floatTransitionDuration = Number.parseFloat(transitionDuration);\n  const floatTransitionDelay = Number.parseFloat(transitionDelay);\n\n  // Return 0 if element or transition duration is not found\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0;\n  }\n\n  // If multiple durations are defined, take the first\n  transitionDuration = transitionDuration.split(',')[0];\n  transitionDelay = transitionDelay.split(',')[0];\n\n  return (\n    (Number.parseFloat(transitionDuration) +\n      Number.parseFloat(transitionDelay)) *\n    1000\n  );\n}\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = (Math.random() * 16) | 0;\n    const v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n","import { getTransitionDuration } from './utils';\n\nexport function backdropIn(node) {\n  node.style.display = 'block';\n\n  const duration = getTransitionDuration(node);\n\n  return {\n    duration,\n    tick: (t) => {\n      if (t === 0) {\n        node.classList.add('show');\n      }\n    }\n  };\n}\n\nexport function backdropOut(node) {\n  node.classList.remove('show');\n  const duration = getTransitionDuration(node);\n\n  return {\n    duration,\n    tick: (t) => {\n      if (t === 0) {\n        node.style.display = 'none';\n      }\n    }\n  };\n}\n\nexport function collapseOut(node) {\n  node.style.height = `${node.getBoundingClientRect().height}px`;\n  node.classList.add('collapsing');\n  node.classList.remove('collapse', 'show');\n  const duration = getTransitionDuration(node);\n\n  return {\n    duration,\n    tick: (t) => {\n      if (t > 0) {\n        node.style.height = '';\n      } else if (t === 0) {\n        node.classList.remove('collapsing');\n        node.classList.add('collapse');\n      }\n    }\n  };\n}\n\nexport function collapseIn(node) {\n  node.classList.add('collapsing');\n  node.classList.remove('collapse', 'show');\n  node.style.height = 0;\n  const duration = getTransitionDuration(node);\n\n  return {\n    duration,\n    tick: (t) => {\n      if (t < 1) {\n        node.style.height = `${node.scrollHeight}px`;\n      } else {\n        node.classList.remove('collapsing');\n        node.classList.add('collapse', 'show');\n        node.style.height = '';\n      }\n    }\n  };\n}\n\nexport function modalIn(node) {\n  node.style.display = 'block';\n  const duration = getTransitionDuration(node);\n\n  return {\n    duration,\n    tick: (t) => {\n      if (t > 0) {\n        node.classList.add('show');\n      }\n    }\n  };\n}\n\nexport function modalOut(node) {\n  node.classList.remove('show');\n  const duration = getTransitionDuration(node);\n\n  return {\n    duration,\n    tick: (t) => {\n      if (t === 1) {\n        node.style.display = 'none';\n      }\n    }\n  };\n}\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let active = false;\n  export let block = false;\n  export let children = undefined;\n  export let close = false;\n  export let color = 'secondary';\n  export let disabled = false;\n  export let href = '';\n  export let inner = undefined;\n  export let outline = false;\n  export let size = null;\n  export let style = '';\n  export let value = '';\n\n  $: ariaLabel = $$props['aria-label'];\n\n  $: classes = classnames(\n    className,\n    close ? 'btn-close' : 'btn',\n    close || `btn${outline ? '-outline' : ''}-${color}`,\n    size ? `btn-${size}` : false,\n    block ? 'd-block w-100' : false,\n    { active }\n  );\n\n  $: defaultAriaLabel = close ? 'Close' : null;\n</script>\n\n{#if href}\n  <a\n    {...$$restProps}\n    class={classes}\n    {disabled}\n    bind:this={inner}\n    on:click\n    {href}\n    aria-label={ariaLabel || defaultAriaLabel}\n    {style}\n  >\n    {#if children}\n      {children}\n    {:else}\n      <slot />\n    {/if}\n  </a>\n{:else}\n  <button\n    {...$$restProps}\n    class={classes}\n    {disabled}\n    bind:this={inner}\n    on:click\n    {value}\n    aria-label={ariaLabel || defaultAriaLabel}\n    {style}\n  >\n    <slot>\n      {#if children}\n        {children}\n      {:else}\n        <slot />\n      {/if}\n    </slot>\n  </button>\n{/if}\n","<script>\n  import { getColumnSizeClass, isObject } from './utils';\n\n  let className = '';\n  export { className as class };\n  export let xs = undefined;\n  export let sm = undefined;\n  export let md = undefined;\n  export let lg = undefined;\n  export let xl = undefined;\n  export let xxl = undefined;\n\n  const colClasses = [];\n  const lookup = {\n    xs,\n    sm,\n    md,\n    lg,\n    xl,\n    xxl\n  };\n\n  Object.keys(lookup).forEach((colWidth) => {\n    const columnProp = lookup[colWidth];\n    if (!columnProp && columnProp !== '') {\n      return; //no value for this width\n    }\n\n    const isXs = colWidth === 'xs';\n\n    if (isObject(columnProp)) {\n      const colSizeInterfix = isXs ? '-' : `-${colWidth}-`;\n      const colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n\n      if (columnProp.size || columnProp.size === '') {\n        colClasses.push(colClass);\n      }\n      if (columnProp.push) {\n        colClasses.push(`push${colSizeInterfix}${columnProp.push}`);\n      }\n      if (columnProp.pull) {\n        colClasses.push(`pull${colSizeInterfix}${columnProp.pull}`);\n      }\n      if (columnProp.offset) {\n        colClasses.push(`offset${colSizeInterfix}${columnProp.offset}`);\n      }\n    } else {\n      colClasses.push(getColumnSizeClass(isXs, colWidth, columnProp));\n    }\n  });\n\n  if (!colClasses.length) {\n    colClasses.push('col');\n  }\n\n  if (className) {\n    colClasses.push(className);\n  }\n</script>\n\n<div {...$$restProps} class={colClasses.join(' ')}>\n  <slot />\n</div>\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let sm = undefined;\n  export let md = undefined;\n  export let lg = undefined;\n  export let xl = undefined;\n  export let xxl = undefined;\n  export let fluid = false;\n\n  $: classes = classnames(className, {\n    'container-sm': sm,\n    'container-md': md,\n    'container-lg': lg,\n    'container-xl': xl,\n    'container-xxl': xxl,\n    'container-fluid': fluid,\n    container: !sm && !md && !lg && !xl && !xxl && !fluid\n  });\n</script>\n\n<div {...$$restProps} class={classes}>\n  <slot />\n</div>\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let checked = false;\n  export let disabled = false;\n  export let group = undefined;\n  export let id = undefined;\n  export let inline = false;\n  export let inner = undefined;\n  export let invalid = false;\n  export let label = '';\n  export let name = '';\n  export let size = '';\n  export let type = 'checkbox';\n  export let valid = false;\n  export let value = undefined;\n\n  $: classes = classnames(className, 'form-check', {\n    'form-switch': type === 'switch',\n    'form-check-inline': inline,\n    [`form-control-${size}`]: size\n  });\n\n  $: inputClasses = classnames('form-check-input', {\n    'is-invalid': invalid,\n    'is-valid': valid\n  });\n  $: idFor = id || label;\n</script>\n\n<div class={classes}>\n  {#if type === 'radio'}\n    <input\n      {...$$restProps}\n      class={inputClasses}\n      id={idFor}\n      type=\"radio\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      bind:group\n      bind:this={inner}\n      {disabled}\n      {name}\n      {value}\n    />\n  {:else if type === 'switch'}\n    <input\n      {...$$restProps}\n      class={inputClasses}\n      id={idFor}\n      type=\"checkbox\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      bind:checked\n      bind:this={inner}\n      {disabled}\n      {name}\n      {value}\n    />\n  {:else}\n    <input\n      {...$$restProps}\n      class={inputClasses}\n      id={idFor}\n      type=\"checkbox\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      bind:checked\n      bind:this={inner}\n      {disabled}\n      {name}\n      {value}\n    />\n  {/if}\n  {#if label}\n    <label class=\"form-check-label\" for={idFor}>\n      <slot name=\"label\">{label}</slot>\n    </label>\n  {/if}\n</div>\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let valid = undefined;\n  export let tooltip = false;\n  let classes;\n\n  $: {\n    const validMode = tooltip ? 'tooltip' : 'feedback';\n\n    classes = classnames(\n      className,\n      valid ? `valid-${validMode}` : `invalid-${validMode}`\n    );\n  }\n</script>\n\n<div {...$$restProps} class={classes}>\n  <slot />\n</div>\n","<script>\n  import classnames from './utils';\n\n  export let className = '';\n  export { className as class };\n  export let check = false;\n  export let disabled = false;\n  export let inline = false;\n  export let row = false;\n  export let tag = null;\n\n  $: classes = classnames(className, 'mb-3', {\n    row,\n    'form-check': check,\n    'form-check-inline': check && inline,\n    disabled: check && disabled\n  });\n</script>\n\n{#if tag === 'fieldset'}\n  <fieldset {...$$restProps} class={classes}>\n    <slot />\n  </fieldset>\n{:else}\n  <div {...$$restProps} class={classes}>\n    <slot />\n  </div>\n{/if}\n","<script>\n  let x = 'wtf svelte?'; // eslint-disable-line\n</script>\n<div><slot /></div>\n","<script>\n  import FormCheck from './FormCheck.svelte';\n  import FormFeedback from './FormFeedback.svelte';\n\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n\n  export let bsSize = undefined;\n  export let checked = false;\n  export let color = undefined;\n  export let disabled = undefined;\n  export let feedback = undefined;\n  export let files = undefined;\n  export let group = undefined;\n  export let inner = undefined;\n  export let invalid = false;\n  export let label = undefined;\n  export let multiple = undefined;\n  export let name = '';\n  export let placeholder = '';\n  export let plaintext = false;\n  export let readonly = undefined;\n  export let size = undefined;\n  export let type = 'text';\n  export let valid = false;\n  export let value = '';\n\n  let classes;\n  let tag;\n  $: {\n    const isNotaNumber = new RegExp('\\\\D', 'g');\n\n    let isBtn = false;\n    let formControlClass = 'form-control';\n    tag = 'input';\n\n    switch (type) {\n      case 'color':\n        formControlClass = `form-control form-control-color`;\n        break;\n      case 'range':\n        formControlClass = 'form-range';\n        break;\n      case 'select':\n        formControlClass = `form-select`;\n        tag = 'select';\n        break;\n      case 'textarea':\n        tag = 'textarea';\n        break;\n      case 'button':\n      case 'reset':\n      case 'submit':\n        formControlClass = `btn btn-${color || 'secondary'}`;\n        isBtn = true;\n        break;\n      case 'hidden':\n      case 'image':\n        formControlClass = undefined;\n        break;\n      default:\n        formControlClass = 'form-control';\n        tag = 'input';\n    }\n    if (plaintext) {\n      formControlClass = `${formControlClass}-plaintext`;\n      tag = 'input';\n    }\n\n    if (size && isNotaNumber.test(size)) {\n      console.warn(\n        'Please use the prop \"bsSize\" instead of the \"size\" to bootstrap\\'s input sizing.'\n      );\n      bsSize = size;\n      size = undefined;\n    }\n\n    classes = classnames(className, formControlClass, {\n      'is-invalid': invalid,\n      'is-valid': valid,\n      [`form-control-${bsSize}`]: bsSize && !isBtn,\n      [`btn-${bsSize}`]: bsSize && isBtn\n    });\n  }\n\n  const handleInput = (event) => {\n    value = event.target.value;\n  };\n</script>\n\n{#if tag === 'input'}\n  {#if type === 'text'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"text\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n      {size}\n    />\n  {:else if type === 'password'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"password\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n      {size}\n    />\n  {:else if type === 'color'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"color\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n    />\n  {:else if type === 'email'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"email\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {multiple}\n      {name}\n      {placeholder}\n      {readonly}\n      {size}\n    />\n  {:else if type === 'file'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"file\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:files\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {invalid}\n      {multiple}\n      {name}\n      {placeholder}\n      {readonly}\n      {valid}\n    />\n  {:else if type === 'checkbox' || type === 'radio' || type === 'switch'}\n    <FormCheck\n      {...$$restProps}\n      class={className}\n      size={bsSize}\n      {type}\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:checked\n      bind:inner\n      bind:group\n      bind:value\n      {disabled}\n      {invalid}\n      {label}\n      {name}\n      {placeholder}\n      {readonly}\n      {valid}\n    />\n  {:else if type === 'url'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"url\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n      {size}\n    />\n  {:else if type === 'number'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"number\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {readonly}\n      {name}\n      {disabled}\n      {placeholder}\n    />\n  {:else if type === 'date'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"date\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n    />\n  {:else if type === 'time'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"time\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n    />\n  {:else if type === 'datetime'}\n    <input\n      {...$$restProps}\n      type=\"datetime\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {readonly}\n      class={classes}\n      {name}\n      {disabled}\n      {placeholder}\n    />\n  {:else if type === 'datetime-local'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"datetime-local\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n    />\n  {:else if type === 'month'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"month\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n    />\n  {:else if type === 'color'}\n    <input\n      {...$$restProps}\n      type=\"color\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {readonly}\n      class={classes}\n      {name}\n      {disabled}\n      {placeholder}\n    />\n  {:else if type === 'range'}\n    <input\n      {...$$restProps}\n      type=\"range\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {readonly}\n      class={classes}\n      {name}\n      {disabled}\n      {placeholder}\n    />\n  {:else if type === 'search'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"search\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n      {size}\n    />\n  {:else if type === 'tel'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"tel\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n      {size}\n    />\n  {:else if type === 'week'}\n    <input\n      {...$$restProps}\n      class={classes}\n      type=\"week\"\n      on:blur\n      on:change\n      on:focus\n      on:input\n      on:keydown\n      on:keypress\n      on:keyup\n      bind:value\n      bind:this={inner}\n      {disabled}\n      {name}\n      {placeholder}\n      {readonly}\n    />\n  {:else}\n    <input\n      {...$$restProps}\n      {type}\n      on:blur\n      on:change={handleInput}\n      on:focus\n      on:input={handleInput}\n      on:keydown\n      on:keypress\n      on:keyup\n      {readonly}\n      class={classes}\n      {name}\n      {disabled}\n      {placeholder}\n      {value}\n    />\n  {/if}\n{:else if tag === 'textarea'}\n  <textarea\n    {...$$restProps}\n    class={classes}\n    on:blur\n    on:change\n    on:focus\n    on:input\n    on:keydown\n    on:keypress\n    on:keyup\n    bind:value\n    bind:this={inner}\n    {disabled}\n    {name}\n    {placeholder}\n    {readonly}\n  />\n{:else if tag === 'select' && !multiple}\n  <select\n    {...$$restProps}\n    class={classes}\n    on:blur\n    on:change\n    on:focus\n    on:input\n    bind:value\n    bind:this={inner}\n    {name}\n    {disabled}\n    {readonly}\n  >\n    <slot />\n  </select>\n\n  <!-- {:else if tag === 'select' && multiple}\n  <select\n    {...$$restProps}\n    multiple\n    class={classes}\n    on:blur\n    on:focus\n    on:change\n    on:input\n    bind:value\n    bind:this={inner}\n    {name}\n    {disabled}>\n    <slot />\n  </select> -->\n{/if}\n{#if feedback}\n  {#if Array.isArray(feedback)}\n    {#each feedback as msg}\n      <FormFeedback {valid}>{msg}</FormFeedback>\n    {/each}\n  {:else}\n    <FormFeedback {valid}>{feedback}</FormFeedback>\n  {/if}\n{/if}\n","<script>\n  import classnames from './utils';\n\n  import { getColumnSizeClass, isObject } from './utils';\n\n  let className = '';\n\n  export { className as class };\n  export let hidden = false;\n  export let check = false;\n  export let size = '';\n  export let fore = null;\n  export { fore as for };\n  export let xs = '';\n  export let sm = '';\n  export let md = '';\n  export let lg = '';\n  export let xl = '';\n  export let xxl = '';\n\n  const colWidths = {\n    xs,\n    sm,\n    md,\n    lg,\n    xl,\n    xxl\n  };\n  export let widths = Object.keys(colWidths);\n\n  const colClasses = [];\n\n  widths.forEach((colWidth) => {\n    let columnProp = $$props[colWidth];\n\n    if (!columnProp && columnProp !== '') {\n      return;\n    }\n\n    const isXs = colWidth === 'xs';\n    let colClass;\n\n    if (isObject(columnProp)) {\n      const colSizeInterfix = isXs ? '-' : `-${colWidth}-`;\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp.size);\n\n      colClasses.push(\n        classnames({\n          [colClass]: columnProp.size || columnProp.size === '',\n          [`order${colSizeInterfix}${columnProp.order}`]:\n            columnProp.order || columnProp.order === 0,\n          [`offset${colSizeInterfix}${columnProp.offset}`]:\n            columnProp.offset || columnProp.offset === 0\n        })\n      );\n    } else {\n      colClass = getColumnSizeClass(isXs, colWidth, columnProp);\n      colClasses.push(colClass);\n    }\n  });\n\n  $: classes = classnames(\n    className,\n    hidden ? 'visually-hidden' : false,\n    check ? 'form-check-label' : false,\n    size ? `col-form-label-${size}` : false,\n    colClasses,\n    colClasses.length ? 'col-form-label' : 'form-label'\n  );\n</script>\n\n<label {...$$restProps} class={classes} for={fore}>\n  <slot />\n</label>\n","<script>\n  // TODO only allow single backdrop open at once.\n  import classnames from './utils';\n  import { backdropIn, backdropOut } from './transitions.js';\n  let className = '';\n  export { className as class };\n  export let isOpen = false;\n  export let fade = true;\n  $: classes = classnames(className, 'modal-backdrop');\n</script>\n\n{#if isOpen}\n  <div\n    {...$$restProps}\n    on:click\n    class={classes}\n    class:fade\n    in:backdropIn\n    out:backdropOut\n  />\n{/if}\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n\n  $: classes = classnames(className, 'modal-body');\n</script>\n\n<div {...$$restProps} class={classes}>\n  <slot />\n</div>\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let toggle = undefined;\n  export let closeAriaLabel = 'Close';\n  export let children = undefined;\n\n  $: classes = classnames(className, 'modal-header');\n</script>\n\n<div {...$$restProps} class={classes}>\n  <h5 class=\"modal-title\">\n    {#if children}\n      {children}\n    {:else}\n      <slot />\n    {/if}\n  </h5>\n  <slot name=\"close\">\n    {#if typeof toggle === 'function'}\n      <button\n        type=\"button\"\n        on:click={toggle}\n        class=\"btn-close\"\n        aria-label={closeAriaLabel}\n      />\n    {/if}\n  </slot>\n</div>\n","<script>\n  import { onMount, onDestroy } from 'svelte';\n  let ref;\n  let portal;\n\n  onMount(() => {\n    portal = document.createElement('div');\n    document.body.appendChild(portal);\n    portal.appendChild(ref);\n  });\n\n  onDestroy(() => {\n    if (typeof document !== 'undefined') {\n      document.body.removeChild(portal);\n    }\n  });\n</script>\n\n<div bind:this={ref} {...$$restProps}>\n  <slot />\n</div>\n","<script context=\"module\">\n  // TODO fade option\n  let openCount = 0;\n</script>\n\n<script>\n  import classnames from './utils';\n  import { browserEvent } from './utils';\n  import {\n    createEventDispatcher,\n    onDestroy,\n    onMount,\n    afterUpdate\n  } from 'svelte';\n  import { modalIn, modalOut } from './transitions';\n  import InlineContainer from './InlineContainer.svelte';\n  import ModalBackdrop from './ModalBackdrop.svelte';\n  import ModalBody from './ModalBody.svelte';\n  import ModalHeader from './ModalHeader.svelte';\n  import Portal from './Portal.svelte';\n  import {\n    conditionallyUpdateScrollbar,\n    getOriginalBodyPadding,\n    setScrollbarWidth\n  } from './utils';\n\n  const dispatch = createEventDispatcher();\n\n  let className = '';\n  let staticModal = false;\n  export { className as class };\n  export { staticModal as static };\n  export let isOpen = false;\n  export let autoFocus = true;\n  export let body = false;\n  export let centered = false;\n  export let container = undefined;\n  export let fullscreen = false;\n  export let header = undefined;\n  export let scrollable = false;\n  export let size = '';\n  export let toggle = undefined;\n  export let labelledBy = '';\n  export let backdrop = true;\n  export let wrapClassName = '';\n  export let modalClassName = '';\n  export let contentClassName = '';\n  export let fade = true;\n  export let unmountOnClose = true;\n  export let returnFocusAfterClose = true;\n\n  let hasOpened = false;\n  let _isMounted = false;\n  let _triggeringElement;\n  let _originalBodyPadding;\n  let _lastIsOpen = isOpen;\n  let _lastHasOpened = hasOpened;\n  let _dialog;\n  let _mouseDownElement;\n  let _removeEscListener;\n\n  onMount(() => {\n    if (isOpen) {\n      init();\n      hasOpened = true;\n    }\n\n    if (hasOpened && autoFocus) {\n      setFocus();\n    }\n  });\n\n  onDestroy(() => {\n    destroy();\n    if (hasOpened) {\n      close();\n    }\n  });\n\n  afterUpdate(() => {\n    if (isOpen && !_lastIsOpen) {\n      init();\n      hasOpened = true;\n    }\n\n    if (autoFocus && hasOpened && !_lastHasOpened) {\n      setFocus();\n    }\n\n    _lastIsOpen = isOpen;\n    _lastHasOpened = hasOpened;\n  });\n\n  function setFocus() {\n    if (\n      _dialog &&\n      _dialog.parentNode &&\n      typeof _dialog.parentNode.focus === 'function'\n    ) {\n      _dialog.parentNode.focus();\n    }\n  }\n\n  function init() {\n    try {\n      _triggeringElement = document.activeElement;\n    } catch (err) {\n      _triggeringElement = null;\n    }\n\n    if (!staticModal) {\n      _originalBodyPadding = getOriginalBodyPadding();\n      conditionallyUpdateScrollbar();\n      if (openCount === 0) {\n        document.body.className = classnames(\n          document.body.className,\n          'modal-open'\n        );\n      }\n\n      ++openCount;\n    }\n    _isMounted = true;\n  }\n\n  function manageFocusAfterClose() {\n    if (_triggeringElement) {\n      if (\n        typeof _triggeringElement.focus === 'function' &&\n        returnFocusAfterClose\n      ) {\n        _triggeringElement.focus();\n      }\n\n      _triggeringElement = null;\n    }\n  }\n\n  function destroy() {\n    manageFocusAfterClose();\n  }\n\n  function close() {\n    if (openCount <= 1) {\n      document.body.classList.remove('modal-open');\n    }\n\n    manageFocusAfterClose();\n    openCount = Math.max(0, openCount - 1);\n\n    setScrollbarWidth(_originalBodyPadding);\n  }\n\n  function handleBackdropClick(e) {\n    if (e.target === _mouseDownElement) {\n      e.stopPropagation();\n      if (!isOpen || !backdrop) {\n        return;\n      }\n\n      const backdropElem = _dialog ? _dialog.parentNode : null;\n      if (\n        backdrop === true &&\n        backdropElem &&\n        e.target === backdropElem &&\n        toggle\n      ) {\n        toggle(e);\n      }\n    }\n  }\n\n  function onModalOpened() {\n    dispatch('open');\n    _removeEscListener = browserEvent(document, 'keydown', (event) => {\n      if (event.key && event.key === 'Escape') {\n        if (toggle && backdrop === true) toggle(event);\n      }\n    });\n  }\n\n  function onModalClosed() {\n    dispatch('close');\n    if (_removeEscListener) {\n      _removeEscListener();\n    }\n\n    if (unmountOnClose) {\n      destroy();\n    }\n    close();\n    if (_isMounted) {\n      hasOpened = false;\n    }\n    _isMounted = false;\n  }\n\n  function handleBackdropMouseDown(e) {\n    _mouseDownElement = e.target;\n  }\n\n  const dialogBaseClass = 'modal-dialog';\n\n  $: classes = classnames(dialogBaseClass, className, {\n    [`modal-${size}`]: size,\n    'modal-fullscreen': fullscreen === true,\n    [`modal-fullscreen-${fullscreen}-down`]:\n      fullscreen && typeof fullscreen === 'string',\n    [`${dialogBaseClass}-centered`]: centered,\n    [`${dialogBaseClass}-scrollable`]: scrollable\n  });\n\n  $: outer = container === 'inline' || staticModal ? InlineContainer : Portal;\n</script>\n\n{#if _isMounted}\n  <svelte:component this={outer}>\n    <div class={wrapClassName} tabindex=\"-1\" {...$$restProps}>\n      {#if isOpen}\n        <div\n          in:modalIn\n          out:modalOut\n          ariaLabelledby={labelledBy}\n          class={classnames('modal', modalClassName, {\n            fade,\n            'position-static': staticModal\n          })}\n          role=\"dialog\"\n          on:introstart={() => dispatch('opening')}\n          on:introend={onModalOpened}\n          on:outrostart={() => dispatch('closing')}\n          on:outroend={onModalClosed}\n          on:click={handleBackdropClick}\n          on:mousedown={handleBackdropMouseDown}\n        >\n          <slot name=\"external\" />\n          <div class={classes} role=\"document\" bind:this={_dialog}>\n            <div class={classnames('modal-content', contentClassName)}>\n              {#if header}\n                <ModalHeader {toggle}>\n                  {header}\n                </ModalHeader>\n              {/if}\n              {#if body}\n                <ModalBody>\n                  <slot />\n                </ModalBody>\n              {:else}\n                <slot />\n              {/if}\n            </div>\n          </div>\n        </div>\n      {/if}\n    </div>\n  </svelte:component>\n{/if}\n{#if backdrop && !staticModal}\n  <svelte:component this={outer}>\n    <ModalBackdrop {fade} {isOpen} />\n  </svelte:component>\n{/if}\n\n<style>\n  :global(.modal-open) {\n    overflow: hidden;\n    padding-right: 0;\n  }\n</style>\n","<script>\n  import classnames from './utils';\n\n  let className = '';\n  export { className as class };\n  export let noGutters = false;\n  export let form = false;\n  export let cols = 0;\n\n  function getCols(cols) {\n    const colsValue = parseInt(cols);\n    if (!isNaN(colsValue)) {\n      if (colsValue > 0) {\n        return [`row-cols-${colsValue}`];\n      }\n    } else if (typeof cols === 'object') {\n      return ['xs', 'sm', 'md', 'lg', 'xl']\n        .map((colWidth) => {\n          const isXs = colWidth === 'xs';\n          const colSizeInterfix = isXs ? '-' : `-${colWidth}-`;\n          const value = cols[colWidth];\n          if (typeof value === 'number' && value > 0) {\n            return `row-cols${colSizeInterfix}${value}`;\n          }\n          return null;\n        })\n        .filter((value) => !!value);\n    }\n    return [];\n  }\n\n  $: classes = classnames(\n    className,\n    noGutters ? 'gx-0' : null,\n    form ? 'form-row' : 'row',\n    ...getCols(cols)\n  );\n</script>\n\n<div {...$$restProps} class={classes}>\n  <slot />\n</div>\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export var ErrorKind;\n(function (ErrorKind) {\n    /** Argument is unclosed (e.g. `{0`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n    /** Argument is empty (e.g. `{}`). */\n    ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n    /** Argument is malformed (e.g. `{foo!}``) */\n    ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n    /** Expect an argument type (e.g. `{foo,}`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n    /** Unsupported argument type (e.g. `{foo,foo}`) */\n    ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n    /** Expect an argument style (e.g. `{foo, number, }`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n    /** The number skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n    /** The date time skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n    /** Missing select argument options (e.g. `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n    /**\n     * Expecting a message fragment after the `plural` or `selectordinal` selector\n     * (e.g. `{foo, plural, one}`)\n     */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n    /**\n     * Duplicate selectors in `plural` or `selectordinal` argument.\n     * (e.g. {foo, plural, one {#} one {#}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n    /** Duplicate selectors in `select` argument.\n     * (e.g. {foo, select, apple {apple} apple {apple}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n    /** Plural or select argument option must have `other` clause. */\n    ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n    ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n    /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n    ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n    ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\n","export var TYPE;\n(function (TYPE) {\n    /**\n     * Raw text\n     */\n    TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n    /**\n     * Variable w/o any format, e.g `var` in `this is a {var}`\n     */\n    TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n    /**\n     * Variable w/ number format\n     */\n    TYPE[TYPE[\"number\"] = 2] = \"number\";\n    /**\n     * Variable w/ date format\n     */\n    TYPE[TYPE[\"date\"] = 3] = \"date\";\n    /**\n     * Variable w/ time format\n     */\n    TYPE[TYPE[\"time\"] = 4] = \"time\";\n    /**\n     * Variable w/ select format\n     */\n    TYPE[TYPE[\"select\"] = 5] = \"select\";\n    /**\n     * Variable w/ plural format\n     */\n    TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n    /**\n     * Only possible within plural argument.\n     * This is the `#` symbol that will be substituted with the count.\n     */\n    TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n    /**\n     * XML-like tag\n     */\n    TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n    SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n    SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n    return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n    return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n    return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n    return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n    return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n    return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n    return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n    return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n    return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n    return {\n        type: TYPE.literal,\n        value: value,\n    };\n}\nexport function createNumberElement(value, style) {\n    return {\n        type: TYPE.number,\n        value: value,\n        style: style,\n    };\n}\n","// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;\n","/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n    var result = {};\n    skeleton.replace(DATE_TIME_REGEX, function (match) {\n        var len = match.length;\n        switch (match[0]) {\n            // Era\n            case 'G':\n                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            // Year\n            case 'y':\n                result.year = len === 2 ? '2-digit' : 'numeric';\n                break;\n            case 'Y':\n            case 'u':\n            case 'U':\n            case 'r':\n                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n            // Quarter\n            case 'q':\n            case 'Q':\n                throw new RangeError('`q/Q` (quarter) patterns are not supported');\n            // Month\n            case 'M':\n            case 'L':\n                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n                break;\n            // Week\n            case 'w':\n            case 'W':\n                throw new RangeError('`w/W` (week) patterns are not supported');\n            case 'd':\n                result.day = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'D':\n            case 'F':\n            case 'g':\n                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n            // Weekday\n            case 'E':\n                result.weekday = len === 4 ? 'short' : len === 5 ? 'narrow' : 'short';\n                break;\n            case 'e':\n                if (len < 4) {\n                    throw new RangeError('`e..eee` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            case 'c':\n                if (len < 4) {\n                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            // Period\n            case 'a': // AM, PM\n                result.hour12 = true;\n                break;\n            case 'b': // am, pm, noon, midnight\n            case 'B': // flexible day periods\n                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n            // Hour\n            case 'h':\n                result.hourCycle = 'h12';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'H':\n                result.hourCycle = 'h23';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'K':\n                result.hourCycle = 'h11';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'k':\n                result.hourCycle = 'h24';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'j':\n            case 'J':\n            case 'C':\n                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n            // Minute\n            case 'm':\n                result.minute = ['numeric', '2-digit'][len - 1];\n                break;\n            // Second\n            case 's':\n                result.second = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'S':\n            case 'A':\n                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n            // Zone\n            case 'z': // 1..3, 4: specific non-location format\n                result.timeZoneName = len < 4 ? 'short' : 'long';\n                break;\n            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n            case 'O': // 1, 4: miliseconds in day short, long\n            case 'v': // 1, 4: generic non-location format\n            case 'V': // 1, 2, 3, 4: time zone ID or city\n            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n        }\n        return '';\n    });\n    return result;\n}\n","// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\n","import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n    if (skeleton.length === 0) {\n        throw new Error('Number skeleton cannot be empty');\n    }\n    // Parse the skeleton\n    var stringTokens = skeleton\n        .split(WHITE_SPACE_REGEX)\n        .filter(function (x) { return x.length > 0; });\n    var tokens = [];\n    for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n        var stringToken = stringTokens_1[_i];\n        var stemAndOptions = stringToken.split('/');\n        if (stemAndOptions.length === 0) {\n            throw new Error('Invalid number skeleton');\n        }\n        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var option = options_1[_a];\n            if (option.length === 0) {\n                throw new Error('Invalid number skeleton');\n            }\n        }\n        tokens.push({ stem: stem, options: options });\n    }\n    return tokens;\n}\nfunction icuUnitToEcma(unit) {\n    return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n    var result = {};\n    if (str[str.length - 1] === 'r') {\n        result.roundingPriority = 'morePrecision';\n    }\n    else if (str[str.length - 1] === 's') {\n        result.roundingPriority = 'lessPrecision';\n    }\n    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n        // @@@ case\n        if (typeof g2 !== 'string') {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits = g1.length;\n        }\n        // @@@+ case\n        else if (g2 === '+') {\n            result.minimumSignificantDigits = g1.length;\n        }\n        // .### case\n        else if (g1[0] === '#') {\n            result.maximumSignificantDigits = g1.length;\n        }\n        // .@@## or .@@@ case\n        else {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits =\n                g1.length + (typeof g2 === 'string' ? g2.length : 0);\n        }\n        return '';\n    });\n    return result;\n}\nfunction parseSign(str) {\n    switch (str) {\n        case 'sign-auto':\n            return {\n                signDisplay: 'auto',\n            };\n        case 'sign-accounting':\n        case '()':\n            return {\n                currencySign: 'accounting',\n            };\n        case 'sign-always':\n        case '+!':\n            return {\n                signDisplay: 'always',\n            };\n        case 'sign-accounting-always':\n        case '()!':\n            return {\n                signDisplay: 'always',\n                currencySign: 'accounting',\n            };\n        case 'sign-except-zero':\n        case '+?':\n            return {\n                signDisplay: 'exceptZero',\n            };\n        case 'sign-accounting-except-zero':\n        case '()?':\n            return {\n                signDisplay: 'exceptZero',\n                currencySign: 'accounting',\n            };\n        case 'sign-never':\n        case '+_':\n            return {\n                signDisplay: 'never',\n            };\n    }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n    // Engineering\n    var result;\n    if (stem[0] === 'E' && stem[1] === 'E') {\n        result = {\n            notation: 'engineering',\n        };\n        stem = stem.slice(2);\n    }\n    else if (stem[0] === 'E') {\n        result = {\n            notation: 'scientific',\n        };\n        stem = stem.slice(1);\n    }\n    if (result) {\n        var signDisplay = stem.slice(0, 2);\n        if (signDisplay === '+!') {\n            result.signDisplay = 'always';\n            stem = stem.slice(2);\n        }\n        else if (signDisplay === '+?') {\n            result.signDisplay = 'exceptZero';\n            stem = stem.slice(2);\n        }\n        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n            throw new Error('Malformed concise eng/scientific notation');\n        }\n        result.minimumIntegerDigits = stem.length;\n    }\n    return result;\n}\nfunction parseNotationOptions(opt) {\n    var result = {};\n    var signOpts = parseSign(opt);\n    if (signOpts) {\n        return signOpts;\n    }\n    return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n    var result = {};\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        switch (token.stem) {\n            case 'percent':\n            case '%':\n                result.style = 'percent';\n                continue;\n            case '%x100':\n                result.style = 'percent';\n                result.scale = 100;\n                continue;\n            case 'currency':\n                result.style = 'currency';\n                result.currency = token.options[0];\n                continue;\n            case 'group-off':\n            case ',_':\n                result.useGrouping = false;\n                continue;\n            case 'precision-integer':\n            case '.':\n                result.maximumFractionDigits = 0;\n                continue;\n            case 'measure-unit':\n            case 'unit':\n                result.style = 'unit';\n                result.unit = icuUnitToEcma(token.options[0]);\n                continue;\n            case 'compact-short':\n            case 'K':\n                result.notation = 'compact';\n                result.compactDisplay = 'short';\n                continue;\n            case 'compact-long':\n            case 'KK':\n                result.notation = 'compact';\n                result.compactDisplay = 'long';\n                continue;\n            case 'scientific':\n                result = __assign(__assign(__assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'engineering':\n                result = __assign(__assign(__assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'notation-simple':\n                result.notation = 'standard';\n                continue;\n            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n            case 'unit-width-narrow':\n                result.currencyDisplay = 'narrowSymbol';\n                result.unitDisplay = 'narrow';\n                continue;\n            case 'unit-width-short':\n                result.currencyDisplay = 'code';\n                result.unitDisplay = 'short';\n                continue;\n            case 'unit-width-full-name':\n                result.currencyDisplay = 'name';\n                result.unitDisplay = 'long';\n                continue;\n            case 'unit-width-iso-code':\n                result.currencyDisplay = 'symbol';\n                continue;\n            case 'scale':\n                result.scale = parseFloat(token.options[0]);\n                continue;\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n            case 'integer-width':\n                if (token.options.length > 1) {\n                    throw new RangeError('integer-width stems only accept a single optional option');\n                }\n                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n                    if (g1) {\n                        result.minimumIntegerDigits = g2.length;\n                    }\n                    else if (g3 && g4) {\n                        throw new Error('We currently do not support maximum integer digits');\n                    }\n                    else if (g5) {\n                        throw new Error('We currently do not support exact integer digits');\n                    }\n                    return '';\n                });\n                continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n            result.minimumIntegerDigits = token.stem.length;\n            continue;\n        }\n        if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n            // Precision\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n            // precision-integer case\n            if (token.options.length > 1) {\n                throw new RangeError('Fraction-precision stems only accept a single optional option');\n            }\n            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n                // .000* case (before ICU67 it was .000+)\n                if (g2 === '*') {\n                    result.minimumFractionDigits = g1.length;\n                }\n                // .### case\n                else if (g3 && g3[0] === '#') {\n                    result.maximumFractionDigits = g3.length;\n                }\n                // .00## case\n                else if (g4 && g5) {\n                    result.minimumFractionDigits = g4.length;\n                    result.maximumFractionDigits = g4.length + g5.length;\n                }\n                else {\n                    result.minimumFractionDigits = g1.length;\n                    result.maximumFractionDigits = g1.length;\n                }\n                return '';\n            });\n            var opt = token.options[0];\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n            if (opt === 'w') {\n                result = __assign(__assign({}, result), { trailingZeroDisplay: 'stripIfInteger' });\n            }\n            else if (opt) {\n                result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n            }\n            continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n            result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n            continue;\n        }\n        var signOpts = parseSign(token.stem);\n        if (signOpts) {\n            result = __assign(__assign({}, result), signOpts);\n        }\n        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n        if (conciseScientificAndEngineeringOpts) {\n            result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n        }\n    }\n    return result;\n}\n","var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE, } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton, } from '@formatjs/icu-skeleton-parser';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\" + SPACE_SEPARATOR_REGEX.source + \"*\");\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(SPACE_SEPARATOR_REGEX.source + \"*$\");\nfunction createLocation(start, end) {\n    return { start: start, end: end };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith;\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger\n    ? Number.isSafeInteger\n    : function (n) {\n        return (typeof n === 'number' &&\n            isFinite(n) &&\n            Math.floor(n) === n &&\n            Math.abs(n) <= 0x1fffffffffffff);\n    };\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n    var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    /**\n     * legacy Edge or Xbox One browser\n     * Unicode flag support: supported\n     * Pattern_Syntax support: not supported\n     * See https://github.com/formatjs/formatjs/issues/2822\n     */\n    REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n}\ncatch (_) {\n    REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith\n    ? // Native\n        function startsWith(s, search, position) {\n            return s.startsWith(search, position);\n        }\n    : // For IE11\n        function startsWith(s, search, position) {\n            return s.slice(position, position + search.length) === search;\n        };\nvar fromCodePoint = hasNativeFromCodePoint\n    ? String.fromCodePoint\n    : // IE11\n        function fromCodePoint() {\n            var codePoints = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                codePoints[_i] = arguments[_i];\n            }\n            var elements = '';\n            var length = codePoints.length;\n            var i = 0;\n            var code;\n            while (length > i) {\n                code = codePoints[i++];\n                if (code > 0x10ffff)\n                    throw RangeError(code + ' is not a valid code point');\n                elements +=\n                    code < 0x10000\n                        ? String.fromCharCode(code)\n                        : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, (code % 0x400) + 0xdc00);\n            }\n            return elements;\n        };\nvar fromEntries = \n// native\nhasNativeFromEntries\n    ? Object.fromEntries\n    : // Ponyfill\n        function fromEntries(entries) {\n            var obj = {};\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var _a = entries_1[_i], k = _a[0], v = _a[1];\n                obj[k] = v;\n            }\n            return obj;\n        };\nvar codePointAt = hasNativeCodePointAt\n    ? // Native\n        function codePointAt(s, index) {\n            return s.codePointAt(index);\n        }\n    : // IE 11\n        function codePointAt(s, index) {\n            var size = s.length;\n            if (index < 0 || index >= size) {\n                return undefined;\n            }\n            var first = s.charCodeAt(index);\n            var second;\n            return first < 0xd800 ||\n                first > 0xdbff ||\n                index + 1 === size ||\n                (second = s.charCodeAt(index + 1)) < 0xdc00 ||\n                second > 0xdfff\n                ? first\n                : ((first - 0xd800) << 10) + (second - 0xdc00) + 0x10000;\n        };\nvar trimStart = hasTrimStart\n    ? // Native\n        function trimStart(s) {\n            return s.trimStart();\n        }\n    : // Ponyfill\n        function trimStart(s) {\n            return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n        };\nvar trimEnd = hasTrimEnd\n    ? // Native\n        function trimEnd(s) {\n            return s.trimEnd();\n        }\n    : // Ponyfill\n        function trimEnd(s) {\n            return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n        };\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n    return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n    // Native\n    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var _a;\n        IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n        var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n    };\n}\nelse {\n    // IE11\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var match = [];\n        while (true) {\n            var c = codePointAt(s, index);\n            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n                break;\n            }\n            match.push(c);\n            index += c >= 0x10000 ? 2 : 1;\n        }\n        return fromCodePoint.apply(void 0, match);\n    };\n}\nvar Parser = /** @class */ (function () {\n    function Parser(message, options) {\n        if (options === void 0) { options = {}; }\n        this.message = message;\n        this.position = { offset: 0, line: 1, column: 1 };\n        this.ignoreTag = !!options.ignoreTag;\n        this.requiresOtherClause = !!options.requiresOtherClause;\n        this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n    }\n    Parser.prototype.parse = function () {\n        if (this.offset() !== 0) {\n            throw Error('parser can only be used once');\n        }\n        return this.parseMessage(0, '', false);\n    };\n    Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n        var elements = [];\n        while (!this.isEOF()) {\n            var char = this.char();\n            if (char === 123 /* `{` */) {\n                var result = this.parseArgument(nestingLevel, expectingCloseTag);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else if (char === 125 /* `}` */ && nestingLevel > 0) {\n                break;\n            }\n            else if (char === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n                var position = this.clonePosition();\n                this.bump();\n                elements.push({\n                    type: TYPE.pound,\n                    location: createLocation(position, this.clonePosition()),\n                });\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                this.peek() === 47 // char code for '/'\n            ) {\n                if (expectingCloseTag) {\n                    break;\n                }\n                else {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n                }\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                _isAlpha(this.peek() || 0)) {\n                var result = this.parseTag(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else {\n                var result = this.parseLiteral(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n        }\n        return { val: elements, err: null };\n    };\n    /**\n     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n     * are accepted:\n     *\n     * ```\n     * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n     * tagName ::= [a-z] (PENChar)*\n     * PENChar ::=\n     *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n     * ```\n     *\n     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n     * since other tag-based engines like React allow it\n     */\n    Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n        var startPosition = this.clonePosition();\n        this.bump(); // `<`\n        var tagName = this.parseTagName();\n        this.bumpSpace();\n        if (this.bumpIf('/>')) {\n            // Self closing tag\n            return {\n                val: {\n                    type: TYPE.literal,\n                    value: \"<\" + tagName + \"/>\",\n                    location: createLocation(startPosition, this.clonePosition()),\n                },\n                err: null,\n            };\n        }\n        else if (this.bumpIf('>')) {\n            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n            if (childrenResult.err) {\n                return childrenResult;\n            }\n            var children = childrenResult.val;\n            // Expecting a close tag\n            var endTagStartPosition = this.clonePosition();\n            if (this.bumpIf('</')) {\n                if (this.isEOF() || !_isAlpha(this.char())) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                var closingTagNameStartPosition = this.clonePosition();\n                var closingTagName = this.parseTagName();\n                if (tagName !== closingTagName) {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n                }\n                this.bumpSpace();\n                if (!this.bumpIf('>')) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                return {\n                    val: {\n                        type: TYPE.tag,\n                        value: tagName,\n                        children: children,\n                        location: createLocation(startPosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            else {\n                return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n            }\n        }\n        else {\n            return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n        }\n    };\n    /**\n     * This method assumes that the caller has peeked ahead for the first tag character.\n     */\n    Parser.prototype.parseTagName = function () {\n        var startOffset = this.offset();\n        this.bump(); // the first tag name character\n        while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n            this.bump();\n        }\n        return this.message.slice(startOffset, this.offset());\n    };\n    Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n        var start = this.clonePosition();\n        var value = '';\n        while (true) {\n            var parseQuoteResult = this.tryParseQuote(parentArgType);\n            if (parseQuoteResult) {\n                value += parseQuoteResult;\n                continue;\n            }\n            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n            if (parseUnquotedResult) {\n                value += parseUnquotedResult;\n                continue;\n            }\n            var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n            if (parseLeftAngleResult) {\n                value += parseLeftAngleResult;\n                continue;\n            }\n            break;\n        }\n        var location = createLocation(start, this.clonePosition());\n        return {\n            val: { type: TYPE.literal, value: value, location: location },\n            err: null,\n        };\n    };\n    Parser.prototype.tryParseLeftAngleBracket = function () {\n        if (!this.isEOF() &&\n            this.char() === 60 /* `<` */ &&\n            (this.ignoreTag ||\n                // If at the opening tag or closing tag position, bail.\n                !_isAlphaOrSlash(this.peek() || 0))) {\n            this.bump(); // `<`\n            return '<';\n        }\n        return null;\n    };\n    /**\n     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n     * a character that requires quoting (that is, \"only where needed\"), and works the same in\n     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n     */\n    Parser.prototype.tryParseQuote = function (parentArgType) {\n        if (this.isEOF() || this.char() !== 39 /* `'` */) {\n            return null;\n        }\n        // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n        // Check if is valid escaped character\n        switch (this.peek()) {\n            case 39 /* `'` */:\n                // double quote, should return as a single quote.\n                this.bump();\n                this.bump();\n                return \"'\";\n            // '{', '<', '>', '}'\n            case 123:\n            case 60:\n            case 62:\n            case 125:\n                break;\n            case 35: // '#'\n                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n                    break;\n                }\n                return null;\n            default:\n                return null;\n        }\n        this.bump(); // apostrophe\n        var codePoints = [this.char()]; // escaped char\n        this.bump();\n        // read chars until the optional closing apostrophe is found\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch === 39 /* `'` */) {\n                if (this.peek() === 39 /* `'` */) {\n                    codePoints.push(39);\n                    // Bump one more time because we need to skip 2 characters.\n                    this.bump();\n                }\n                else {\n                    // Optional closing apostrophe.\n                    this.bump();\n                    break;\n                }\n            }\n            else {\n                codePoints.push(ch);\n            }\n            this.bump();\n        }\n        return fromCodePoint.apply(void 0, codePoints);\n    };\n    Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n        if (this.isEOF()) {\n            return null;\n        }\n        var ch = this.char();\n        if (ch === 60 /* `<` */ ||\n            ch === 123 /* `{` */ ||\n            (ch === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) ||\n            (ch === 125 /* `}` */ && nestingLevel > 0)) {\n            return null;\n        }\n        else {\n            this.bump();\n            return fromCodePoint(ch);\n        }\n    };\n    Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n        var openingBracePosition = this.clonePosition();\n        this.bump(); // `{`\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        if (this.char() === 125 /* `}` */) {\n            this.bump();\n            return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        // argument name\n        var value = this.parseIdentifierIfPossible().value;\n        if (!value) {\n            return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        switch (this.char()) {\n            // Simple argument: `{name}`\n            case 125 /* `}` */: {\n                this.bump(); // `}`\n                return {\n                    val: {\n                        type: TYPE.argument,\n                        // value does not include the opening and closing braces.\n                        value: value,\n                        location: createLocation(openingBracePosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            // Argument with options: `{name, format, ...}`\n            case 44 /* `,` */: {\n                this.bump(); // `,`\n                this.bumpSpace();\n                if (this.isEOF()) {\n                    return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n                }\n                return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n            }\n            default:\n                return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n    };\n    /**\n     * Advance the parser until the end of the identifier, if it is currently on\n     * an identifier character. Return an empty string otherwise.\n     */\n    Parser.prototype.parseIdentifierIfPossible = function () {\n        var startingPosition = this.clonePosition();\n        var startOffset = this.offset();\n        var value = matchIdentifierAtIndex(this.message, startOffset);\n        var endOffset = startOffset + value.length;\n        this.bumpTo(endOffset);\n        var endPosition = this.clonePosition();\n        var location = createLocation(startingPosition, endPosition);\n        return { value: value, location: location };\n    };\n    Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n        var _a;\n        // Parse this range:\n        // {name, type, style}\n        //        ^---^\n        var typeStartPosition = this.clonePosition();\n        var argType = this.parseIdentifierIfPossible().value;\n        var typeEndPosition = this.clonePosition();\n        switch (argType) {\n            case '':\n                // Expecting a style string number, date, time, plural, selectordinal, or select.\n                return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n            case 'number':\n            case 'date':\n            case 'time': {\n                // Parse this range:\n                // {name, number, style}\n                //              ^-------^\n                this.bumpSpace();\n                var styleAndLocation = null;\n                if (this.bumpIf(',')) {\n                    this.bumpSpace();\n                    var styleStartPosition = this.clonePosition();\n                    var result = this.parseSimpleArgStyleIfPossible();\n                    if (result.err) {\n                        return result;\n                    }\n                    var style = trimEnd(result.val);\n                    if (style.length === 0) {\n                        return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n                    styleAndLocation = { style: style, styleLocation: styleLocation };\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_1 = createLocation(openingBracePosition, this.clonePosition());\n                // Extract style or skeleton\n                if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n                    // Skeleton starts with `::`.\n                    var skeleton = trimStart(styleAndLocation.style.slice(2));\n                    if (argType === 'number') {\n                        var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n                        if (result.err) {\n                            return result;\n                        }\n                        return {\n                            val: { type: TYPE.number, value: value, location: location_1, style: result.val },\n                            err: null,\n                        };\n                    }\n                    else {\n                        if (skeleton.length === 0) {\n                            return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n                        }\n                        var style = {\n                            type: SKELETON_TYPE.dateTime,\n                            pattern: skeleton,\n                            location: styleAndLocation.styleLocation,\n                            parsedOptions: this.shouldParseSkeletons\n                                ? parseDateTimeSkeleton(skeleton)\n                                : {},\n                        };\n                        var type = argType === 'date' ? TYPE.date : TYPE.time;\n                        return {\n                            val: { type: type, value: value, location: location_1, style: style },\n                            err: null,\n                        };\n                    }\n                }\n                // Regular style or no style.\n                return {\n                    val: {\n                        type: argType === 'number'\n                            ? TYPE.number\n                            : argType === 'date'\n                                ? TYPE.date\n                                : TYPE.time,\n                        value: value,\n                        location: location_1,\n                        style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null,\n                    },\n                    err: null,\n                };\n            }\n            case 'plural':\n            case 'selectordinal':\n            case 'select': {\n                // Parse this range:\n                // {name, plural, options}\n                //              ^---------^\n                var typeEndPosition_1 = this.clonePosition();\n                this.bumpSpace();\n                if (!this.bumpIf(',')) {\n                    return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n                }\n                this.bumpSpace();\n                // Parse offset:\n                // {name, plural, offset:1, options}\n                //                ^-----^\n                //\n                // or the first option:\n                //\n                // {name, plural, one {...} other {...}}\n                //                ^--^\n                var identifierAndLocation = this.parseIdentifierIfPossible();\n                var pluralOffset = 0;\n                if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n                    if (!this.bumpIf(':')) {\n                        return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    this.bumpSpace();\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n                    if (result.err) {\n                        return result;\n                    }\n                    // Parse another identifier for option parsing\n                    this.bumpSpace();\n                    identifierAndLocation = this.parseIdentifierIfPossible();\n                    pluralOffset = result.val;\n                }\n                var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n                if (optionsResult.err) {\n                    return optionsResult;\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_2 = createLocation(openingBracePosition, this.clonePosition());\n                if (argType === 'select') {\n                    return {\n                        val: {\n                            type: TYPE.select,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n                else {\n                    return {\n                        val: {\n                            type: TYPE.plural,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            offset: pluralOffset,\n                            pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n            }\n            default:\n                return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n        }\n    };\n    Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n        // Parse: {value, number, ::currency/GBP }\n        //\n        if (this.isEOF() || this.char() !== 125 /* `}` */) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bump(); // `}`\n        return { val: true, err: null };\n    };\n    /**\n     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n     */\n    Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n        var nestedBraces = 0;\n        var startPosition = this.clonePosition();\n        while (!this.isEOF()) {\n            var ch = this.char();\n            switch (ch) {\n                case 39 /* `'` */: {\n                    // Treat apostrophe as quoting but include it in the style part.\n                    // Find the end of the quoted literal text.\n                    this.bump();\n                    var apostrophePosition = this.clonePosition();\n                    if (!this.bumpUntil(\"'\")) {\n                        return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n                    }\n                    this.bump();\n                    break;\n                }\n                case 123 /* `{` */: {\n                    nestedBraces += 1;\n                    this.bump();\n                    break;\n                }\n                case 125 /* `}` */: {\n                    if (nestedBraces > 0) {\n                        nestedBraces -= 1;\n                    }\n                    else {\n                        return {\n                            val: this.message.slice(startPosition.offset, this.offset()),\n                            err: null,\n                        };\n                    }\n                    break;\n                }\n                default:\n                    this.bump();\n                    break;\n            }\n        }\n        return {\n            val: this.message.slice(startPosition.offset, this.offset()),\n            err: null,\n        };\n    };\n    Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n        var tokens = [];\n        try {\n            tokens = parseNumberSkeletonFromString(skeleton);\n        }\n        catch (e) {\n            return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n        }\n        return {\n            val: {\n                type: SKELETON_TYPE.number,\n                tokens: tokens,\n                location: location,\n                parsedOptions: this.shouldParseSkeletons\n                    ? parseNumberSkeleton(tokens)\n                    : {},\n            },\n            err: null,\n        };\n    };\n    /**\n     * @param nesting_level The current nesting level of messages.\n     *     This can be positive when parsing message fragment in select or plural argument options.\n     * @param parent_arg_type The parent argument's type.\n     * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n     *     the argument. It is a by-product of a previous parsing attempt.\n     * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n     *     between a pair of opening and closing tags. The nested message will not parse beyond\n     *     the closing tag boundary.\n     */\n    Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n        var _a;\n        var hasOtherClause = false;\n        var options = [];\n        var parsedSelectors = new Set();\n        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;\n        // Parse:\n        // one {one apple}\n        // ^--^\n        while (true) {\n            if (selector.length === 0) {\n                var startPosition = this.clonePosition();\n                if (parentArgType !== 'select' && this.bumpIf('=')) {\n                    // Try parse `={number}` selector\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n                    if (result.err) {\n                        return result;\n                    }\n                    selectorLocation = createLocation(startPosition, this.clonePosition());\n                    selector = this.message.slice(startPosition.offset, this.offset());\n                }\n                else {\n                    break;\n                }\n            }\n            // Duplicate selector clauses\n            if (parsedSelectors.has(selector)) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR\n                    : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n            }\n            if (selector === 'other') {\n                hasOtherClause = true;\n            }\n            // Parse:\n            // one {one apple}\n            //     ^----------^\n            this.bumpSpace();\n            var openingBracePosition = this.clonePosition();\n            if (!this.bumpIf('{')) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\n                    : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n            if (fragmentResult.err) {\n                return fragmentResult;\n            }\n            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n            if (argCloseResult.err) {\n                return argCloseResult;\n            }\n            options.push([\n                selector,\n                {\n                    value: fragmentResult.val,\n                    location: createLocation(openingBracePosition, this.clonePosition()),\n                },\n            ]);\n            // Keep track of the existing selectors\n            parsedSelectors.add(selector);\n            // Prep next selector clause.\n            this.bumpSpace();\n            (_a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location);\n        }\n        if (options.length === 0) {\n            return this.error(parentArgType === 'select'\n                ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR\n                : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        if (this.requiresOtherClause && !hasOtherClause) {\n            return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        return { val: options, err: null };\n    };\n    Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n        var sign = 1;\n        var startingPosition = this.clonePosition();\n        if (this.bumpIf('+')) {\n        }\n        else if (this.bumpIf('-')) {\n            sign = -1;\n        }\n        var hasDigits = false;\n        var decimal = 0;\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n                hasDigits = true;\n                decimal = decimal * 10 + (ch - 48);\n                this.bump();\n            }\n            else {\n                break;\n            }\n        }\n        var location = createLocation(startingPosition, this.clonePosition());\n        if (!hasDigits) {\n            return this.error(expectNumberError, location);\n        }\n        decimal *= sign;\n        if (!isSafeInteger(decimal)) {\n            return this.error(invalidNumberError, location);\n        }\n        return { val: decimal, err: null };\n    };\n    Parser.prototype.offset = function () {\n        return this.position.offset;\n    };\n    Parser.prototype.isEOF = function () {\n        return this.offset() === this.message.length;\n    };\n    Parser.prototype.clonePosition = function () {\n        // This is much faster than `Object.assign` or spread.\n        return {\n            offset: this.position.offset,\n            line: this.position.line,\n            column: this.position.column,\n        };\n    };\n    /**\n     * Return the code point at the current position of the parser.\n     * Throws if the index is out of bound.\n     */\n    Parser.prototype.char = function () {\n        var offset = this.position.offset;\n        if (offset >= this.message.length) {\n            throw Error('out of bound');\n        }\n        var code = codePointAt(this.message, offset);\n        if (code === undefined) {\n            throw Error(\"Offset \" + offset + \" is at invalid UTF-16 code unit boundary\");\n        }\n        return code;\n    };\n    Parser.prototype.error = function (kind, location) {\n        return {\n            val: null,\n            err: {\n                kind: kind,\n                message: this.message,\n                location: location,\n            },\n        };\n    };\n    /** Bump the parser to the next UTF-16 code unit. */\n    Parser.prototype.bump = function () {\n        if (this.isEOF()) {\n            return;\n        }\n        var code = this.char();\n        if (code === 10 /* '\\n' */) {\n            this.position.line += 1;\n            this.position.column = 1;\n            this.position.offset += 1;\n        }\n        else {\n            this.position.column += 1;\n            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n            this.position.offset += code < 0x10000 ? 1 : 2;\n        }\n    };\n    /**\n     * If the substring starting at the current position of the parser has\n     * the given prefix, then bump the parser to the character immediately\n     * following the prefix and return true. Otherwise, don't bump the parser\n     * and return false.\n     */\n    Parser.prototype.bumpIf = function (prefix) {\n        if (startsWith(this.message, prefix, this.offset())) {\n            for (var i = 0; i < prefix.length; i++) {\n                this.bump();\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Bump the parser until the pattern character is found and return `true`.\n     * Otherwise bump to the end of the file and return `false`.\n     */\n    Parser.prototype.bumpUntil = function (pattern) {\n        var currentOffset = this.offset();\n        var index = this.message.indexOf(pattern, currentOffset);\n        if (index >= 0) {\n            this.bumpTo(index);\n            return true;\n        }\n        else {\n            this.bumpTo(this.message.length);\n            return false;\n        }\n    };\n    /**\n     * Bump the parser to the target offset.\n     * If target offset is beyond the end of the input, bump the parser to the end of the input.\n     */\n    Parser.prototype.bumpTo = function (targetOffset) {\n        if (this.offset() > targetOffset) {\n            throw Error(\"targetOffset \" + targetOffset + \" must be greater than or equal to the current offset \" + this.offset());\n        }\n        targetOffset = Math.min(targetOffset, this.message.length);\n        while (true) {\n            var offset = this.offset();\n            if (offset === targetOffset) {\n                break;\n            }\n            if (offset > targetOffset) {\n                throw Error(\"targetOffset \" + targetOffset + \" is at invalid UTF-16 code unit boundary\");\n            }\n            this.bump();\n            if (this.isEOF()) {\n                break;\n            }\n        }\n    };\n    /** advance the parser through all whitespace to the next non-whitespace code unit. */\n    Parser.prototype.bumpSpace = function () {\n        while (!this.isEOF() && _isWhiteSpace(this.char())) {\n            this.bump();\n        }\n    };\n    /**\n     * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n     * If the input has been exhausted, then this returns null.\n     */\n    Parser.prototype.peek = function () {\n        if (this.isEOF()) {\n            return null;\n        }\n        var code = this.char();\n        var offset = this.offset();\n        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n        return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n    return ((codepoint >= 97 && codepoint <= 122) ||\n        (codepoint >= 65 && codepoint <= 90));\n}\nfunction _isAlphaOrSlash(codepoint) {\n    return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n    return (c === 45 /* '-' */ ||\n        c === 46 /* '.' */ ||\n        (c >= 48 && c <= 57) /* 0..9 */ ||\n        c === 95 /* '_' */ ||\n        (c >= 97 && c <= 122) /** a..z */ ||\n        (c >= 65 && c <= 90) /* A..Z */ ||\n        c == 0xb7 ||\n        (c >= 0xc0 && c <= 0xd6) ||\n        (c >= 0xd8 && c <= 0xf6) ||\n        (c >= 0xf8 && c <= 0x37d) ||\n        (c >= 0x37f && c <= 0x1fff) ||\n        (c >= 0x200c && c <= 0x200d) ||\n        (c >= 0x203f && c <= 0x2040) ||\n        (c >= 0x2070 && c <= 0x218f) ||\n        (c >= 0x2c00 && c <= 0x2fef) ||\n        (c >= 0x3001 && c <= 0xd7ff) ||\n        (c >= 0xf900 && c <= 0xfdcf) ||\n        (c >= 0xfdf0 && c <= 0xfffd) ||\n        (c >= 0x10000 && c <= 0xeffff));\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n    return ((c >= 0x0009 && c <= 0x000d) ||\n        c === 0x0020 ||\n        c === 0x0085 ||\n        (c >= 0x200e && c <= 0x200f) ||\n        c === 0x2028 ||\n        c === 0x2029);\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n    return ((c >= 0x0021 && c <= 0x0023) ||\n        c === 0x0024 ||\n        (c >= 0x0025 && c <= 0x0027) ||\n        c === 0x0028 ||\n        c === 0x0029 ||\n        c === 0x002a ||\n        c === 0x002b ||\n        c === 0x002c ||\n        c === 0x002d ||\n        (c >= 0x002e && c <= 0x002f) ||\n        (c >= 0x003a && c <= 0x003b) ||\n        (c >= 0x003c && c <= 0x003e) ||\n        (c >= 0x003f && c <= 0x0040) ||\n        c === 0x005b ||\n        c === 0x005c ||\n        c === 0x005d ||\n        c === 0x005e ||\n        c === 0x0060 ||\n        c === 0x007b ||\n        c === 0x007c ||\n        c === 0x007d ||\n        c === 0x007e ||\n        c === 0x00a1 ||\n        (c >= 0x00a2 && c <= 0x00a5) ||\n        c === 0x00a6 ||\n        c === 0x00a7 ||\n        c === 0x00a9 ||\n        c === 0x00ab ||\n        c === 0x00ac ||\n        c === 0x00ae ||\n        c === 0x00b0 ||\n        c === 0x00b1 ||\n        c === 0x00b6 ||\n        c === 0x00bb ||\n        c === 0x00bf ||\n        c === 0x00d7 ||\n        c === 0x00f7 ||\n        (c >= 0x2010 && c <= 0x2015) ||\n        (c >= 0x2016 && c <= 0x2017) ||\n        c === 0x2018 ||\n        c === 0x2019 ||\n        c === 0x201a ||\n        (c >= 0x201b && c <= 0x201c) ||\n        c === 0x201d ||\n        c === 0x201e ||\n        c === 0x201f ||\n        (c >= 0x2020 && c <= 0x2027) ||\n        (c >= 0x2030 && c <= 0x2038) ||\n        c === 0x2039 ||\n        c === 0x203a ||\n        (c >= 0x203b && c <= 0x203e) ||\n        (c >= 0x2041 && c <= 0x2043) ||\n        c === 0x2044 ||\n        c === 0x2045 ||\n        c === 0x2046 ||\n        (c >= 0x2047 && c <= 0x2051) ||\n        c === 0x2052 ||\n        c === 0x2053 ||\n        (c >= 0x2055 && c <= 0x205e) ||\n        (c >= 0x2190 && c <= 0x2194) ||\n        (c >= 0x2195 && c <= 0x2199) ||\n        (c >= 0x219a && c <= 0x219b) ||\n        (c >= 0x219c && c <= 0x219f) ||\n        c === 0x21a0 ||\n        (c >= 0x21a1 && c <= 0x21a2) ||\n        c === 0x21a3 ||\n        (c >= 0x21a4 && c <= 0x21a5) ||\n        c === 0x21a6 ||\n        (c >= 0x21a7 && c <= 0x21ad) ||\n        c === 0x21ae ||\n        (c >= 0x21af && c <= 0x21cd) ||\n        (c >= 0x21ce && c <= 0x21cf) ||\n        (c >= 0x21d0 && c <= 0x21d1) ||\n        c === 0x21d2 ||\n        c === 0x21d3 ||\n        c === 0x21d4 ||\n        (c >= 0x21d5 && c <= 0x21f3) ||\n        (c >= 0x21f4 && c <= 0x22ff) ||\n        (c >= 0x2300 && c <= 0x2307) ||\n        c === 0x2308 ||\n        c === 0x2309 ||\n        c === 0x230a ||\n        c === 0x230b ||\n        (c >= 0x230c && c <= 0x231f) ||\n        (c >= 0x2320 && c <= 0x2321) ||\n        (c >= 0x2322 && c <= 0x2328) ||\n        c === 0x2329 ||\n        c === 0x232a ||\n        (c >= 0x232b && c <= 0x237b) ||\n        c === 0x237c ||\n        (c >= 0x237d && c <= 0x239a) ||\n        (c >= 0x239b && c <= 0x23b3) ||\n        (c >= 0x23b4 && c <= 0x23db) ||\n        (c >= 0x23dc && c <= 0x23e1) ||\n        (c >= 0x23e2 && c <= 0x2426) ||\n        (c >= 0x2427 && c <= 0x243f) ||\n        (c >= 0x2440 && c <= 0x244a) ||\n        (c >= 0x244b && c <= 0x245f) ||\n        (c >= 0x2500 && c <= 0x25b6) ||\n        c === 0x25b7 ||\n        (c >= 0x25b8 && c <= 0x25c0) ||\n        c === 0x25c1 ||\n        (c >= 0x25c2 && c <= 0x25f7) ||\n        (c >= 0x25f8 && c <= 0x25ff) ||\n        (c >= 0x2600 && c <= 0x266e) ||\n        c === 0x266f ||\n        (c >= 0x2670 && c <= 0x2767) ||\n        c === 0x2768 ||\n        c === 0x2769 ||\n        c === 0x276a ||\n        c === 0x276b ||\n        c === 0x276c ||\n        c === 0x276d ||\n        c === 0x276e ||\n        c === 0x276f ||\n        c === 0x2770 ||\n        c === 0x2771 ||\n        c === 0x2772 ||\n        c === 0x2773 ||\n        c === 0x2774 ||\n        c === 0x2775 ||\n        (c >= 0x2794 && c <= 0x27bf) ||\n        (c >= 0x27c0 && c <= 0x27c4) ||\n        c === 0x27c5 ||\n        c === 0x27c6 ||\n        (c >= 0x27c7 && c <= 0x27e5) ||\n        c === 0x27e6 ||\n        c === 0x27e7 ||\n        c === 0x27e8 ||\n        c === 0x27e9 ||\n        c === 0x27ea ||\n        c === 0x27eb ||\n        c === 0x27ec ||\n        c === 0x27ed ||\n        c === 0x27ee ||\n        c === 0x27ef ||\n        (c >= 0x27f0 && c <= 0x27ff) ||\n        (c >= 0x2800 && c <= 0x28ff) ||\n        (c >= 0x2900 && c <= 0x2982) ||\n        c === 0x2983 ||\n        c === 0x2984 ||\n        c === 0x2985 ||\n        c === 0x2986 ||\n        c === 0x2987 ||\n        c === 0x2988 ||\n        c === 0x2989 ||\n        c === 0x298a ||\n        c === 0x298b ||\n        c === 0x298c ||\n        c === 0x298d ||\n        c === 0x298e ||\n        c === 0x298f ||\n        c === 0x2990 ||\n        c === 0x2991 ||\n        c === 0x2992 ||\n        c === 0x2993 ||\n        c === 0x2994 ||\n        c === 0x2995 ||\n        c === 0x2996 ||\n        c === 0x2997 ||\n        c === 0x2998 ||\n        (c >= 0x2999 && c <= 0x29d7) ||\n        c === 0x29d8 ||\n        c === 0x29d9 ||\n        c === 0x29da ||\n        c === 0x29db ||\n        (c >= 0x29dc && c <= 0x29fb) ||\n        c === 0x29fc ||\n        c === 0x29fd ||\n        (c >= 0x29fe && c <= 0x2aff) ||\n        (c >= 0x2b00 && c <= 0x2b2f) ||\n        (c >= 0x2b30 && c <= 0x2b44) ||\n        (c >= 0x2b45 && c <= 0x2b46) ||\n        (c >= 0x2b47 && c <= 0x2b4c) ||\n        (c >= 0x2b4d && c <= 0x2b73) ||\n        (c >= 0x2b74 && c <= 0x2b75) ||\n        (c >= 0x2b76 && c <= 0x2b95) ||\n        c === 0x2b96 ||\n        (c >= 0x2b97 && c <= 0x2bff) ||\n        (c >= 0x2e00 && c <= 0x2e01) ||\n        c === 0x2e02 ||\n        c === 0x2e03 ||\n        c === 0x2e04 ||\n        c === 0x2e05 ||\n        (c >= 0x2e06 && c <= 0x2e08) ||\n        c === 0x2e09 ||\n        c === 0x2e0a ||\n        c === 0x2e0b ||\n        c === 0x2e0c ||\n        c === 0x2e0d ||\n        (c >= 0x2e0e && c <= 0x2e16) ||\n        c === 0x2e17 ||\n        (c >= 0x2e18 && c <= 0x2e19) ||\n        c === 0x2e1a ||\n        c === 0x2e1b ||\n        c === 0x2e1c ||\n        c === 0x2e1d ||\n        (c >= 0x2e1e && c <= 0x2e1f) ||\n        c === 0x2e20 ||\n        c === 0x2e21 ||\n        c === 0x2e22 ||\n        c === 0x2e23 ||\n        c === 0x2e24 ||\n        c === 0x2e25 ||\n        c === 0x2e26 ||\n        c === 0x2e27 ||\n        c === 0x2e28 ||\n        c === 0x2e29 ||\n        (c >= 0x2e2a && c <= 0x2e2e) ||\n        c === 0x2e2f ||\n        (c >= 0x2e30 && c <= 0x2e39) ||\n        (c >= 0x2e3a && c <= 0x2e3b) ||\n        (c >= 0x2e3c && c <= 0x2e3f) ||\n        c === 0x2e40 ||\n        c === 0x2e41 ||\n        c === 0x2e42 ||\n        (c >= 0x2e43 && c <= 0x2e4f) ||\n        (c >= 0x2e50 && c <= 0x2e51) ||\n        c === 0x2e52 ||\n        (c >= 0x2e53 && c <= 0x2e7f) ||\n        (c >= 0x3001 && c <= 0x3003) ||\n        c === 0x3008 ||\n        c === 0x3009 ||\n        c === 0x300a ||\n        c === 0x300b ||\n        c === 0x300c ||\n        c === 0x300d ||\n        c === 0x300e ||\n        c === 0x300f ||\n        c === 0x3010 ||\n        c === 0x3011 ||\n        (c >= 0x3012 && c <= 0x3013) ||\n        c === 0x3014 ||\n        c === 0x3015 ||\n        c === 0x3016 ||\n        c === 0x3017 ||\n        c === 0x3018 ||\n        c === 0x3019 ||\n        c === 0x301a ||\n        c === 0x301b ||\n        c === 0x301c ||\n        c === 0x301d ||\n        (c >= 0x301e && c <= 0x301f) ||\n        c === 0x3020 ||\n        c === 0x3030 ||\n        c === 0xfd3e ||\n        c === 0xfd3f ||\n        (c >= 0xfe45 && c <= 0xfe46));\n}\n","import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement, } from './types';\nfunction pruneLocation(els) {\n    els.forEach(function (el) {\n        delete el.location;\n        if (isSelectElement(el) || isPluralElement(el)) {\n            for (var k in el.options) {\n                delete el.options[k].location;\n                pruneLocation(el.options[k].value);\n            }\n        }\n        else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if ((isDateElement(el) || isTimeElement(el)) &&\n            isDateTimeSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if (isTagElement(el)) {\n            pruneLocation(el.children);\n        }\n    });\n}\nexport function parse(message, opts) {\n    if (opts === void 0) { opts = {}; }\n    opts = __assign({ shouldParseSkeletons: true, requiresOtherClause: true }, opts);\n    var result = new Parser(message, opts).parse();\n    if (result.err) {\n        var error = SyntaxError(ErrorKind[result.err.kind]);\n        // @ts-expect-error Assign to error object\n        error.location = result.err.location;\n        // @ts-expect-error Assign to error object\n        error.originalMessage = result.err.message;\n        throw error;\n    }\n    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n        pruneLocation(result.val);\n    }\n    return result.val;\n}\nexport * from './types';\n","//\n// Main\n//\nexport default function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n    this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n    return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n    this.cache[key] = value;\n};\nvar cacheDefault = {\n    create: function create() {\n        // @ts-ignore\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n","import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n    // When we have a placeholder but no value to format\n    ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n    // When value supplied is invalid\n    ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n    // When we need specific Intl API but it's not available\n    ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */ (function (_super) {\n    __extends(FormatError, _super);\n    function FormatError(msg, code, originalMessage) {\n        var _this = _super.call(this, msg) || this;\n        _this.code = code;\n        _this.originalMessage = originalMessage;\n        return _this;\n    }\n    FormatError.prototype.toString = function () {\n        return \"[formatjs Error: \" + this.code + \"] \" + this.message;\n    };\n    return FormatError;\n}(Error));\nexport { FormatError };\nvar InvalidValueError = /** @class */ (function (_super) {\n    __extends(InvalidValueError, _super);\n    function InvalidValueError(variableId, value, options, originalMessage) {\n        return _super.call(this, \"Invalid values for \\\"\" + variableId + \"\\\": \\\"\" + value + \"\\\". Options are \\\"\" + Object.keys(options).join('\", \"') + \"\\\"\", ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueError;\n}(FormatError));\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */ (function (_super) {\n    __extends(InvalidValueTypeError, _super);\n    function InvalidValueTypeError(value, type, originalMessage) {\n        return _super.call(this, \"Value for \\\"\" + value + \"\\\" must be of type \" + type, ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueTypeError;\n}(FormatError));\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */ (function (_super) {\n    __extends(MissingValueError, _super);\n    function MissingValueError(variableId, originalMessage) {\n        return _super.call(this, \"The intl string context variable \\\"\" + variableId + \"\\\" was not provided to the string \\\"\" + originalMessage + \"\\\"\", ErrorCode.MISSING_VALUE, originalMessage) || this;\n    }\n    return MissingValueError;\n}(FormatError));\nexport { MissingValueError };\n","import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTimeElement, isTagElement, } from '@formatjs/icu-messageformat-parser';\nimport { MissingValueError, InvalidValueError, ErrorCode, FormatError, InvalidValueTypeError, } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n    PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n    PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n    if (parts.length < 2) {\n        return parts;\n    }\n    return parts.reduce(function (all, part) {\n        var lastPart = all[all.length - 1];\n        if (!lastPart ||\n            lastPart.type !== PART_TYPE.literal ||\n            part.type !== PART_TYPE.literal) {\n            all.push(part);\n        }\n        else {\n            lastPart.value += part.value;\n        }\n        return all;\n    }, []);\n}\nexport function isFormatXMLElementFn(el) {\n    return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue, \n// For debugging\noriginalMessage) {\n    // Hot path for straight simple msg translations\n    if (els.length === 1 && isLiteralElement(els[0])) {\n        return [\n            {\n                type: PART_TYPE.literal,\n                value: els[0].value,\n            },\n        ];\n    }\n    var result = [];\n    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n        var el = els_1[_i];\n        // Exit early for string parts.\n        if (isLiteralElement(el)) {\n            result.push({\n                type: PART_TYPE.literal,\n                value: el.value,\n            });\n            continue;\n        }\n        // TODO: should this part be literal type?\n        // Replace `#` in plural rules with the actual numeric value.\n        if (isPoundElement(el)) {\n            if (typeof currentPluralValue === 'number') {\n                result.push({\n                    type: PART_TYPE.literal,\n                    value: formatters.getNumberFormat(locales).format(currentPluralValue),\n                });\n            }\n            continue;\n        }\n        var varName = el.value;\n        // Enforce that all required values are provided by the caller.\n        if (!(values && varName in values)) {\n            throw new MissingValueError(varName, originalMessage);\n        }\n        var value = values[varName];\n        if (isArgumentElement(el)) {\n            if (!value || typeof value === 'string' || typeof value === 'number') {\n                value =\n                    typeof value === 'string' || typeof value === 'number'\n                        ? String(value)\n                        : '';\n            }\n            result.push({\n                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                value: value,\n            });\n            continue;\n        }\n        // Recursively format plural and select parts' option — which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (isDateElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.date[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTimeElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.time[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isNumberElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.number[el.style]\n                : isNumberSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            if (style && style.scale) {\n                value =\n                    value *\n                        (style.scale || 1);\n            }\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getNumberFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTagElement(el)) {\n            var children = el.children, value_1 = el.value;\n            var formatFn = values[value_1];\n            if (!isFormatXMLElementFn(formatFn)) {\n                throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n            }\n            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n            var chunks = formatFn(parts.map(function (p) { return p.value; }));\n            if (!Array.isArray(chunks)) {\n                chunks = [chunks];\n            }\n            result.push.apply(result, chunks.map(function (c) {\n                return {\n                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                    value: c,\n                };\n            }));\n        }\n        if (isSelectElement(el)) {\n            var opt = el.options[value] || el.options.other;\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n            continue;\n        }\n        if (isPluralElement(el)) {\n            var opt = el.options[\"=\" + value];\n            if (!opt) {\n                if (!Intl.PluralRules) {\n                    throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n                }\n                var rule = formatters\n                    .getPluralRules(locales, { type: el.pluralType })\n                    .select(value - (el.offset || 0));\n                opt = el.options[rule] || el.options.other;\n            }\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n            continue;\n        }\n    }\n    return mergeLiteral(result);\n}\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __spreadArray } from \"tslib\";\nimport { parse } from '@formatjs/icu-messageformat-parser';\nimport memoize, { strategies } from '@formatjs/fast-memoize';\nimport { formatToParts, PART_TYPE, } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n    if (!c2) {\n        return c1;\n    }\n    return __assign(__assign(__assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {\n        all[k] = __assign(__assign({}, c1[k]), (c2[k] || {}));\n        return all;\n    }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n    if (!configs) {\n        return defaultConfig;\n    }\n    return Object.keys(defaultConfig).reduce(function (all, k) {\n        all[k] = mergeConfig(defaultConfig[k], configs[k]);\n        return all;\n    }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\nfunction createDefaultFormatters(cache) {\n    if (cache === void 0) { cache = {\n        number: {},\n        dateTime: {},\n        pluralRules: {},\n    }; }\n    return {\n        getNumberFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.number),\n            strategy: strategies.variadic,\n        }),\n        getDateTimeFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.dateTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.pluralRules),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nvar IntlMessageFormat = /** @class */ (function () {\n    function IntlMessageFormat(message, locales, overrideFormats, opts) {\n        var _this = this;\n        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }\n        this.formatterCache = {\n            number: {},\n            dateTime: {},\n            pluralRules: {},\n        };\n        this.format = function (values) {\n            var parts = _this.formatToParts(values);\n            // Hot path for straight simple msg translations\n            if (parts.length === 1) {\n                return parts[0].value;\n            }\n            var result = parts.reduce(function (all, part) {\n                if (!all.length ||\n                    part.type !== PART_TYPE.literal ||\n                    typeof all[all.length - 1] !== 'string') {\n                    all.push(part.value);\n                }\n                else {\n                    all[all.length - 1] += part.value;\n                }\n                return all;\n            }, []);\n            if (result.length <= 1) {\n                return result[0] || '';\n            }\n            return result;\n        };\n        this.formatToParts = function (values) {\n            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n        };\n        this.resolvedOptions = function () { return ({\n            locale: Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],\n        }); };\n        this.getAst = function () { return _this.ast; };\n        if (typeof message === 'string') {\n            this.message = message;\n            if (!IntlMessageFormat.__parse) {\n                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n            }\n            // Parse string messages into an AST.\n            this.ast = IntlMessageFormat.__parse(message, {\n                ignoreTag: opts === null || opts === void 0 ? void 0 : opts.ignoreTag,\n            });\n        }\n        else {\n            this.ast = message;\n        }\n        if (!Array.isArray(this.ast)) {\n            throw new TypeError('A message must be provided as a String or AST.');\n        }\n        // Creates a new object with the specified `formats` merged with the default\n        // formats.\n        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n        // Defined first because it's used to build the format pattern.\n        this.locales = locales;\n        this.formatters =\n            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);\n    }\n    Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n        get: function () {\n            if (!IntlMessageFormat.memoizedDefaultLocale) {\n                IntlMessageFormat.memoizedDefaultLocale =\n                    new Intl.NumberFormat().resolvedOptions().locale;\n            }\n            return IntlMessageFormat.memoizedDefaultLocale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IntlMessageFormat.memoizedDefaultLocale = null;\n    IntlMessageFormat.__parse = parse;\n    // Default format options used as the prototype of the `formats` provided to the\n    // constructor. These are used when constructing the internal Intl.NumberFormat\n    // and Intl.DateTimeFormat instances.\n    IntlMessageFormat.formats = {\n        number: {\n            integer: {\n                maximumFractionDigits: 0,\n            },\n            currency: {\n                style: 'currency',\n            },\n            percent: {\n                style: 'percent',\n            },\n        },\n        date: {\n            short: {\n                month: 'numeric',\n                day: 'numeric',\n                year: '2-digit',\n            },\n            medium: {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            long: {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            full: {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n        },\n        time: {\n            short: {\n                hour: 'numeric',\n                minute: 'numeric',\n            },\n            medium: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n            },\n            long: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n            full: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n        },\n    };\n    return IntlMessageFormat;\n}());\nexport { IntlMessageFormat };\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { IntlMessageFormat } from './src/core';\nexport * from './src/formatters';\nexport * from './src/core';\nexport * from './src/error';\nexport default IntlMessageFormat;\n","import{writable as e,derived as n}from\"svelte/store\";import t from\"deepmerge\";import o from\"intl-messageformat\";const r={},i=(e,n,t)=>t?(n in r||(r[n]={}),e in r[n]||(r[n][e]=t),t):t,l=(e,n)=>{if(null==n)return;if(n in r&&e in r[n])return r[n][e];const t=E(n);for(let o=0;o<t.length;o++){const r=c(t[o],e);if(r)return i(e,n,r)}};let a;const s=e({});function u(e){return e in a}function c(e,n){if(!u(e))return null;return function(e,n){if(null==n)return;if(n in e)return e[n];const t=n.split(\".\");let o=e;for(let e=0;e<t.length;e++)if(\"object\"==typeof o){if(e>0){const n=t.slice(e,t.length).join(\".\");if(n in o){o=o[n];break}}o=o[t[e]]}else o=void 0;return o}(function(e){return a[e]||null}(e),n)}function m(e,...n){delete r[e],s.update((o=>(o[e]=t.all([o[e]||{},...n]),o)))}const f=n([s],(([e])=>Object.keys(e)));s.subscribe((e=>a=e));const d={};function g(e){return d[e]}function w(e){return null!=e&&E(e).some((e=>{var n;return null===(n=g(e))||void 0===n?void 0:n.size}))}function h(e,n){return Promise.all(n.map((n=>(function(e,n){d[e].delete(n),0===d[e].size&&delete d[e]}(e,n),n().then((e=>e.default||e)))))).then((n=>m(e,...n)))}const p={};function b(e){if(!w(e))return e in p?p[e]:Promise.resolve();const n=function(e){return E(e).map((e=>{const n=g(e);return[e,n?[...n]:[]]})).filter((([,e])=>e.length>0))}(e);return p[e]=Promise.all(n.map((([e,n])=>h(e,n)))).then((()=>{if(w(e))return b(e);delete p[e]})),p[e]}function y(e,n){g(e)||function(e){d[e]=new Set}(e);const t=g(e);g(e).has(n)||(u(e)||s.update((n=>(n[e]={},n))),t.add(n))}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function v(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}const O={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:\"scientific\"},engineering:{notation:\"engineering\"},compactLong:{notation:\"compact\",compactDisplay:\"long\"},compactShort:{notation:\"compact\",compactDisplay:\"short\"}},date:{short:{month:\"numeric\",day:\"numeric\",year:\"2-digit\"},medium:{month:\"short\",day:\"numeric\",year:\"numeric\"},long:{month:\"long\",day:\"numeric\",year:\"numeric\"},full:{weekday:\"long\",month:\"long\",day:\"numeric\",year:\"numeric\"}},time:{short:{hour:\"numeric\",minute:\"numeric\"},medium:{hour:\"numeric\",minute:\"numeric\",second:\"numeric\"},long:{hour:\"numeric\",minute:\"numeric\",second:\"numeric\",timeZoneName:\"short\"},full:{hour:\"numeric\",minute:\"numeric\",second:\"numeric\",timeZoneName:\"short\"}}},warnOnMissingMessages:!0,ignoreTag:!0};function j(){return O}function $(e){const{formats:n}=e,t=v(e,[\"formats\"]),o=e.initialLocale||e.fallbackLocale;return Object.assign(O,t,{initialLocale:o}),n&&(\"number\"in n&&Object.assign(O.formats.number,n.number),\"date\"in n&&Object.assign(O.formats.date,n.date),\"time\"in n&&Object.assign(O.formats.time,n.time)),M.set(o)}const k=e(!1);let L;const T=e(null);function x(e){return e.split(\"-\").map(((e,n,t)=>t.slice(0,n+1).join(\"-\"))).reverse()}function E(e,n=j().fallbackLocale){const t=x(e);return n?[...new Set([...t,...x(n)])]:t}function D(){return null!=L?L:void 0}T.subscribe((e=>{L=null!=e?e:void 0,\"undefined\"!=typeof window&&null!=e&&document.documentElement.setAttribute(\"lang\",e)}));const M=Object.assign(Object.assign({},T),{set:e=>{if(e&&function(e){if(null==e)return;const n=E(e);for(let e=0;e<n.length;e++){const t=n[e];if(u(t))return t}}(e)&&w(e)){const{loadingDelay:n}=j();let t;return\"undefined\"!=typeof window&&null!=D()&&n?t=window.setTimeout((()=>k.set(!0)),n):k.set(!0),b(e).then((()=>{T.set(e)})).finally((()=>{clearTimeout(t),k.set(!1)}))}return T.set(e)}}),P=(e,n)=>{const t=e.split(\"&\").find((e=>0===e.indexOf(`${n}=`)));return t?t.split(\"=\").pop():null},S=(e,n)=>{const t=n.exec(e);return t&&t[1]||null},N=e=>\"undefined\"==typeof window?null:S(window.location.hostname,e),A=e=>\"undefined\"==typeof window?null:S(window.location.pathname,e),I=()=>\"undefined\"==typeof window?null:window.navigator.language||window.navigator.languages[0],F=e=>\"undefined\"==typeof window?null:P(window.location.search.substr(1),e),z=e=>\"undefined\"==typeof window?null:P(window.location.hash.substr(1),e),Z=e=>{const n=Object.create(null);return t=>{const o=JSON.stringify(t);return o in n?n[o]:n[o]=e(t)}},C=(e,n)=>{const{formats:t}=j();if(e in t&&n in t[e])return t[e][n];throw new Error(`[svelte-i18n] Unknown \"${n}\" ${e} format.`)},G=Z((e=>{var{locale:n,format:t}=e,o=v(e,[\"locale\",\"format\"]);if(null==n)throw new Error('[svelte-i18n] A \"locale\" must be set to format numbers');return t&&(o=C(\"number\",t)),new Intl.NumberFormat(n,o)})),J=Z((e=>{var{locale:n,format:t}=e,o=v(e,[\"locale\",\"format\"]);if(null==n)throw new Error('[svelte-i18n] A \"locale\" must be set to format dates');return t?o=C(\"date\",t):0===Object.keys(o).length&&(o=C(\"date\",\"short\")),new Intl.DateTimeFormat(n,o)})),U=Z((e=>{var{locale:n,format:t}=e,o=v(e,[\"locale\",\"format\"]);if(null==n)throw new Error('[svelte-i18n] A \"locale\" must be set to format time values');return t?o=C(\"time\",t):0===Object.keys(o).length&&(o=C(\"time\",\"short\")),new Intl.DateTimeFormat(n,o)})),_=(e={})=>{var{locale:n=D()}=e,t=v(e,[\"locale\"]);return G(Object.assign({locale:n},t))},q=(e={})=>{var{locale:n=D()}=e,t=v(e,[\"locale\"]);return J(Object.assign({locale:n},t))},B=(e={})=>{var{locale:n=D()}=e,t=v(e,[\"locale\"]);return U(Object.assign({locale:n},t))},H=Z(((e,n=D())=>new o(e,n,j().formats,{ignoreTag:j().ignoreTag}))),K=(e,n={})=>{let t=n;\"object\"==typeof e&&(t=e,e=t.id);const{values:o,locale:r=D(),default:i}=t;if(null==r)throw new Error(\"[svelte-i18n] Cannot format a message without first setting the initial locale.\");let a=l(e,r);if(a){if(\"string\"!=typeof a)return console.warn(`[svelte-i18n] Message with id \"${e}\" must be of type \"string\", found: \"${typeof a}\". Gettin its value through the \"$format\" method is deprecated; use the \"json\" method instead.`),a}else j().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message \"${e}\" was not found in \"${E(r).join('\", \"')}\".${w(D())?\"\\n\\nNote: there are at least one loader still registered to this locale that wasn't executed.\":\"\"}`),a=null!=i?i:e;if(!o)return a;let s=a;try{s=H(a,r).format(o)}catch(n){console.warn(`[svelte-i18n] Message \"${e}\" has syntax error:`,n.message)}return s},Q=(e,n)=>B(n).format(e),R=(e,n)=>q(n).format(e),V=(e,n)=>_(n).format(e),W=(e,n=D())=>l(e,n),X=n([M,s],(()=>K)),Y=n([M],(()=>Q)),ee=n([M],(()=>R)),ne=n([M],(()=>V)),te=n([M,s],(()=>W));function oe(e){return e}function re(e){return b(e||D()||j().initialLocale)}export{X as _,m as addMessages,ee as date,oe as defineMessages,s as dictionary,X as format,q as getDateFormatter,z as getLocaleFromHash,N as getLocaleFromHostname,I as getLocaleFromNavigator,A as getLocaleFromPathname,F as getLocaleFromQueryString,H as getMessageFormatter,_ as getNumberFormatter,B as getTimeFormatter,$ as init,k as isLoading,te as json,M as locale,f as locales,ne as number,y as register,X as t,Y as time,re as waitLocale};\n","<script>\nimport { Col, Container, Row } from \"sveltestrap\";\nimport { _, locale, locales } from \"svelte-i18n\";\n</script>\n\n<footer class=\"pt-5\">\n  <div class=\"pb-5\">\n    <Container>\n      <Row>\n        <Col xs=\"12\" md=\"4\" lg=\"6\" class=\"px-4 mt-2\">\n          <p>\n            {$_(\"Footer_intro\")}\n          </p>\n          <a href=\"https://be.okfn.org/\">\n            <picture>\n              <source\n                media=\"(max-width: 600px)\"\n                srcset=\"/img/open-knowledge-belgium-footer.svg 113w\" />\n              <source\n                media=\"(min-width: 600px)\"\n                srcset=\"/img/open-knowledge-belgium-footer.svg 266w\" />\n              <img\n                class=\"Footer_footer__img__4N03j\"\n                src=\"/img/open-knowledge-belgium-footer.svg\"\n                alt=\"Open Knowlegde Belgium\" />\n            </picture>\n          </a>\n        </Col>\n        <Col xs=\"6\" md=\"4\" lg=\"3\" class=\"px-4 mt-2\">\n          <h3 class=\"text-uppercase\">{$_(\"Footer_nav_title\")}</h3>\n\n          <ul class=\"list-unstyled text-muted mb-6 mb-md-8 mb-lg-0\">\n            <li class=\"mb-3\">\n              <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/datamap\"\n                >{$_(\"The_data\")}</a>\n            </li>\n            <li class=\"mb-3\">\n              <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/about\"\n                >{$_(\"About\")}</a>\n            </li>\n            <li class=\"mb-3\">\n              <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/faq\">{$_(\"FAQ\")}</a>\n            </li>\n          </ul>\n          <select bind:value=\"{$locale}\">\n            {#each $locales as locale}\n              <option value=\"{locale}\">{locale}</option>\n            {/each}\n          </select>\n        </Col>\n        <Col xs=\"6\" md=\"4\" lg=\"3\" class=\"px-4 mt-2\">\n          <h3 class=\"text-uppercase\">{$_(\"Footer_contact\")}</h3>\n          <p class=\"Footer_footer__contactBold__3W-zb\">\n            Open Knowledge Belgium\n          </p>\n          <p>Cantersteen 12</p>\n          <p>1000 Brussels</p>\n          <a\n            href=\"mailto:bikedataproject@openknowledge.be\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\">bikedataproject@openknowledge.be</a>\n          <div class=\"socials mt-4\">\n            <a\n              href=\"https://twitter.com/bikedataproject\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              ><svg\n                width=\"33\"\n                height=\"33\"\n                viewBox=\"0 0 33 33\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                ><path\n                  d=\"M16.5 0C7.38869 0 0 7.38869 0 16.5C0 25.6113 7.38869 33 16.5 33C25.6113 33 33 25.6113 33 16.5C33 7.38869 25.6113 0 16.5 0ZM24.0337 12.8649C24.041 13.0273 24.0445 13.1905 24.0445 13.3544C24.0445 18.3588 20.2353 24.1296 13.269 24.1299H13.2693H13.269C11.1302 24.1299 9.14001 23.503 7.46397 22.4287C7.76031 22.4637 8.06193 22.481 8.36732 22.481C10.1418 22.481 11.7748 21.8758 13.0711 20.8599C11.4132 20.8292 10.0154 19.7342 9.53302 18.2294C9.76389 18.2737 10.0013 18.2979 10.2448 18.2979C10.5905 18.2979 10.9253 18.2513 11.2435 18.1645C9.51061 17.8175 8.20518 16.286 8.20518 14.4521C8.20518 14.435 8.20518 14.4196 8.20569 14.4038C8.71603 14.6875 9.29963 14.8582 9.921 14.8773C8.9041 14.1988 8.23565 13.0389 8.23565 11.7249C8.23565 11.0311 8.42322 10.381 8.7485 9.8213C10.6161 12.1129 13.4073 13.62 16.5549 13.7784C16.4899 13.5009 16.4564 13.2119 16.4564 12.9148C16.4564 10.8241 18.1526 9.12792 20.2441 9.12792C21.3335 9.12792 22.3174 9.58841 23.0085 10.3246C23.8713 10.1544 24.6815 9.83917 25.4134 9.40537C25.1302 10.2893 24.53 11.0311 23.748 11.5001C24.5141 11.4085 25.2442 11.2053 25.9227 10.9037C25.4159 11.6632 24.7732 12.3304 24.0337 12.8649V12.8649Z\"\n                  fill=\"white\"></path\n                ></svg\n              ></a\n            ><a\n              href=\"https://www.facebook.com/BikeDataProject\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              ><svg\n                width=\"33\"\n                height=\"33\"\n                viewBox=\"0 0 33 33\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                ><path\n                  d=\"M33 16.5C33 7.38633 25.6137 0 16.5 0C7.38633 0 0 7.38633 0 16.5C0 25.6137 7.38633 33 16.5 33C16.5967 33 16.6934 33 16.79 32.9936V20.1545H13.2451V16.023H16.79V12.9809C16.79 9.45527 18.9428 7.53457 22.0881 7.53457C23.5963 7.53457 24.8918 7.64414 25.2656 7.6957V11.3824H23.1C21.392 11.3824 21.0568 12.1945 21.0568 13.3869V16.0166H25.1496L24.6146 20.148H21.0568V32.3619C27.9533 30.3832 33 24.0346 33 16.5V16.5Z\"\n                  fill=\"white\"></path\n                ></svg\n              ></a\n            ><a\n              href=\"https://join.slack.com/t/bikedataproject/shared_invite/zt-g60t5w5c-lT2ucV0HtLEVnE4_wG9hTg\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              ><svg\n                width=\"33\"\n                height=\"33\"\n                viewBox=\"0 0 33 33\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                ><path\n                  fill-rule=\"evenodd\"\n                  clip-rule=\"evenodd\"\n                  d=\"M33 16.5C33 25.6127 25.6127 33 16.5 33C7.3873 33 0 25.6127 0 16.5C0 7.3873 7.3873 0 16.5 0C25.6127 0 33 7.3873 33 16.5ZM13.8419 6.53378C12.7402 6.5346 11.8485 7.42691 11.8493 8.52645C11.8485 9.62599 12.741 10.5183 13.8427 10.5191H15.8361V8.52726C15.8369 7.42772 14.9445 6.53541 13.8419 6.53378ZM13.8419 11.8486H8.52782C7.42608 11.8494 6.53361 12.7418 6.53443 13.8413C6.5328 14.9408 7.42526 15.8331 8.52701 15.8348H13.8419C14.9437 15.834 15.8361 14.9417 15.8353 13.8421C15.8361 12.7418 14.9437 11.8494 13.8419 11.8486ZM24.4717 11.8486C25.5734 11.8494 26.4659 12.7418 26.4651 13.8413C26.4659 14.9417 25.5734 15.834 24.4717 15.8348H22.4783V13.8413C22.4775 12.7418 23.3699 11.8494 24.4717 11.8486ZM21.1502 8.52645V13.8413C21.151 14.9417 20.2585 15.834 19.1568 15.8348C18.055 15.8331 17.1626 14.9408 17.1642 13.8413V8.52645C17.1634 7.42691 18.0558 6.5346 19.1576 6.53378C20.2593 6.53541 21.151 7.42772 21.1502 8.52645ZM19.1568 26.4628C20.2586 26.4619 21.1511 25.5696 21.1502 24.4701C21.1511 23.3706 20.2586 22.4782 19.1568 22.4774H17.1635V24.4701C17.1626 25.5688 18.0551 26.4611 19.1568 26.4628ZM19.1568 21.1471H24.4718C25.5735 21.1463 26.466 20.254 26.4652 19.1544C26.4668 18.0549 25.5743 17.1626 24.4726 17.1609H19.1577C18.0559 17.1618 17.1635 18.0541 17.1643 19.1536C17.1635 20.254 18.0551 21.1463 19.1568 21.1471ZM8.52782 21.1501C7.42608 21.1493 6.53361 20.257 6.53442 19.1574C6.53361 18.0579 7.42608 17.1656 8.52782 17.1648H10.5212V19.1574C10.522 20.257 9.62956 21.1493 8.52782 21.1501ZM11.8493 24.4723V19.1574C11.8485 18.0579 12.7402 17.1656 13.8427 17.1656C14.9445 17.1672 15.8369 18.0595 15.8353 19.1591V24.4731C15.8361 25.5726 14.9437 26.4649 13.8419 26.4658C12.7402 26.4641 11.8477 25.5718 11.8493 24.4723Z\"\n                  fill=\"white\"></path\n                ></svg\n              ></a\n            ><a\n              href=\"https://github.com/bikedataproject\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              ><svg\n                width=\"32\"\n                height=\"32\"\n                viewBox=\"0 0 32 32\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                ><path\n                  d=\"M16 0C7.15983 0 0 7.26871 0 16.2433C0 23.877 5.15949 30.2125 12.1205 31.9986C12.0402 31.7954 12.0007 31.5106 12.0007 31.2272V28.4652H10.0003C8.92051 28.4652 7.91966 27.9786 7.47983 27.0842C6.95966 26.1096 6.87932 24.6069 5.55983 23.6724C5.15949 23.3475 5.47949 23.0226 5.91932 23.0627C6.75949 23.306 7.43898 23.8756 8.07898 24.7271C8.71898 25.5801 8.99949 25.7833 10.1991 25.7833C10.7588 25.7833 11.6385 25.7432 12.4391 25.6202C12.879 24.4825 13.6388 23.4678 14.5593 22.9812C9.19966 22.3314 6.63966 19.6509 6.63966 15.9959C6.63966 14.4116 7.31915 12.9089 8.43983 11.6095C8.08034 10.3501 7.59966 7.75117 8.60051 6.73648C11.0012 6.73648 12.4405 8.32072 12.8 8.72576C13.9997 8.31934 15.3205 8.07603 16.6795 8.07603C18.0793 8.07603 19.3593 8.31934 20.559 8.72576C20.9185 8.31934 22.3591 6.73648 24.7585 6.73648C25.7185 7.71108 25.2786 10.3501 24.8783 11.6095C25.999 12.8688 26.639 14.4116 26.639 15.9959C26.639 19.6509 24.1185 22.3314 18.7997 22.8996C20.2798 23.671 21.3202 25.8635 21.3202 27.4878V31.1871C21.3202 31.3088 21.2807 31.4304 21.2807 31.5521C27.52 29.3596 32 23.3503 32 16.2433C32 7.26871 24.8402 0 16 0Z\"\n                  fill=\"white\"></path\n                ></svg\n              ></a>\n          </div>\n        </Col>\n      </Row>\n    </Container>\n  </div>\n  <div class=\"subfooter\">\n    <Row class=\"p-4\">\n      <p>\n        {$_(\"Footer_copyright_one\")}\n        <a href=\"https://creativecommons.org/licenses/by/4.0\">\n          Creative Commons Attribution 4.0 International License</a\n        >.\n      </p>\n    </Row>\n  </div>\n</footer>\n\n<style>\nimg {\n  max-width: 100%;\n}\n\na {\n  color: #fff;\n  text-decoration: none;\n}\n\np {\n  margin-bottom: 0px;\n}\n\n.socials a {\n  margin-right: 1rem;\n}\n\n.subfooter {\n  background-color: white;\n  color: #ef4823;\n}\n\n.subfooter a {\n  color: #ef4823;\n  font-weight: 700;\n}\n</style>\n","<script>\nimport { Link } from \"svelte-navigator\";\nimport { _ } from \"svelte-i18n\";\n</script>\n\n<div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n  <ul class=\"navbar-nav ms-auto\">\n    <li class=\"nav-item active\">\n      <Link class=\"nav-link m-2\" to=\"datamap\">{$_(\"The_data\")}</Link>\n    </li>\n    <li class=\"nav-item\">\n      <Link class=\"nav-link m-2\" to=\"faq\">{$_(\"FAQ\")}</Link>\n    </li>\n    <li class=\"nav-item\">\n      <Link class=\"nav-link m-2\" to=\"about\">{$_(\"About\")}</Link>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link m-2\" href=\"https://wiki.bikedataproject.org/\">{$_(\"Wiki\")}</a>\n    </li>\n    <li class=\"nav-item\">\n      <a type=\"button\" class=\"btn btn-primary m-2\" href=\"#share-section\"\n        >{$_(\"Contribute\")}</a>\n    </li>\n  </ul>\n</div>\n","<script lang=\"ts\">\n    import { Link } from \"svelte-navigator\";\n    import Navbar from \"./Navbar.svelte\";\n</script>\n\n<nav class=\"navbar fixed-top navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container\">\n        <Link class=\"navbar-brand\" to=\"/\">\n            <svg\n                width=\"224\"\n                height=\"31\"\n                viewBox=\"0 0 224 31\"\n                fill=\"none\"\n                alt=\"Bike Data Project logo\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <path\n                    d=\"M63.2991 16.6398C64.1257 16.8798 64.7591 17.2998 65.1991 17.8998C65.6524 18.4998 65.8791 19.2398 65.8791 20.1198C65.8791 21.3331 65.4457 22.2865 64.5791 22.9798C63.7257 23.6598 62.5324 23.9998 60.9991 23.9998H54.5391V9.75979H60.7991C62.2657 9.75979 63.4191 10.0931 64.2591 10.7598C65.0991 11.4131 65.5191 12.3198 65.5191 13.4798C65.5191 14.2265 65.3191 14.8798 64.9191 15.4398C64.5324 15.9865 63.9924 16.3865 63.2991 16.6398ZM57.0591 15.7598H60.3791C62.1657 15.7598 63.0591 15.0931 63.0591 13.7598C63.0591 13.0931 62.8391 12.5931 62.3991 12.2598C61.9591 11.9265 61.2857 11.7598 60.3791 11.7598H57.0591V15.7598ZM60.7191 21.9998C61.6524 21.9998 62.3324 21.8331 62.7591 21.4998C63.1991 21.1665 63.4191 20.6398 63.4191 19.9198C63.4191 19.1865 63.1991 18.6465 62.7591 18.2998C62.3324 17.9531 61.6524 17.7798 60.7191 17.7798H57.0591V21.9998H60.7191Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M68.4677 23.9998V13.8998H70.9477V23.9998H68.4677ZM68.3077 9.31979H71.0877V11.7798H68.3077V9.31979Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M84.0025 23.9998H80.8825L76.4625 19.3398V23.9998H73.9825V9.27979H76.4625V18.3598L80.6225 13.9198H83.6425L79.1025 18.7398L84.0025 23.9998Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M94.0014 19.0798H87.0414C87.0947 20.1598 87.3614 20.9598 87.8414 21.4798C88.3347 21.9865 89.0614 22.2398 90.0214 22.2398C91.1281 22.2398 92.1547 21.8798 93.1014 21.1598L93.8214 22.8798C93.3414 23.2665 92.7481 23.5798 92.0414 23.8198C91.3481 24.0465 90.6414 24.1598 89.9214 24.1598C88.2681 24.1598 86.9681 23.6931 86.0214 22.7598C85.0747 21.8265 84.6014 20.5465 84.6014 18.9198C84.6014 17.8931 84.8081 16.9798 85.2214 16.1798C85.6347 15.3798 86.2147 14.7598 86.9614 14.3198C87.7081 13.8665 88.5547 13.6398 89.5014 13.6398C90.8881 13.6398 91.9814 14.0931 92.7814 14.9998C93.5947 15.8931 94.0014 17.1265 94.0014 18.6998V19.0798ZM89.5614 15.4398C88.8947 15.4398 88.3481 15.6398 87.9214 16.0398C87.5081 16.4265 87.2414 16.9931 87.1214 17.7398H91.8214C91.7414 16.9798 91.5081 16.4065 91.1214 16.0198C90.7481 15.6331 90.2281 15.4398 89.5614 15.4398Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M102.387 9.75979H107.627C109.96 9.75979 111.767 10.3798 113.047 11.6198C114.34 12.8598 114.987 14.6065 114.987 16.8598C114.987 19.1265 114.34 20.8865 113.047 22.1398C111.767 23.3798 109.96 23.9998 107.627 23.9998H102.387V9.75979ZM107.467 21.8998C110.747 21.8998 112.387 20.2198 112.387 16.8598C112.387 13.5265 110.747 11.8598 107.467 11.8598H104.967V21.8998H107.467Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M127.401 13.8998V23.9998H124.941V22.3798C124.634 22.9398 124.194 23.3798 123.621 23.6998C123.048 24.0065 122.394 24.1598 121.661 24.1598C120.781 24.1598 120.001 23.9465 119.321 23.5198C118.641 23.0931 118.114 22.4865 117.741 21.6998C117.368 20.9131 117.181 19.9998 117.181 18.9598C117.181 17.9198 117.368 16.9998 117.741 16.1998C118.128 15.3865 118.661 14.7598 119.341 14.3198C120.021 13.8665 120.794 13.6398 121.661 13.6398C122.394 13.6398 123.048 13.7998 123.621 14.1198C124.194 14.4265 124.634 14.8598 124.941 15.4198V13.8998H127.401ZM122.341 22.1998C123.168 22.1998 123.808 21.9131 124.261 21.3398C124.714 20.7665 124.941 19.9598 124.941 18.9198C124.941 17.8531 124.714 17.0331 124.261 16.4598C123.808 15.8865 123.161 15.5998 122.321 15.5998C121.494 15.5998 120.848 15.8998 120.381 16.4998C119.928 17.0865 119.701 17.9065 119.701 18.9598C119.701 19.9998 119.928 20.7998 120.381 21.3598C120.848 21.9198 121.501 22.1998 122.341 22.1998Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M133.604 15.7798V20.2998C133.604 21.4865 134.157 22.0798 135.264 22.0798C135.571 22.0798 135.904 22.0265 136.264 21.9198V23.8998C135.824 24.0598 135.291 24.1398 134.664 24.1398C133.517 24.1398 132.637 23.8198 132.024 23.1798C131.411 22.5398 131.104 21.6198 131.104 20.4198V15.7798H129.164V13.8998H131.104V11.4398L133.604 10.5998V13.8998H136.284V15.7798H133.604Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M147.962 13.8998V23.9998H145.502V22.3798C145.195 22.9398 144.755 23.3798 144.182 23.6998C143.609 24.0065 142.955 24.1598 142.222 24.1598C141.342 24.1598 140.562 23.9465 139.882 23.5198C139.202 23.0931 138.675 22.4865 138.302 21.6998C137.929 20.9131 137.742 19.9998 137.742 18.9598C137.742 17.9198 137.929 16.9998 138.302 16.1998C138.689 15.3865 139.222 14.7598 139.902 14.3198C140.582 13.8665 141.355 13.6398 142.222 13.6398C142.955 13.6398 143.609 13.7998 144.182 14.1198C144.755 14.4265 145.195 14.8598 145.502 15.4198V13.8998H147.962ZM142.902 22.1998C143.729 22.1998 144.369 21.9131 144.822 21.3398C145.275 20.7665 145.502 19.9598 145.502 18.9198C145.502 17.8531 145.275 17.0331 144.822 16.4598C144.369 15.8865 143.722 15.5998 142.882 15.5998C142.055 15.5998 141.409 15.8998 140.942 16.4998C140.489 17.0865 140.262 17.9065 140.262 18.9598C140.262 19.9998 140.489 20.7998 140.942 21.3598C141.409 21.9198 142.062 22.1998 142.902 22.1998Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M156.953 9.75979H163.133C164.666 9.75979 165.86 10.1331 166.713 10.8798C167.566 11.6131 167.993 12.6198 167.993 13.8998C167.993 15.1798 167.56 16.1931 166.693 16.9398C165.84 17.6865 164.653 18.0598 163.133 18.0598H159.533V23.9998H156.953V9.75979ZM162.833 16.0598C163.726 16.0598 164.4 15.8798 164.853 15.5198C165.32 15.1465 165.553 14.6131 165.553 13.9198C165.553 13.2131 165.326 12.6798 164.873 12.3198C164.42 11.9465 163.74 11.7598 162.833 11.7598H159.533V16.0598H162.833Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M175.638 13.6598C176.025 13.6598 176.358 13.7131 176.638 13.8198L176.618 16.0998C176.191 15.9265 175.751 15.8398 175.298 15.8398C174.445 15.8398 173.791 16.0865 173.338 16.5798C172.898 17.0731 172.678 17.7265 172.678 18.5398V23.9998H170.198V16.7598C170.198 15.6931 170.145 14.7398 170.038 13.8998H172.378L172.578 15.6798C172.831 15.0265 173.231 14.5265 173.778 14.1798C174.325 13.8331 174.945 13.6598 175.638 13.6598Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M182.715 24.1598C181.688 24.1598 180.782 23.9465 179.995 23.5198C179.222 23.0931 178.622 22.4865 178.195 21.6998C177.782 20.8998 177.575 19.9665 177.575 18.8998C177.575 17.8331 177.782 16.9065 178.195 16.1198C178.622 15.3198 179.222 14.7065 179.995 14.2798C180.782 13.8531 181.688 13.6398 182.715 13.6398C183.728 13.6398 184.622 13.8531 185.395 14.2798C186.168 14.7065 186.762 15.3198 187.175 16.1198C187.602 16.9065 187.815 17.8331 187.815 18.8998C187.815 19.9665 187.602 20.8998 187.175 21.6998C186.762 22.4865 186.168 23.0931 185.395 23.5198C184.622 23.9465 183.728 24.1598 182.715 24.1598ZM182.695 22.1998C183.548 22.1998 184.195 21.9265 184.635 21.3798C185.088 20.8198 185.315 19.9931 185.315 18.8998C185.315 17.8198 185.088 16.9998 184.635 16.4398C184.182 15.8665 183.542 15.5798 182.715 15.5798C181.875 15.5798 181.228 15.8665 180.775 16.4398C180.322 16.9998 180.095 17.8198 180.095 18.8998C180.095 19.9931 180.315 20.8198 180.755 21.3798C181.208 21.9265 181.855 22.1998 182.695 22.1998Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M187.691 26.2198C188.051 26.3265 188.377 26.3798 188.671 26.3798C189.151 26.3798 189.537 26.2398 189.831 25.9598C190.124 25.6798 190.271 25.2265 190.271 24.5998V13.8998H192.751V24.7198C192.751 25.9198 192.444 26.8398 191.831 27.4798C191.231 28.1198 190.371 28.4398 189.251 28.4398C188.651 28.4398 188.131 28.3665 187.691 28.2198V26.2198ZM190.111 9.31979H192.891V11.7798H190.111V9.31979Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M204.626 19.0798H197.666C197.719 20.1598 197.986 20.9598 198.466 21.4798C198.959 21.9865 199.686 22.2398 200.646 22.2398C201.752 22.2398 202.779 21.8798 203.726 21.1598L204.446 22.8798C203.966 23.2665 203.372 23.5798 202.666 23.8198C201.972 24.0465 201.266 24.1598 200.546 24.1598C198.892 24.1598 197.592 23.6931 196.646 22.7598C195.699 21.8265 195.226 20.5465 195.226 18.9198C195.226 17.8931 195.432 16.9798 195.846 16.1798C196.259 15.3798 196.839 14.7598 197.586 14.3198C198.332 13.8665 199.179 13.6398 200.126 13.6398C201.512 13.6398 202.606 14.0931 203.406 14.9998C204.219 15.8931 204.626 17.1265 204.626 18.6998V19.0798ZM200.186 15.4398C199.519 15.4398 198.972 15.6398 198.546 16.0398C198.132 16.4265 197.866 16.9931 197.746 17.7398H202.446C202.366 16.9798 202.132 16.4065 201.746 16.0198C201.372 15.6331 200.852 15.4398 200.186 15.4398Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M211.623 24.1598C210.569 24.1598 209.656 23.9465 208.883 23.5198C208.109 23.0931 207.516 22.4931 207.103 21.7198C206.689 20.9331 206.483 20.0131 206.483 18.9598C206.483 17.9065 206.696 16.9798 207.123 16.1798C207.563 15.3798 208.176 14.7598 208.963 14.3198C209.763 13.8665 210.683 13.6398 211.723 13.6398C212.443 13.6398 213.136 13.7531 213.803 13.9798C214.483 14.2065 215.023 14.5198 215.423 14.9198L214.723 16.6798C214.296 16.3331 213.843 16.0731 213.363 15.8998C212.883 15.7131 212.409 15.6198 211.943 15.6198C211.036 15.6198 210.329 15.9065 209.823 16.4798C209.316 17.0398 209.063 17.8531 209.063 18.9198C209.063 19.9865 209.309 20.7998 209.803 21.3598C210.309 21.9198 211.023 22.1998 211.943 22.1998C212.409 22.1998 212.883 22.1065 213.363 21.9198C213.843 21.7331 214.296 21.4665 214.723 21.1198L215.423 22.8798C214.996 23.2798 214.443 23.5931 213.763 23.8198C213.083 24.0465 212.369 24.1598 211.623 24.1598Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M220.64 15.7798V20.2998C220.64 21.4865 221.193 22.0798 222.3 22.0798C222.607 22.0798 222.94 22.0265 223.3 21.9198V23.8998C222.86 24.0598 222.327 24.1398 221.7 24.1398C220.553 24.1398 219.673 23.8198 219.06 23.1798C218.447 22.5398 218.14 21.6198 218.14 20.4198V15.7798H216.2V13.8998H218.14V11.4398L220.64 10.5998V13.8998H223.32V15.7798H220.64Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M20.3307 4.70999C21.6686 4.70999 22.7532 3.67519 22.7532 2.3987C22.7532 1.1222 21.6686 0.0874023 20.3307 0.0874023C18.9928 0.0874023 17.9082 1.1222 17.9082 2.3987C17.9082 3.67519 18.9928 4.70999 20.3307 4.70999Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M20.3309 4.79813C18.951 4.79813 17.8164 3.71563 17.8164 2.39907C17.8164 1.08251 18.951 0 20.3309 0C21.7108 0 22.8454 1.08251 22.8454 2.39907C22.8454 3.71563 21.7108 4.79813 20.3309 4.79813ZM20.3309 0.146284C19.043 0.146284 17.9697 1.14102 17.9697 2.39907C17.9697 3.62785 19.0123 4.65185 20.3309 4.65185C21.6188 4.65185 22.6921 3.65711 22.6921 2.39907C22.6921 1.14102 21.6188 0.146284 20.3309 0.146284Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M7.35946 30.9257C3.31176 30.9257 0 27.7659 0 23.904C0 20.0421 3.31176 16.8823 7.35946 16.8823C11.4072 16.8823 14.7189 20.0421 14.7189 23.904C14.7189 27.7659 11.4072 30.9257 7.35946 30.9257ZM7.35946 17.9648C3.92504 17.9648 1.16525 20.6272 1.16525 23.8747C1.16525 27.1223 3.95571 29.7846 7.35946 29.7846C10.7632 29.7846 13.5537 27.1515 13.5537 23.904C13.5537 20.6565 10.7939 17.9648 7.35946 17.9648Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M28.6388 30.9257C24.5911 30.9257 21.2793 27.7659 21.2793 23.904C21.2793 20.0421 24.5911 16.8823 28.6388 16.8823C32.6865 16.8823 35.9982 20.0421 35.9982 23.904C35.9982 27.7659 32.6865 30.9257 28.6388 30.9257ZM28.6388 17.9648C25.2043 17.9648 22.4445 20.6272 22.4445 23.8747C22.4445 27.1223 25.235 29.7846 28.6388 29.7846C32.0425 29.7846 34.833 27.1223 34.833 23.8747C34.833 20.6272 32.0425 17.9648 28.6388 17.9648Z\"\n                    fill=\"white\"\n                />\n                <path\n                    d=\"M26.2785 9.94836C26.0945 9.94836 25.9412 9.97762 25.7878 10.0361C24.04 10.0946 19.8696 8.86585 18.7964 7.46152C18.5204 7.08118 18.0604 6.81787 17.5391 6.81787C16.7112 6.81787 16.0059 7.46152 16.0059 8.28072C15.9446 9.74356 14.81 11.6453 12.6022 12.4937C11.8969 12.6985 11.4062 13.3129 11.4062 14.0443C11.4062 14.922 12.1729 15.6535 13.0928 15.6535C14.1354 15.829 16.6499 17.9355 16.9872 19.8079C16.9872 20.1298 17.0792 20.4223 17.2631 20.6564C17.3245 20.7442 17.3551 20.8027 17.4165 20.8612C18.0604 21.8559 17.9991 24.6353 16.6499 26.42C15.9446 27.0051 15.8526 27.9999 16.4352 28.702C17.0485 29.3749 18.0911 29.4627 18.827 28.9068C19.471 28.3802 19.5936 27.5025 19.1643 26.8296C18.643 25.3667 18.643 22.09 19.8083 20.9782C20.1456 20.6856 20.3603 20.276 20.3603 19.8079C20.3603 18.9302 19.5936 18.1988 18.6737 18.1988C18.643 18.1988 18.643 18.1988 18.6124 18.1988C17.2631 17.9355 15.0246 15.6535 14.7793 13.9273C14.9327 12.0549 16.1899 10.7968 17.9071 9.65579C18.0298 9.62653 18.1524 9.56802 18.2444 9.50951C21.0962 9.50951 23.4574 10.3872 24.9292 12.0549C25.1746 12.523 25.6959 12.8155 26.2478 12.8155C27.0758 12.8155 27.781 12.1719 27.781 11.3527C27.781 10.5335 27.1064 9.94836 26.2785 9.94836Z\"\n                    fill=\"white\"\n                />\n            </svg>\n        </Link>\n\n        <Navbar />\n    </div>\n</nav>\n","<script lang=\"ts\">\nimport { Container, Row, Col } from \"sveltestrap\";\n</script>\n\n<section>\n  <p class=\"background-big-letter\">About</p>\n  <Container>\n    <Row>\n      <Col xs=\"9\">\n        <h2>About the Bike Data Project</h2>\n        <p>\n          <strong>\n            With the Bike Data Project, Open Knowledge Belgium – the umbrella\n            organisation for open knowledge and open data initiatives in Belgium\n            – wants to build a community-driven open bike data platform that\n            collects data on where and when people actually cycle. The project\n            aims at aggregating data from cyclists, coming from different mobile\n            applications and sources, into one open bike data platform. The\n            collective open data will empower local communities in making\n            cycling more visible and decision-makers in making cities more\n            liveable and bike-friendly.\n          </strong>\n        </p>\n\n        <div>\n          <h3>\n            Short history: who's behind the project\n          </h3>\n          <p>\n            The Bike Data Project was initially set up by <a\n              href=\"https://www.wgfilm.com\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\">WG film</a>\n            and launched as part of the release of the\n            <a\n              href=\"https://vimeo.com/ondemand/bikesvscars\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\">Bikes vs Cars documentary</a\n            >, directed by Fredrik Gertten. As the documentary has been screened\n            in over 50 countries, there has already been collected more than\n            275.000 bicycle rides collected.\n          </p>\n          <p>\n            At the beginning of 2020, the project was moved under the umbrella\n            of Open Knowledge Belgium. <a\n              href=\"https://be.okfn.org/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\">Open Knowledge Belgium</a> (non-profit/vzw/asbl),\n            as local chapter of Open Knowledge International, is an umbrella organisation\n            for various open knowledge and open data initiatives in Belgium. We strive\n            for a world where knowledge creates power for the many, not the few and\n            proactively promote openness through projects and events, to the general\n            public as well as to experts in the field. As grassroots organisation\n            we consist of people, mainly volunteers, passionate about openness, using\n            advocacy, research, technology and projects to unlock information, enabling\n            people to use and share knowledge.\n          </p>\n          <p>\n            Open Knowledge Belgium guarantees the openness of the project for\n            all purposes and takes all required measures according to the GDPR\n            regulations concerning data privacy and protection. With a\n            transparent and clear terms of use for this project, Open Knowledge\n            Belgium wants to set an example on how to deal with privacy-related\n            issues and wants to take the opportunity to inform citizens about\n            their digital rights.\n          </p>\n          <h3>\n            More cycling data means more power to and for cyclists\n          </h3>\n          <p>\n            Little is known about how cyclists move around in cities today. If\n            there’s data available, it’s closed and restricted data sold by one\n            single app provider or static data collected through manual counts.\n            If we want to have more people cycling in cities and make the\n            bicycle as easy and logical to opt for as the car, we also need to\n            get the same data insights into cyclists’ behavior as we have about\n            car transport.\n          </p>\n          <p>\n            Open Knowledge Belgium aims to create impact by showing where and\n            when people actually cycle. The Bike Data Project provides the\n            opportunity to collect all cycling data from different applications\n            into one platform, which is - based on the principle of open source\n            and open data - adaptable and accessible by everyone to ensure it\n            benefits society.\n          </p>\n          <h3>\n            Public digital infrastructure as common good\n          </h3>\n          <p>\n            Similar to activities like OpenStreetMap Belgium and Open Planner\n            Team by Open Knowledge Belgium, the Bike Data Project is set up as a\n            collaborative project which is open to all and makes society benefit\n            as a whole. Therefore, the digital infrastructure and aggregated\n            data are - based on the principles of open source and open data -\n            freely adaptable and accessible to anyone.\n          </p>\n          <p>\n            Furthermore, Open Knowledge Belgium strives to play with this Bike\n            Data Project an important role in wider societal movements:\n          </p>\n          <ul>\n            <li>\n              <span>Citizens can take back control of their data</span> thanks to\n              strong European GDPR regulations. In the case of the Bike Data Project,\n              we want to encourage citizens to get their data out of third party\n              apps (e.g. popular apps as Strava and even potentially Google Maps)\n              and ask them to contribute them to a good cause.\n            </li>\n            <li>\n              <span\n                >Promote skill sharing and encourage learning within the\n                community</span> throughout the whole process from project launch\n              to further development of the platform. Strongly inspired by the work\n              of the School of Data in Riga, we want to involve the cycling community\n              in the local Bike Data Project campaigns as from the first day. Throughout\n              a series of community events, Open Knowledge Belgium wants to improve\n              data literacy.\n            </li>\n            <li>\n              <span>Think globally, act locally.</span> The Bike Data Project platform\n              is global and open by default. Although it is possible for cycling\n              communities all around the world to contribute to the project, Open\n              Knowledge Belgium wants to support local communities with making them\n              act on a local level.\n            </li>\n          </ul>\n          <h3>\n            Longer-term sustainability of the Bike Data Project\n          </h3>\n          <p>\n            Open Knowledge Belgium partners up with Brussels Mobility to launch,\n            as part of its Bike for Brussels program, a first campaign in the\n            Brussels-Capital Region. The launch of local crowdsourcing campaigns\n            in different cities and the setup of the open data platform are part\n            of a longer-term plan for the Bike Data Project. When a\n            crowdsourcing campaign in a specific city or region comes to an end,\n            the platform will stay online and will be maintained by the open\n            source community of Open Knowledge Belgium. Cycling communities in\n            other cities will be encouraged to launch a campaign in their cities\n            and make use of the platform. Given the interest of different\n            stakeholders in the Bike Data Platform, Open Knowledge Belgium has\n            already received confirmation from different stakeholders that they\n            want to contribute financially to the project so that the server\n            costs can get covered. In that way, the project will be sustained\n            over the longer term.\n          </p>\n        </div>\n      </Col>\n    </Row>\n  </Container>\n</section>\n\n<style>\nsection {\n  margin-top: 200px;\n}\nh3 {\n    margin-top: 2rem;\n    margin-bottom: 2rem;\n}\n</style>\n","<script lang=\"ts\">\nexport let question: string;\nexport let id: string;\n</script>\n\n<div class=\"accordion-item\">\n  <h2 class=\"accordion-header\" id=\"heading{id}\">\n    <button\n      class=\"accordion-button collapsed\"\n      type=\"button\"\n      data-bs-toggle=\"collapse\"\n      data-bs-target=\"#collapse{id}\"\n      aria-expanded=\"false\"\n      aria-controls=\"collapse{id}\">\n      {question}\n    </button>\n  </h2>\n  <div\n    id=\"collapse{id}\"\n    class=\"accordion-collapse collapse\"\n    aria-labelledby=\"heading{id}\"\n    data-bs-parent=\"#accordionExample\">\n    <div class=\"accordion-body\">\n      <slot />\n    </div>\n  </div>\n</div>\n","<script lang=\"ts\">\nimport { Container, Row, Col } from \"sveltestrap\";\nimport App from \"../../App.svelte\";\nimport Question from \"./Question.svelte\";\n</script>\n\n<section>\n  <p class=\"background-big-letter\">Faq</p>\n  <Container>\n    <Row>\n      <Col xs=\"10\">\n        <h2>Frequently Asked Questions</h2>\n        <div class=\"accordion\" id=\"accordionExample\">\n          <Question\n            id=\"q1\"\n            question=\"Why should I participate in this project?\">\n            <p>\n              By contributing your cycling data, you can help make our cities\n              better adapted to cyclists.\n            </p>\n            <p>\n              More cycling data means more power to and for cyclists. Little is\n              known about how cyclists move around in cities today. If there’s\n              data available, it’s closed and restricted data sold by one single\n              app provider or static data collected through manual counts. If we\n              want to have more people cycling in cities and make the bicycle as\n              easy and logical to opt for as the car, we also need to get the\n              same data insights into cyclists’ behavior as we have about car\n              transport.\n            </p>\n          </Question>\n          <Question id=\"q2\" question=\"How does this project work?\">\n            <p>\n              To make this work we want to ask you to contribute your cycling\n              data. We need to know where you ride your bicycle. Your data\n              contributions, combined with the data from many other cyclists,\n              will make cities more adapted to cyclists.\n            </p>\n            <p>\n              We ask different types of cyclists (e.g., daily commuters,\n              delivery riders, sportsmen and tourists) to track their bicycle\n              rides via their preferred mobile application and contribute their\n              data to our community-driven bike data platform. Every kind of\n              cyclist has something to contribute to this project. Some people\n              already track their activity for training purposes. That’s great,\n              but we also really want to take into account the short routes:\n              commuting to work, dropping the kids off at school or a quick ride\n              to the grocery store.\n            </p>\n            <p>\n              In return, the anonymous aggregated cycling data will be opened up\n              to the public and can be freely used by anyone. We aim to create\n              impact by showing where and when people actually cycle. More data\n              means more influence over those in power to make cities more\n              sustainable and bike-friendly.\n            </p>\n          </Question>\n          <Question id=\"q3\" question=\"How do I contribute my data?\">\n            <p>\n              You can simply connect your existing cycling app to the Bike Data\n              Project platform. For now, you can either connect your Strava\n              account or upload your Garmin files, but we're also working on the\n              integration of other cycling apps. Once your app is connected you\n              can just carry on as usual and your rides will be automatically\n              uploaded to the Bike Data Project platform. If you do not use any\n              cycling app yet, you will be able to use our own app soon. With\n              the Bike Data Project app, you won't need to create an account,\n              you will be able to anonymously share your data to the platform.\n            </p>\n          </Question>\n          <Question id=\"q4\" question=\"What is happening with my data?\">\n            <p>\n              The data collected by this project consists of contributions made\n              by all different kinds of cyclists. All individual cycling data\n              are aggregated into collective data. The collective data gives us\n              patterns we can use to demonstrate where and when cyclists ride\n              their bicycles.\n            </p>\n            <p>\n              The anonymous aggregated cycling data will be opened up to the\n              public as open data. The open data provided by the Bike Data\n              Project platform can be freely used by different stakeholders and\n              for different purposes. Here’s a non-exhaustive list of different\n              use cases of the open data:\n            </p>\n            <ul>\n              <li>\n                Transportation experts, city planners, mobility planners and\n                urban designers around the world need open data like this to\n                help them develop modern infrastructure and sustainable cities.\n              </li>\n              <li>\n                Citizens can get a high-level overview of the number of cyclists\n                and kilometers cycled in the city and check out a map with the\n                number of cyclists per route.\n              </li>\n              <li>\n                Civil society and journalists use the data to analyse the\n                situation for cyclists in the city, such as the amount of time\n                cyclists lose on average at traffic lights.\n              </li>\n              <li>\n                Data and software companies can dive into the data to obtain\n                smart cycling insights and build tools like advanced cycling\n                route planners and recommendation engines to improve cycling\n                infrastructure. The data can also be very useful for other bike\n                related products and services.\n              </li>\n            </ul>\n            <p>\n              All aggregated cycling data will be available as open data by the\n              end of October 2020. For now, you can contribute to the project by\n              donating your cycling data.\n            </p>\n          </Question>\n          <Question\n            id=\"q5\"\n            question=\"Is my privacy respected when I contribute my data?\">\n            <p>\n              Yes, Open Knowledge Belgium guarantees the openness of the project\n              so that society benefits as a whole and takes all required\n              measures according to the GDPR regulations concerning data privacy\n              and protection.\n            </p>\n            <p>\n              We are collecting cycling data of many individual cyclists and aim\n              to make the anonymous aggregated data available to the public as\n              open data. The aggregated data will be published in a way that\n              it's not possible to retrieve any personal information of an\n              individual cyclist.\n            </p>\n            <p>\n              The data publishing will be done based on the principle of\n              differential privacy, which is a system for publicly sharing\n              information about a dataset by describing the patterns of groups\n              within the dataset while withholding information about individuals\n              in the dataset. This basically means that data will only be\n              published if a particular individual's information cannot be\n              retrieved.\n            </p>\n          </Question>\n          <Question id=\"q6\" question=\"Can I delete my data?\">\n            <p>\n              Yes! Although you contribute your data in an anonymous way (we\n              don't ask for your name or any other information that identifies\n              you), you can ask us to extract your data from the Bike Data\n              Project platform.If you'd like to do so, please send us an email\n              to bikedataproject@openknowledge.be with the name of the app\n              you've used to contribute your data and, if possible, also the ID\n              number associated with your account in the app.\n            </p>\n          </Question>\n          <Question id=\"q7\" question=\"What data am I sharing from my app?\">\n            We mainly want to ask you to contribute the data regarding your\n            cycling activities, more specifically where and when you cycle.\n            Besides that, there's the possibility to share information on your\n            gender, age, type of bicycles and the reason of your bicycle\n            ride(leisure, sports, commute, ...).\n          </Question>\n          <Question id=\"q8\" question=\"How do I get access to the open data?\">\n            <p>\n              The anonymous aggregated cycling data will be opened up to the\n              public as open data. The open data provided by the Bike Data\n              Project platform can be freely used by different stakeholders and\n              for different purposes.\n            </p>\n            <p>\n              All aggregated cycling data will be available as open data by the\n              end of October 2020. For now, you can contribute to the project by\n              donating your cycling data.\n            </p>\n          </Question>\n          <Question\n            id=\"q9\"\n            question=\"I'd love to be more involved in this project - how can I help?\">\n            <p>\n              That's awesome! Feel free to join our Slack group\n              (https://join.slack.com/t/bikedataproject/shared_invite/zt-hr00amgw-elYn9WbdFHLta8qQKW_wvQ)\n              and introduce yourself there. We'd love to hear how you'd like to\n              contribute to the project!\n            </p>\n          </Question>\n        </div></Col>\n    </Row>\n  </Container>\n</section>\n\n<style>\nsection {\n  margin-top: 200px;\n}\n</style>\n","<script lang=\"ts\">\nimport { Container, Row, Col } from \"sveltestrap\";\n</script>\n\n<section class=\"first\">\n  <p class=\"background-big-letter\">Data</p>\n  <Container>\n    <Row>\n      <Col xs=\"9\">\n        <h2>The data</h2>\n        <p>\n          The data collected by this project consists of contributions made by\n          all different kinds of cyclists. All individual cycling data are\n          aggregated into collective data. The collective data gives us patterns\n          we can use to demonstrate where and when cyclists ride their bicycles.\n        </p>\n      </Col>\n    </Row>\n  </Container>\n</section>\n<section>\n  <iframe\n    src=\"https://data.bikedataproject.org/map/#2.01/45/24.32\"\n    title=\"Data map\"></iframe>\n</section>\n<section>\n  <Container>\n    <Row>\n      <Col xs=\"9\">\n        <p>\n          The anonymous aggregated cycling data will be opened up to the public\n          as open data. The open data provided by the Bike Data Project platform\n          can be freely used by different stakeholders and for different\n          purposes. Here’s a non-exhaustive list of different use cases of the\n          open data:\n        </p>\n        <ul>\n          <li>\n            Transportation experts, city planners, mobility planners and urban\n            designers around the world need open data like this to help them\n            develop modern infrastructure and sustainable cities.\n          </li>\n          <li>\n            Citizens can get a high-level overview of the number of cyclists and\n            kilometers cycled in the city and check out a map with the number of\n            cyclists per route.\n          </li>\n          <li>\n            Civil society and journalists use the data to analyse the situation\n            for cyclists in the city, such as the amount of time cyclists lose\n            on average at traffic lights.\n          </li>\n          <li>\n            Data and software companies can dive into the data to obtain smart\n            cycling insights and build tools like advanced cycling route\n            planners and recommendation engines to improve cycling\n            infrastructure. The data can also be very useful for other bike\n            related products and services.\n          </li>\n        </ul>\n        <p>\n          All aggregated cycling data will be available as open data by the end\n          of October 2020. For now, you can contribute to the project by\n          donating your cycling data.\n        </p>\n      </Col>\n    </Row>\n    <Row>\n      <Col xs=\"9\">\n        <div class=\"open-source-container\">\n          <div class=\"open-source\">\n            <h3>Have a look at our open source code</h3>\n            <a href=\"https://github.com/bikedataproject\" class=\"btn btn-share\"\n              ><svg\n                width=\"32\"\n                height=\"32\"\n                viewBox=\"0 0 32 32\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                ><path\n                  d=\"M16 0C7.15983 0 0 7.26871 0 16.2433C0 23.877 5.15949 30.2125 12.1205 31.9986C12.0402 31.7954 12.0007 31.5106 12.0007 31.2272V28.4652H10.0003C8.92051 28.4652 7.91966 27.9786 7.47983 27.0842C6.95966 26.1096 6.87932 24.6069 5.55983 23.6724C5.15949 23.3475 5.47949 23.0226 5.91932 23.0627C6.75949 23.306 7.43898 23.8756 8.07898 24.7271C8.71898 25.5801 8.99949 25.7833 10.1991 25.7833C10.7588 25.7833 11.6385 25.7432 12.4391 25.6202C12.879 24.4825 13.6388 23.4678 14.5593 22.9812C9.19966 22.3314 6.63966 19.6509 6.63966 15.9959C6.63966 14.4116 7.31915 12.9089 8.43983 11.6095C8.08034 10.3501 7.59966 7.75117 8.60051 6.73648C11.0012 6.73648 12.4405 8.32072 12.8 8.72576C13.9997 8.31934 15.3205 8.07603 16.6795 8.07603C18.0793 8.07603 19.3593 8.31934 20.559 8.72576C20.9185 8.31934 22.3591 6.73648 24.7585 6.73648C25.7185 7.71108 25.2786 10.3501 24.8783 11.6095C25.999 12.8688 26.639 14.4116 26.639 15.9959C26.639 19.6509 24.1185 22.3314 18.7997 22.8996C20.2798 23.671 21.3202 25.8635 21.3202 27.4878V31.1871C21.3202 31.3088 21.2807 31.4304 21.2807 31.5521C27.52 29.3596 32 23.3503 32 16.2433C32 7.26871 24.8402 0 16 0Z\"\n                  fill=\"white\"></path\n                ></svg\n              >Github</a>\n          </div>\n        </div>\n      </Col>\n    </Row>\n  </Container>\n</section>\n\n<style>\n.first {\n  margin-top: 200px;\n}\niframe {\n  width: 100%;\n  height: 700px;\n  max-height: 50vh;\n}\n.open-source-container {\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n  grid-gap: 3rem;\n}\n.open-source {\n  margin-top: 10vh;\n  grid-column: 3 / span 7;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.btn-share svg {\n    margin-right: 1rem;\n    height: 1.5rem;\n}\n\n.btn-share svg path {\n    fill: #36469d;\n}\n\n.btn-share:hover svg path {\n    fill: white;\n}\n</style>\n","<script>\nimport { Button } from \"sveltestrap\";\nimport { _ } from \"svelte-i18n\";\n</script>\n\n<section>\n  <p class=\"background-big-letter\">{$_(\"Data\")}</p>\n  <div class=\"container container-section\">\n    <h2>{$_(\"Data_title\")}</h2>\n    <div class=\"row mb-4\">\n      <div class=\"col-4 counter\">\n        <span class=\"counter-number\">381.167</span>\n        <span>{$_(\"Rides_collected\")}</span>\n      </div>\n      <div class=\"col-4 counter\">\n        <span>\n          <span class=\"counter-number\">6.220</span>\n          <span>K km</span>\n        </span>\n        <span>{$_(\"Distance_collected\")}</span>\n      </div>\n\n      <div class=\"col-4 counter\">\n        <span class=\"counter\">\n          <span class=\"counter-number\">16<span>km</span> </span>\n          <span>{$_(\"Average_distance\")}</span>\n        </span>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-4 counter\">\n        <span>\n          <span class=\"counter-number\">14</span>\n          <span> km/h</span>\n        </span>\n        <span>{$_(\"Average_speed\")}</span>\n      </div>\n      <div class=\"col-4 counter\">\n        <span>\n          <span class=\"counter-number\">68</span>\n          <span> min</span>\n        </span>\n        <span>{$_(\"Average_duration\")}</span>\n      </div>\n      <div class=\"col-4 counter\">\n        <span>\n          <span class=\"counter-number\">809</span>K\n          <span> t</span>\n        </span>\n        <span>{$_(\"co2_saved\")}</span>\n      </div>\n    </div>\n    <div class=\"explore\">\n      <h3>{$_(\"Data_subtitle\")}</h3>\n      <Button class=\"btn-share mt-3\">{$_(\"Data_button\")}</Button>\n    </div>\n  </div>\n</section>\n\n<style>\n.counter-number {\n  font-size: 3.5rem;\n  font-weight: 700;\n  line-height: 4.1rem;\n}\n\n.counter {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  grid-column: span 4;\n}\n\n.counter-number {\n  color: #36469d;\n}\n\n.explore {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 5.5rem;\n}\n</style>","<script lang=\"ts\">  \nimport { _ } from 'svelte-i18n';\n</script>\n\n<section>\n  <div class=\"jumbotron jumbotron-fluid\">\n    <div class=\"container\">\n      <h1 class=\"slogan\">\n        {$_(\"Heading\")}\n      </h1>\n    </div>\n  </div>\n  <div class=\"subtitle\">\n    <p class=\"p-0 m-0\">\n        {$_(\"Introduction\")}\n    </p>\n    <div class=\"counter p-0 m-0\">\n      <p class=\"counter-number p-0 m-0\">\n        +<span>6.220</span>K\n      </p>\n      <p class=\"p-0 m-0\">\n        {$_(\"Label_total_km\")}\n      </p>\n    </div>\n  </div>\n</section>\n\n<style>\n.jumbotron {\n  background-image: url(/img/header.jpg);\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: 100%;\n  height: 90vh;\n}\n\n.slogan {\n  padding-top: 25vh;\n  font-size: 4.5rem;\n  font-weight: 700;\n  color: #fff;\n  font-family: \"Muli\", sans-serif;\n  line-height: 1.1;\n  width: 88%;\n}\n\n.container {\n  max-width: 85vw;\n  width: 85vw;\n  padding: 0 100px;\n}\n\n.subtitle {\n  background-color: #36469d;\n  color: #fff;\n  line-height: 1.8;\n  width: 60vw;\n  padding: 2rem 8vw 2rem 5rem;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  display: grid;\n  grid-template-columns: 2fr 1fr;\n  grid-gap: 3rem;\n  font-size: medium;\n}\n\n.counter-number {\n  font-size: 3.5rem;\n  font-weight: 700;\n  line-height: 4.1rem;\n}\n</style>\n","<script>\nimport { Col, Container, Row } from \"sveltestrap\";\nimport { _ } from \"svelte-i18n\";\n</script>\n\n<section>\n  <p class=\"background-big-letter\">{$_(\"Help\")}</p>\n  <Container class=\"container container-section\">\n    <Row>\n      <Col xs=\"6\">\n        <h2>{$_(\"Help_title\")}</h2>\n        <div class=\"content\">\n          <p class=\"fw-bold\">\n            {$_(\"Ask_for_favor\")}\n          </p>\n          <p>\n            {$_(\"By_sharing_your\")}\n          </p>\n          <p>\n            {$_(\"Every_cyclist_can\")}\n          </p>\n        </div>\n      </Col>\n      <Col xs=\"6\">\n        <picture class=\"Home_content__img__225R5\"\n          ><img\n            class=\"Home_content__img__225R5\"\n            src=\"/img/mockup-big.png\"\n            alt=\"Mock up of the app on a phone\"\n            width=\"468\"\n            height=\"593\" /></picture>\n      </Col>\n    </Row>\n  </Container>\n</section>\n","<script>\nimport { Col, Container, Row } from \"sveltestrap\";\nimport { _ } from \"svelte-i18n\";\n</script>\n\n<section class=\"my-5\">\n  <Container class=\"mb-5\">\n    <Row>\n      <Col xs=\"8\">\n        <h2>{$_(\"Informed_title\")}</h2>\n        <form\n          action=\"https://bikedataproject.us10.list-manage.com/subscribe/post?u=0c7a4077dc373a78e97129b40&amp;id=48e38aad42\"\n          method=\"post\"\n          class=\"Home_form__3a7DN\"\n          id=\"mc-embedded-subscribe-form\"\n          name=\"mc-embedded-subscribe-form\"\n          target=\"_blank\">\n          <div class=\"d-none\" aria-hidden=\"true\">\n            <input\n              type=\"text\"\n              name=\"b_4e280417525a8a98031f1ce33_9af7c29f8d\"\n              tabindex=\"-1\"\n              value=\"\" />\n          </div>\n          <label for=\"mce-EMAIL\">{$_(\"Email_label\")}</label>\n          <div>\n            <input\n              type=\"email\"\n              placeholder=\"{$_(\"Informed_placeholder\")}\"\n              name=\"EMAIL\"\n              id=\"mce-EMAIL\"\n              required=\"\" />\n            <button>\n              <img\n                src=\"/img/arrow-orange.svg\"\n                alt=\"Arrow orange icon\"\n                width=\"20\"\n                height=\"20\" />\n            </button>\n          </div>\n        </form>\n      </Col>\n    </Row>\n  </Container>\n</section>\n\n<style>\n.my-5 {\n  margin-bottom: 10rem !important;\n}\n\nlabel {\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 1.4rem;\n}\n\ninput {\n  background: transparent;\n  border: none;\n  border-bottom: 0.1rem solid #ef4823;\n  padding: 1.5rem;\n  outline: none;\n  color: #000;\n  width: 100%;\n}\n\nbutton {\n  background: transparent;\n  border: none;\n  margin-left: -5rem;\n}\n</style>\n","<script>\nimport { Col, Row } from \"sveltestrap\";\nimport { _ } from \"svelte-i18n\";\n</script>\n\n<section>\n  <div class=\"container\">\n    <Row>\n      <Col xs=\"6\">\n        <div class=\"text-box\">\n          <h2>{$_(\"Contribute_title\")}</h2>\n          <div>\n            <p>\n              {$_(\"People_who_work\")}\n            </p>\n            <p>\n              {$_(\"Common_goal\")}\n            </p>\n          </div>\n        </div>\n      </Col>\n      <Col xs=\"6\">\n        <p class=\"background-big-letter\">{$_(\"Contribute_big\")}</p>\n        <img\n          class=\"illustration\"\n          src=\"/img/contribute.png\"\n          alt=\"People cycling\" />\n      </Col>\n    </Row>\n  </div>\n</section>\n\n<style>\n.text-box {\n  background-color: #ebedf5;\n  color: #36469d;\n  padding: 5rem 4rem 5rem 5rem;\n  margin-left: -10rem;\n}\n\n.illustration {\n  margin-left: -100px;\n  z-index: -1;\n  position: relative;\n  margin-top: 130px;\n}\n\nsection {\n    margin-bottom: 200px;\n}\n</style>\n","<script>\nimport { Container, Row, Col } from \"sveltestrap\";\nimport { _ } from \"svelte-i18n\";\n</script>\n\n<section class=\"my-5\">\n  <p class=\"background-big-letter\">{$_(\"Partners\")}</p>\n  <Container>\n    <Row>\n      <h2>{$_(\"Partners_title\")}</h2>\n      <Col xs=\"3\" class=\"mt-3\">\n        <a\n          href=\"https://be.okfn.org/\"\n          target=\"_blank\"\n          class=\"partner-card\"\n          rel=\"noopener noreferrer\">\n          <img\n            src=\"/img/partners/open-knowledge-belgium.svg\"\n            alt=\"Logo of Open Knowlegde Belgium\" />\n        </a>\n      </Col>\n      <Col xs=\"3\" class=\"mt-3\">\n        <a\n          href=\"https://www.wgfilm.com/\"\n          class=\"partner-card\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\">\n          <img src=\"/img/partners/wg-film.png\" alt=\"Logo of WG Film\" />\n        </a>\n      </Col>\n      <Col xs=\"3\" class=\"mt-3\">\n        <a\n          href=\"https://mobilite-mobiliteit.brussels\"\n          class=\"partner-card\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\">\n          <img\n            src=\"/img/partners/brussels-mobility.png\"\n            alt=\"Logo of brussels mobility\" />\n        </a>\n      </Col>\n      <Col xs=\"3\" class=\"mt-3\">\n        <a\n          href=\"https://bike.brussels/nl/\"\n          class=\"partner-card\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\">\n          <img\n            src=\"/img/partners/bike-for-brussels.webp\"\n            alt=\"Logo of Bike Fore Brussels\" />\n        </a>\n      </Col>\n      <Col xs=\"3\" class=\"mt-3\">\n        <a\n          href=\"mailto:bikedataproject@openknowledge.be\"\n          class=\"partner-card\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\">\n          <h3>{$_(\"Partner_up\")}</h3>\n        </a>\n      </Col>\n    </Row>\n  </Container>\n  <div class=\"Home_content__wrapper__lZpMD\">\n    <div class=\"Home_partners__1dttM Home_grid__XUG6j components_grid__1VC05\">\n    </div>\n  </div>\n</section>\n\n<style>\n.partner-card {\n  background: #fff;\n  box-shadow: 0 2px 10px #e5e5e5;\n  border-radius: 7px;\n  height: 7.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 1rem;\n}\n\n.partner-card h3 {\n  color: #36469d;\n  text-decoration: none;\n  width: 60%;\n  text-align: center;\n  padding-top: 1rem;\n  font-size: 1.25rem;\n  font-weight: 700;\n}\n\nimg {\n  max-height: 100%;\n  max-width: 100%;\n}\n</style>\n","<script>\nimport { Container, Row, Col } from \"sveltestrap\";\nimport { _ } from \"svelte-i18n\";\n</script>\n\n<section>\n  <p class=\"background-big-letter\">{$_(\"Power\")}</p>\n  <Container>\n    <Row>\n      <Col xs=\"8\">\n        <h2>{$_(\"Visible_title\")}</h2>\n        <div>\n          <p>\n            {$_(\"Community_more_visible\")}\n          </p>\n          <p>\n            {$_(\"Globally_but_locally\")}\n          </p>\n        </div>\n      </Col>\n    </Row>\n  </Container>\n</section>\n<img\n  class=\"illustration\"\n  src=\"/img/route.svg\"\n  alt=\"Striped line of a route with places marked on\" />\n\n<style>\n.illustration {\n  position: absolute;\n  right: 0;\n  transform: translateY(-35rem);\n  width: 30%;\n}\n</style>\n","<script lang=\"ts\">\n    import { Button, Modal, FormGroup, Input, Label } from \"sveltestrap\";\n    let isOpen = false;\n    const toggle = () => (isOpen = !isOpen);\n\n    const link = () => {\n        isOpen = false;\n        console.log(\"yes please, link.\");\n    }\n</script>\n\n<Button class=\"btn-share w-100\" on:click={toggle}>GPX</Button>\n<Modal body {isOpen} {toggle} header=\"Thanks for sharing your Strava data!\">\n    <p>\n        When linking your Fitbit account BikeDataProject gets access to your\n        cycling data. Any cycling trips you do with your Fitbit device gets\n        shared automatically with BikeDataProject.\n    </p>\n    <FormGroup>\n        <Label for=\"email\">Email</Label>\n        <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"your@email.com\"\n        />\n    </FormGroup>\n    <p>\n        Your link with Fitbit will not last forever, we use your email address only to notify you when your link to the BikeDataProject is broken. You can leave your email address blank but then we won't be able to notify you if data sharing is turned off.\n    </p>\n    <Button color=\"secondary\" on:click={link}>Link my account.</Button>\n</Modal>","export class MessageManager {\n    constructor() {\n        this.eventHandlers = {\n            show: [],\n            hide: []\n        };\n    }\n    on(event, handler) {\n        if (event === \"show\") {\n            this.eventHandlers.show.push(handler);\n        }\n        if (event === \"hide\") {\n            this.eventHandlers.hide.push(handler);\n        }\n    }\n    trigger(event, data) {\n        if (event === \"show\") {\n            this.eventHandlers.show.forEach(h => h(data));\n        }\n        if (event === \"hide\") {\n            this.eventHandlers.hide.forEach(h => h(data));\n        }\n    }\n    show(message) {\n        this.trigger(\"show\", message);\n    }\n    hide() {\n        this.trigger(\"hide\");\n    }\n}\n","<script lang=\"ts\">\nimport { Button, Modal, Row, Container, Col } from \"sveltestrap\";\nimport type { IMessageHook } from \"./IMessageHook\";\nimport { MessageManager } from \"./MessageManager\";\n\nlet manager = new MessageManager();\nlet message: string = \"\";\nexport const hook: IMessageHook = manager;\n\nlet isOpen = false;\nmanager.on(\"hide\", () => (isOpen = false));\nmanager.on(\"show\", (m) => {\n  message = m;\n  isOpen = true;\n});\n\nconst link = async () => {\n  isOpen = false;\n};\n</script>\n\n<Modal body isOpen=\"{isOpen}\" header=\"Thanks for sharing your data!\">\n  <Container>\n    <Row class=\"w-100\">\n      <p>\n        {message}\n      </p>\n    </Row>\n    <Row class=\"w-100\">\n      <Col xs=\"6\">\n        <Button color=\"primary\" on:click=\"{async () => await link()}\"\n          >OK</Button>\n      </Col>\n    </Row>\n  </Container>\n</Modal>\n","export class FitbitIdentityApi {\n    constructor(url) {\n        this.url = url;\n    }\n    async register(data) {\n        const registerEndPoint = `${this.url}/fitbit/register`;\n        try {\n            const response = await fetch(registerEndPoint, {\n                body: JSON.stringify(data),\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (response.ok)\n                return true;\n        }\n        catch (error) {\n            console.error(error);\n        }\n        return false;\n    }\n    async authorize(data) {\n        const registerEndPoint = `${this.url}/fitbit/authorize`;\n        try {\n            const response = await fetch(registerEndPoint, {\n                body: JSON.stringify(data),\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (response.ok)\n                return await response.json();\n        }\n        catch (error) {\n            console.error(error);\n        }\n        return undefined;\n    }\n    async callback(code, redirectUrl) {\n        const registerCallbackEndPoint = `${this.url}/fitbit/register/callback?code=${code}&redirectUrl=${redirectUrl}`;\n        try {\n            const response = await fetch(registerCallbackEndPoint);\n            if (!response.ok) {\n                return false;\n            }\n            return true;\n        }\n        catch (error) {\n            console.error(error);\n        }\n        return false;\n    }\n}\n","import { FitbitIdentityApi } from \"./fitbit/FitbitIdentityApi\";\nexport class IdentityApi {\n    constructor(options) {\n        this.url = options.url;\n        this.fitbit = new FitbitIdentityApi(this.url);\n    }\n    /**\n     * Register a new user using email and pass.\n     * @param data The user data.\n     * @returns True if registering the user succeeded, false otherwise.\n     */\n    async register(data) {\n        const registerUrl = `${this.url}/register`;\n        try {\n            const response = await fetch(registerUrl, {\n                body: JSON.stringify(data),\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            });\n            if (!response.ok) {\n                return false;\n            }\n            return true;\n        }\n        catch (error) {\n            console.error(error);\n        }\n        return false;\n    }\n    /**\n     * Confirms a users' email using a token. The user is logged in after confirmation.\n     * @param email The email.\n     * @param token The token.\n     */\n    async confirmEmail(email, token) {\n        const comfirmEmailUrl = `${this.url}/confirmemail?email=${email}&token=${token}`;\n        try {\n            const response = await fetch(comfirmEmailUrl);\n            if (!response.ok) {\n                return false;\n            }\n            return true;\n        }\n        catch (error) {\n            console.error(error);\n        }\n        return false;\n    }\n}\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\n\t\t\t\t'[]=' :\n\t\t\t\t'=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tcase 'bracket-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null ?\n\t\t\t\t\t[] :\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","<script lang=\"ts\">\nimport {\n  Button,\n  Modal,\n  Container,\n  Row,\n  FormGroup,\n  Label,\n  Input,\n  Col,\n} from \"sveltestrap\";\nimport { IdentityApi } from \"../apis/identity/IdentityApi\";\nimport type { IMessageHook } from \"../components/modals/IMessageHook\";\nimport Message from \"../components/modals/Message.svelte\";\nimport queryString from \"query-string\";\n\nexport let isCallback: boolean = false;\nexport let isConfirmEmail: boolean = false;\nlet messageHook: IMessageHook;\nlet identityApi: IdentityApi = new IdentityApi({\n  url: \"http://localhost:8080/api/identity\",\n});\nlet email: string;\nlet registerOpen: boolean = false;\n\nlet open = async () => {\n  registerOpen = true;\n};\nconst redirectUrl = \"http://localhost:8080/fitbit/callback\";\nconst confirmEmailUrl = \"http://localhost:8080/fitbit/confirmemail\";\nlet buttonPush = async () => {\n  if (email) {\n    await register();\n  } else {\n    await authorize();\n  }\n};\n\nlet authorize = async () => {};\n\nlet register = async () => {\n  const registerResponse = await identityApi.fitbit.register({\n    confirmEmailUrl: confirmEmailUrl,\n    email: email,\n  });\n\n  // show message if register failed.\n  if (!registerResponse) {\n    messageHook.show(\n      \"Our apologies, linking your fitbit account failed, please try again later.\"\n    );\n    return;\n  }\n\n  messageHook.show(\n    \"Thank you for sharing, we've sent you an email to confirm.\"\n  );\n};\nlet callback = async () => {\n  const parsed = queryString.parse(window.location.search);\n  if (!parsed.code) {\n    throw Error(\"callback without code\");\n  }\n\n  const ok = await identityApi.fitbit.callback(\n    parsed.code as string,\n    redirectUrl\n  );\n  if (ok) {\n    messageHook.show(\"Your fitbit account was successfully linked, thank you!\");\n  } else {\n    messageHook.show(\n      \"Something went wrong while linking your fitbit account, please try again or get in touch with us!\"\n    );\n  }\n};\nlet confirmEmail = async () => {\n  const parsed = queryString.parse(window.location.search);\n  if (!parsed.email) {\n    throw Error(\"callback without code\");\n  }\n  if (!parsed.token) {\n    throw Error(\"callback without token\");\n  }\n\n  // confirm email, this also logs in the user.\n  const emailResult = await identityApi.confirmEmail(\n    parsed.email as string,\n    parsed.token as string\n  );\n\n  // show message if email confirmation failed.\n  if (!emailResult) {\n    messageHook.show(\n      \"Our apologies, we could not confirm your email, the link is probably expired. Try connecting your account again.\"\n    );\n    return;\n  }\n\n  // call register again, this time the user is logged in.\n  // this should return the authorize link only.\n  const registerResponse = await identityApi.fitbit.authorize({\n    redirectUrl: redirectUrl\n  });\n\n  // check if there is a response.\n  if (typeof registerResponse === \"undefined\") {\n    messageHook.show(\n      \"Our apologies, linking your fitbit account failed, please try again later.\"\n    );\n    return;\n  }\n\n  // the response should be a url to redirect.\n  window.location.href = registerResponse.url;\n};\n</script>\n\n{#if isCallback}\n  {#await callback()}\n    <div></div>\n  {/await}\n{/if}\n\n{#if isConfirmEmail}\n  {#await confirmEmail()}\n    <div></div>\n  {/await}\n{/if}\n\n<Message bind:hook=\"{messageHook}\" />\n\n<Button class=\"btn-share w-100\" on:click=\"{async () => await open()}\"\n  >Fitbit</Button>\n\n{#if registerOpen}\n  <Modal\n    body\n    isOpen=\"{registerOpen}\"\n    toggle=\"{async () => {\n      registerOpen = false;\n    }}\"\n    header=\"Connect your Fitbit account!\">\n    <Container>\n      <Row class=\"sharing-illustration w-100\">\n        <div class=\"sharing-large-logo\">\n          <img src=\"/img/providers/fitbit-logo.svg\" alt=\"Fitbit logo\" />\n        </div>\n        <div class=\"sharing-arrow\">\n          <img src=\"/img/arrow.svg\" alt=\"Arrow\" />\n        </div>\n        <div class=\"sharing-large-logo\">\n          <div class=\"sharing-logo\">\n            <img src=\"/img/logo-large.avif\" alt=\"Bike data project\" />\n          </div>\n        </div>\n      </Row>\n      <Row class=\"w-100\">\n        <p>\n          When connecting your Fitbit account <strong\n            >any cycling trips you do with your Fitbit device get shared\n            automatically</strong> with BikeDataProject.\n        </p>\n        <FormGroup>\n          <Label for=\"email\">Email</Label>\n          <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"email\"\n            placeholder=\"your@email.com\"\n            bind:value=\"{email}\" />\n        </FormGroup>\n        <p>\n          Your connection with BikeDataProject won't last forever, if you share\n          your email address we will notify you when your connection to the\n          BikeDataProject is broken.\n        </p>\n      </Row>\n      <Row class=\"w-100\">\n        <Col xs=\"6\">\n          <Button\n            color=\"primary\"\n            on:click=\"{async () => {\n              registerOpen = false;\n              await buttonPush();\n            }}\">Connect my Fitbit account</Button>\n        </Col>\n      </Row>\n    </Container>\n  </Modal>\n{/if}\n","<script lang=\"ts\">\nimport { Container, Row, Col, Input, Label, Button } from \"sveltestrap\";\nimport Gpx from \"../../integrations/Gpx.svelte\";\nimport Message from \"../../components/modals/Message.svelte\";\nimport type { IMessageHook } from \"../../components/modals/IMessageHook\";\nimport Fitbit from \"../../integrations/Fitbit.svelte\";\nimport { _ } from \"svelte-i18n\";\n\nexport let fitbit: {\n  isCallback: boolean;\n  isConfirmEmail: boolean;\n};\n\nlet messageHook: IMessageHook;\n</script>\n\n<Message bind:hook=\"{messageHook}\" />\n\n<section id=\"share-section\">\n  <img\n    class=\"illustration\"\n    src=\"/img/bike_illustration.svg\"\n    alt=\"Line illustration of a bike and some trees.\" />\n  <Container>\n    <Row>\n      <Col class=\"mt-5\" xs=\"6\">\n        <Row>\n          <Col xs=\"6\">\n            <h4>{$_(\"Connect_existing_account\")}</h4>\n            <div class=\"mt-1 mb-3\">\n              <div class=\"mb-1\">\n                <Fitbit\n                  isCallback=\"{fitbit.isCallback}\"\n                  isConfirmEmail=\"{fitbit.isConfirmEmail}\" />\n              </div>\n            </div>\n            <p>\n              After connecting your account your data will be automatically\n              shared with us. You can revoke our access at any time.\n            </p>\n          </Col>\n          <Col xs=\"6\">\n            <h4>Upload your data</h4>\n            <div class=\"mt-1 mb-3\">\n              <div class=\"mb-1\"><Gpx /></div>\n            </div>\n            <p>Have GPX tracks of your cycling trips, upload them here!</p>\n          </Col>\n        </Row>\n      </Col>\n      <Col xs=\"6\">\n        <p class=\"background-big-letter\">{$_(\"Contribute_big\")}</p>\n        <h2>{$_(\"Donate_title\")}</h2>\n        <p>\n          {$_(\"Several_ways_to_contribute\")}\n        </p>\n        <p>\n          {$_(\"You_not_using\")}\n        </p>\n      </Col>\n    </Row>\n  </Container>\n</section>\n\n<style>\nh4 {\n  height: 100px;\n}\n</style>\n","<script lang=\"ts\">\nimport Data from \"./Data.svelte\";\nimport Head from \"./Head.svelte\";\nimport Help from \"./Help.svelte\";\nimport Newsletter from \"./Newsletter.svelte\";\nimport OpenData from \"./OpenData.svelte\";\nimport Partners from \"./Partners.svelte\";\nimport Power from \"./Power.svelte\";\nimport Share from \"./Share.svelte\";\n\nexport let fitbit: {\n  isCallback: boolean,\n  isConfirmEmail: boolean\n} = {\n    isCallback: false,\n    isConfirmEmail: false\n};\n</script>\n\n<Head />\n\n<Help />\n\n<Share {fitbit} />\n\n<Data />\n\n<OpenData />\n\n<Power />\n\n<Newsletter />\n\n<Partners />","<script lang=\"ts\">\nimport { Router, Route } from \"svelte-navigator\";\nimport Footer from \"./components/Footer.svelte\";\nimport Header from \"./components/Header.svelte\";\nimport About from \"./views/about/About.svelte\";\nimport Faq from \"./views/faq/Faq.svelte\";\nimport Data from \"./views/datamap/Data.svelte\";\nimport Home from \"./views/home/Home.svelte\";\nimport { register, init, getLocaleFromNavigator, isLoading } from \"svelte-i18n\";\n\nregister(\"en\", () => import(\"./locales/en.json\"));\nregister(\"fr\", () => import(\"./locales/fr.json\"));\nregister(\"nl\", () => import(\"./locales/nl.json\"));\n\ninit({\n  fallbackLocale: \"en\",\n  initialLocale: getLocaleFromNavigator(),\n});\n</script>\n{#if $isLoading}\n  Please wait...\n{:else}\n<Router>\n  <Header />\n  <Route path=\"/\">\n    <Home />\n  </Route>\n\n  <Route path=\"faq\">\n    <Faq />\n  </Route>\n\n  <Route path=\"about\">\n    <About />\n  </Route>\n\n  <Route path=\"datamap\">\n    <Data />\n  </Route>\n\n  <Route path=\"fitbit/callback\">\n    <Home fitbit={{\n      isCallback: true,\n      isConfirmEmail: false\n    }} />\n  </Route>\n  <Route path=\"fitbit/confirmemail\">\n    <Home fitbit={{\n      isCallback: false,\n      isConfirmEmail: true\n    }} />\n  </Route>\n  <Footer />\n</Router>\n{/if}","import App from './App.svelte';\nvar app = new App({\n    target: document.body\n});\nexport default app;\n"],"names":["noop","identity","x","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","document","createElement","href","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","exclude_internal_props","props","result","compute_rest_props","keys","rest","Set","has","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","abort","append","target","node","appendChild","get_root_for_style","root","getRootNode","ownerDocument","host","append_empty_stylesheet","style_element","element","style","head","append_stylesheet","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","name","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","set_attributes","attributes","descriptors","getOwnPropertyDescriptors","__proto__","key","cssText","set","to_number","set_data","wholeText","set_input_value","input","set_style","important","setProperty","select_option","select","option","__value","selected","selectedIndex","select_options","indexOf","select_value","selected_option","querySelector","toggle_class","toggle","classList","custom_event","type","detail","bubbles","e","createEvent","initCustomEvent","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","t","rule","str","hash","charCodeAt","doc","stylesheet","__svelte_stylesheet","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","deleted","join","deleteRule","clear","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","createEventDispatcher","call","setContext","context","getContext","get","bubble","this","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","add_flush_callback","flushing","seen_callbacks","update","pop","fragment","before_update","after_update","wait","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","animation_name","config","running","cleanup","go","easing","tick","css","start_time","end_time","started","start","invalidate","end","create_out_transition","group","reset","handle_promise","info","token","index","resolved","child_ctx","current","needs_flush","blocks","m","mount","error","catch","hasCatch","pending","get_spread_update","levels","updates","to_null_out","accounted_for","n","get_spread_object","spread_props","bind","bound","create_component","mount_component","customElement","new_on_destroy","map","destroy_component","init","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","Map","skip_bound","ready","ret","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","$on","splice","$set","$$props","obj","$$set","isUndefined","isFunction","isNumber","createCounter","isSSR","addListener","subscriber_queue","writable","stop","subscribers","new_value","run_queue","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","sync","unsubscribers","createKey","ctxName","LOCATION","ROUTER","ROUTE","ROUTE_PARAMS","FOCUS_ELEM","paramRegex","startsWith","string","search","substr","isSplat","segment","stripSlashes","replace","segmentize","uri","filterFalsy","segments","Boolean","addQuery","pathname","query","normalizePath","path","pathFragments","joinedSegments","labels","createLabel","labelId","createMessage","message","originId","origin","to","basepath","createIdentifier","originMsg","label","createMessageHandler","args","fail","warn","console","rankRoute","route","score","default","fullPath","reduce","acc","nextScore","isRootSegment","test","isDynamic","SEGMENT_POINTS","pick","routes","bestMatch","defaultMatch","uriPathname","uriSegments","isRootUri","ranked","sort","rankRoutes","missed","createMatch","routeSegments","routeSegment","uriSegment","splatName","decodeURIComponent","dynamicMatch","exec","match","normalizeLocation","location","state","baseSegments","pathSegments","shift","normalizeUrlFragment","frag","createLocation","searchIndex","hashIndex","hasSearchIndex","hasHashIndex","pathnameAndSearch","resolveLink","routeBase","appBase","base","toPathname","toQuery","basePathname","toSegments","concat","allSegments","extractBaseUri","routePath","routeMatch","POP","getLocation","source","encodeURI","decodeURI","history","_key","createStackFrame","canUseDOM","isEmbeddedPage","globalHistory","listeners","action","notifyListeners","listenerFns","listener","unlisten","navigate","keyedState","random","toString","substring","createHistory","initialPathname","stack","entries","pushState","title","replaceState","newIndex","createMemorySource","focusCandidate","initialNavigation","pushFocusCandidate","item","level","routerIdA","routerIdB","routerMarkers","querySelectorAll","currentId","Number","dataset","svnavRouter","isAbove","routerId","focus","elem","TABINDEX","hasAttribute","blurListener","activeElement","isEndMarker","id","svnavRouteEnd","selector","parent","handleFocus","focusElement","nextElementSibling","tagName","heading","queryHeading","documentElement","createTriggerFocus","a11yConfig","announcementText","manageFocus","announceNavigation","announcements","meta","announcementMessage","createAnnouncement","createId","defaultBasepath","primary","a11y","initialBasepath","normalizedBasepath","locationContext","routerContext","isTopLevelRouter","activeRoute","hasActiveRoute","prevLocation","$location","triggerFocus","createRouteFilter","routeId","routeList","routeItem","changedHistory","normalizedLocation","registerRoute","matchingRoute","prevRoutes","nextRoutes","unregisterRoute","$routes","hasHash","shouldManageFocus","$prevLocation","$activeRoute","usePreflightCheck","componentId","ctxKey","ctxProviderId","useLocation","toReadonly","useHistory","useRouteBase","_route","useResolve","parentBase","ssrMatch","useNavigate","isDefault","rawBase","$parentBase","updatedRoute","isActive","activeParams","getProps","isPartiallyCurrent","isCurrent","ariaCurrent","dynamicProps","$$restProps","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","shouldNavigate","preventDefault","setScrollbarWidth","padding","body","paddingRight","isObject","conditionallyUpdateScrollbar","scrollbarWidth","scrollDiv","position","top","width","height","overflow","offsetWidth","clientWidth","getScrollbarWidth","fixedContent","bodyPadding","parseInt","innerWidth","getColumnSizeClass","isXs","colWidth","colSize","toClassName","classnames","getTransitionDuration","transitionDuration","transitionDelay","getComputedStyle","floatTransitionDuration","parseFloat","floatTransitionDelay","backdropIn","display","backdropOut","remove","modalIn","modalOut","className","close","color","disabled","inner","outline","ariaLabel","classes","defaultAriaLabel","xs","sm","md","lg","xl","xxl","colClasses","lookup","columnProp","colSizeInterfix","colClass","pull","offset","fluid","container","checked","inline","invalid","valid","inputClasses","idFor","tooltip","validMode","check","row","tag","bsSize","feedback","files","multiple","placeholder","plaintext","readonly","isNotaNumber","RegExp","isBtn","formControlClass","hidden","fore","colWidths","widths","order","isOpen","fade","closeAriaLabel","ref","portal","openCount","dialogBaseClass","_triggeringElement","_originalBodyPadding","_dialog","_mouseDownElement","_removeEscListener","staticModal","autoFocus","centered","fullscreen","header","scrollable","labelledBy","backdrop","wrapClassName","modalClassName","contentClassName","unmountOnClose","returnFocusAfterClose","hasOpened","_isMounted","_lastIsOpen","_lastHasOpened","setFocus","err","getPropertyValue","getOriginalBodyPadding","manageFocusAfterClose","destroy","outer","InlineContainer","Portal","stopPropagation","backdropElem","browserEvent","noGutters","form","cols","colsValue","isNaN","getCols","isMergeableObject","isNonNullObject","stringValue","prototype","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","val","defaultArrayMerge","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","object","property","mergeObject","destination","hasOwnProperty","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","all","array","prev","extendStatics","setPrototypeOf","__extends","TypeError","String","__","constructor","ErrorKind","TYPE","SKELETON_TYPE","__assign","s","arguments","apply","__spreadArray","pack","ar","isLiteralElement","el","literal","isArgumentElement","argument","isNumberElement","number","isDateElement","date","isTimeElement","time","isSelectElement","isPluralElement","plural","isPoundElement","pound","isTagElement","isNumberSkeleton","isDateTimeSkeleton","dateTime","SPACE_SEPARATOR_REGEX","DATE_TIME_REGEX","parseDateTimeSkeleton","skeleton","era","year","RangeError","month","day","weekday","hour12","hourCycle","hour","minute","second","timeZoneName","WHITE_SPACE_REGEX","_a","FRACTION_PRECISION_REGEX","SIGNIFICANT_PRECISION_REGEX","INTEGER_WIDTH_REGEX","CONCISE_INTEGER_WIDTH_REGEX","parseSignificantPrecision","roundingPriority","g1","g2","minimumSignificantDigits","maximumSignificantDigits","parseSign","signDisplay","currencySign","parseConciseScientificAndEngineeringStem","stem","notation","minimumIntegerDigits","parseNotationOptions","opt","signOpts","parseNumberSkeleton","tokens","_i","tokens_1","scale","currency","useGrouping","maximumFractionDigits","unit","compactDisplay","currencyDisplay","unitDisplay","g3","g4","g5","minimumFractionDigits","trailingZeroDisplay","conciseScientificAndEngineeringOpts","SPACE_SEPARATOR_START_REGEX","SPACE_SEPARATOR_END_REGEX","hasNativeStartsWith","hasNativeFromCodePoint","fromCodePoint","hasNativeFromEntries","fromEntries","hasNativeCodePointAt","codePointAt","hasTrimStart","trimStart","hasTrimEnd","trimEnd","isSafeInteger","isFinite","floor","abs","REGEX_SUPPORTS_U_AND_Y","RE","matchIdentifierAtIndex","codePoints","code","elements","fromCharCode","entries_1","v","first","flag","IDENTIFIER_PREFIX_RE_1","lastIndex","_isWhiteSpace","_isPatternSyntax","Parser","line","column","ignoreTag","requiresOtherClause","shouldParseSkeletons","parse","parseMessage","nestingLevel","parentArgType","expectingCloseTag","isEOF","char","parseArgument","peek","UNMATCHED_CLOSING_TAG","clonePosition","_isAlpha","parseTag","parseLiteral","bump","startPosition","parseTagName","bumpSpace","bumpIf","childrenResult","endTagStartPosition","INVALID_TAG","closingTagNameStartPosition","UNCLOSED_TAG","startOffset","_isPotentialElementNameChar","parseQuoteResult","tryParseQuote","parseUnquotedResult","tryParseUnquoted","parseLeftAngleResult","tryParseLeftAngleBracket","codepoint","ch","openingBracePosition","EXPECT_ARGUMENT_CLOSING_BRACE","EMPTY_ARGUMENT","parseIdentifierIfPossible","MALFORMED_ARGUMENT","parseArgumentOptions","startingPosition","endOffset","bumpTo","typeStartPosition","argType","typeEndPosition","EXPECT_ARGUMENT_TYPE","styleAndLocation","styleStartPosition","parseSimpleArgStyleIfPossible","EXPECT_ARGUMENT_STYLE","styleLocation","argCloseResult","tryParseArgumentClose","location_1","parseNumberSkeletonFromString","EXPECT_DATE_TIME_SKELETON","pattern","parsedOptions","typeEndPosition_1","EXPECT_SELECT_ARGUMENT_OPTIONS","identifierAndLocation","pluralOffset","EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE","tryParseDecimalInteger","INVALID_PLURAL_ARGUMENT_OFFSET_VALUE","optionsResult","tryParsePluralOrSelectOptions","location_2","pluralType","INVALID_ARGUMENT_TYPE","nestedBraces","apostrophePosition","bumpUntil","UNCLOSED_QUOTE_IN_ARGUMENT_STYLE","stringTokens","stringTokens_1","stemAndOptions","options_1","INVALID_NUMBER_SKELETON","expectCloseTag","parsedFirstIdentifier","hasOtherClause","parsedSelectors","selectorLocation","EXPECT_PLURAL_ARGUMENT_SELECTOR","INVALID_PLURAL_ARGUMENT_SELECTOR","DUPLICATE_SELECT_ARGUMENT_SELECTOR","DUPLICATE_PLURAL_ARGUMENT_SELECTOR","EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT","EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT","fragmentResult","EXPECT_SELECT_ARGUMENT_SELECTOR","MISSING_OTHER_CLAUSE","expectNumberError","invalidNumberError","sign","hasDigits","decimal","prefix","currentOffset","targetOffset","min","nextCode","pruneLocation","els","opts","SyntaxError","originalMessage","captureLocation","memoize","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","monadic","arg","cacheKey","computedValue","variadic","assemble","serialize","JSON","stringify","ObjectWithoutPrototypeCache","ErrorCode","strategies","PART_TYPE","FormatError","_super","msg","_this","InvalidValueError","variableId","INVALID_VALUE","InvalidValueTypeError","MissingValueError","MISSING_VALUE","isFormatXMLElementFn","formatToParts","locales","formatters","formats","currentPluralValue","els_1","getNumberFormat","format","varName","getDateTimeFormat","value_1","formatFn","chunks","other","Intl","PluralRules","MISSING_INTL_API","getPluralRules","parts","part","lastPart","mergeLiteral","mergeConfigs","defaultConfig","configs","c1","c2","createFastMemoizeCache","IntlMessageFormat","overrideFormats","defaultLocale","formatterCache","pluralRules","ast","resolvedOptions","locale","NumberFormat","supportedLocalesOf","getAst","__parse","DateTimeFormat","defineProperty","memoizedDefaultLocale","enumerable","configurable","integer","percent","short","medium","long","full","E","u","g","w","some","h","y","O","fallbackLocale","loadingDelay","scientific","engineering","compactLong","compactShort","warnOnMissingMessages","j","L","T","reverse","D","M","setTimeout","finally","clearTimeout","Z","C","G","J","U","H","K","Q","B","R","q","V","W","X","$locale","question","log","MessageManager","eventHandlers","show","hide","on","trigger","manager","hook","link","FitbitIdentityApi","async","registerEndPoint","fetch","method","headers","ok","response","json","redirectUrl","registerCallbackEndPoint","IdentityApi","fitbit","registerUrl","email","comfirmEmailUrl","singleMatcher","multiMatcher","decodeComponents","components","left","right","decode","encodedURI","replaceMap","customDecodeURIComponent","separator","separatorIndex","predicate","isArr","encodeFragmentIdentifier","validateArrayFormatSeparator","encode","strict","encodeURIComponent","toUpperCase","decodeComponent","keysSorter","removeHash","hashStart","extract","queryStart","parseValue","parseNumbers","trim","parseBooleans","toLowerCase","arrayFormat","arrayFormatSeparator","formatter","accumulator","includes","isEncodedArray","newValue","arrayValue","parserForArrayFormat","param","splitOnFirst","exports","shouldFilter","skipNull","skipEmptyString","keyValueSep","encoderForArrayFormat","objectCopy","url_","parseFragmentIdentifier","fragmentIdentifier","queryFromUrl","parsedQueryFromUrl","queryString","getHash","parseUrl","stringifyUrl","filterObject","exclusionFilter","messageHook","isCallback","isConfirmEmail","identityApi","registerOpen","open","buttonPush","register","authorize","confirmEmailUrl","parsed","confirmEmail","registerResponse","initialLocale","navigator","language","languages","app"],"mappings":"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GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,KACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,MC7uC7B,SAAS25B,GAAcC,GACnBA,EAAIn+B,SAAQ,SAAUywB,GAElB,UADOA,EAAG/V,SACNyW,GAAgBV,IAAOW,GAAgBX,GACvC,IAAK,IAAIjxB,KAAKixB,EAAGppB,eACNopB,EAAGppB,QAAQ7H,GAAGkb,SACrBwjB,GAAczN,EAAGppB,QAAQ7H,GAAG2B,YAG3B0vB,GAAgBJ,IAAOgB,GAAiBhB,EAAG5qB,SAG1CkrB,GAAcN,IAAOQ,GAAcR,KACzCiB,GAAmBjB,EAAG5qB,cAHf4qB,EAAG5qB,MAAM6U,SAMX8W,GAAaf,IAClByN,GAAczN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"}